########################################################################
# Events for Consorts
#
# written by Henrik Lohmander, Milla Isaksson and Mathilda Bjarnehed
########################################################################

namespace = consort_events

#Consorts from Local Noble House
#Generated on Heir creation or through Events
#The seat of the Queen's family will be assigned upon creation

#Marriage Proposal
country_event = {
	id = consort_events.1
	title = consort_events.1.t
	picture = GOOD_WITH_MONARCH_eventPicture
	
	desc = {
		trigger = {
			religion_group = christian
			NOT = { has_ruler_flag = widow_widower }
		}
		desc = consort_events.1.da #Monarch seems oblivious to offers so far.
	}
	desc = {
		trigger = {
			religion_group = christian
			has_ruler_flag = widow_widower
		}
		desc = consort_events.1.db #Help Finding a Second wife.
	}
	desc = {
		trigger = {
			religion_group = christian
		}
		desc = consort_events.1.dc #No special reason
	}
	desc = {
		trigger = {
			NOT = { religion_group = christian }
		}
		desc = consort_events.1.dd #Base text for regions where multiple spouses are the norm.
	}
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = no
		has_regency = no
		is_female = no
		is_lesser_in_union = no
		num_of_cities = 2
		government = monarchy
		has_government_attribute = queen
		NOT = { has_reform = iqta }
		NOT = { has_reform = elective_monarchy }
		NOT = { has_government_attribute = has_harem_events }
		NOT = { has_reform = mamluk_government }
		num_of_royal_marriages = 4
		NOT = { has_ruler_flag = approached_by_leading_families_of_the_realm }
		OR = {
			has_heir = no
			NOT = { heir_claim = 50 }
		}
		any_owned_province = {
			is_capital = no
			is_state = yes
			is_in_capital_area = yes
		}
		estate_influence = {
			estate = estate_nobles
			influence = 25 #Weaker than this and the Nobles won't make an offer.
		}
		estate_loyalty = {
			estate = estate_nobles
			loyalty = 40 #Less Loyal than this and the Nobles won't want to support you.
		}
	}
	
	immediate = {
		hidden_effect = {
			set_ruler_flag = approached_by_leading_families_of_the_realm
			random_owned_province = {
				limit = {
					is_capital = no
					is_state = yes
					is_in_capital_area = yes 
				}
				save_event_target_as = origin_of_queens_family
			}
		}
	}
	
	mean_time_to_happen = {
		months = 360
	}

	option = {
		name = consort_events.1.a #
		goto = origin_of_queens_family
		custom_tooltip = consort_events.1.a.tt #The Queens Family will expect special treatment.
		add_years_of_income = 0.15
		event_target:origin_of_queens_family = {
			add_province_modifier = {
				name = "domain_of_spouses_family"
				duration = -1
			}
		}
		give_estate_land_share_small = { estate = estate_nobles }
		define_consort = {
			female = yes
		}
	}
	option = {
		name = consort_events.1.b #
		add_prestige = 10
		if = {
			limit = { has_estate = estate_nobles }
			add_estate_loyalty = {
				estate = estate_nobles
				loyalty = -5
			}
		}
	}
}

#Noble Family Queen - OnAction

#Meet the in-laws
country_event = {
	id = consort_events.2
	title = consort_events.2.t
	desc = consort_events.2.d
	picture = ROYAL_COUPLE_FUTURE_eventPicture
	goto = origin_of_queens_family

	
	trigger = {
		has_dlc = "Rights of Man"
		has_foreign_consort = no
		is_lesser_in_union = no
		num_of_cities = 2
		has_consort = yes
		any_owned_province = {
			is_capital = no
			is_core = ROOT
			is_city = yes
		}
		NOT = { has_government_attribute = has_harem_events } #Not from nobility
		NOT = { has_ruler_flag = has_lowborn_consort }
		NOT = {
			any_owned_province = {
				has_province_modifier = domain_of_spouses_family
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { 
					is_capital = no
					is_core = ROOT
					is_city = yes
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					is_core = ROOT
					continent = ROOT
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					OR = {
						is_state = yes
						is_in_capital_area = yes 
					}
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					OR = {
						is_state = yes
						is_in_capital_area = yes 
					}
					development = 15
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					OR = {
						is_state = yes
						is_in_capital_area = yes 
					}
					development = 15
					culture_group = root
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					OR = {
						is_state = yes
						is_in_capital_area = yes 
					}
					development = 20
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					OR = {
						is_state = yes
						is_in_capital_area = yes 
					}
					development = 20
					culture_group = root
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					OR = {
						is_state = yes
						is_in_capital_area = yes 
					}
					development = 25
				}
				save_event_target_as = origin_of_queens_family
			}
			random_owned_province = {
				limit = {
					is_capital = no
					OR = {
						is_state = yes
						is_in_capital_area = yes 
					}
					development = 25
					culture_group = root
				}
				save_event_target_as = origin_of_queens_family
			}
		}
	}
	
	is_triggered_only = yes

	option = {
		name = consort_events.2.a #
		custom_tooltip = consort_events.2.a.tt #The Queens Family will expect special treatment.
		event_target:origin_of_queens_family = {
			add_province_modifier = {
				name = "domain_of_spouses_family"
				duration = -1
			}
		}
	}
}

#Spouses Family Wants your help
country_event = {
	id = consort_events.3
	title = consort_events.3.t
	picture = ROYAL_COUPLE_FUTURE_eventPicture
	
	desc = {
		trigger = {
			always = yes
		}
		desc = consort_events.3.d
	}
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		has_foreign_consort = no #Local Dynasty
		NOT = { has_ruler_flag = has_lowborn_consort }
		has_regency = no
		any_owned_province = {
			has_province_modifier = domain_of_spouses_family #If this has been lost they're not really powerful enough to either demand or help the ruler.
		}
	}
	
	immediate = {
		hidden_effect = {
			random_list = {
				15 = { set_country_flag = develop_seat_province }
				15 = { set_country_flag = pay_money }
				15 = { set_country_flag = pay_legitimacy_or_give_noble_influence }
				15 = { set_country_flag = kick_advisor }
				15 = { set_country_flag = pay_mil_trad }
				15 = { set_country_flag = pay_nav_trad }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 800
		modifier = {
			factor = 0.9
			OR = {
				AND = {
					has_estate = estate_nobles
					estate_influence = {
						estate = estate_nobles
						influence = 60
					}
				}
				AND = {
					NOT = { has_estate = estate_nobles }
					NOT = { legitimacy = 60 }
				}
			}
		}
		modifier = {
			factor = 0.65
			has_ruler_flag = accepted_help_from_spouses_family
		}
		modifier = {
			factor = 1.5
			has_ruler_flag = helped_spouses_family
		}
	}

	option = {
		name = consort_events.3.a #
		if = {
			limit = { has_ruler_flag = accepted_help_from_spouses_family }
			clr_ruler_flag = accepted_help_from_spouses_family
		}
		set_ruler_flag = helped_spouses_family
		trigger_switch = {
			on_trigger = has_country_flag
			develop_seat_province = {
				custom_tooltip = consort_events.3.a.tt.1
				random_owned_province = {
					limit = {
						has_province_modifier = domain_of_spouses_family
					}
					add_base_tax = 1
				}
				add_adm_power = -100 #Overpriced development
				clr_country_flag = develop_seat_province
			}
			pay_money = {
				custom_tooltip = consort_events.3.a.tt.2
				add_years_of_income = -0.25
				clr_country_flag = pay_money
			}
			pay_legitimacy_or_give_noble_influence = {
				custom_tooltip = consort_events.3.a.tt.3
				if = {
					limit = {
						has_estate = estate_nobles
					}
					add_estate_influence_modifier = {
						estate = estate_nobles
						desc = EST_VAL_FURTHERED_SPOUSES_FAMILY_NOBLES
						influence = 10
						duration = 7300
					}
				}
				if = {
					limit = {
						NOT = { has_estate = estate_nobles }
					}
					add_legitimacy = -10
					add_horde_unity = -10
				}
				clr_country_flag = pay_legitimacy_or_give_noble_influence
			}
			kick_advisor = {
				custom_tooltip = consort_events.3.a.tt.4
				kill_advisor = random
				add_adm_power = -50
				clr_country_flag = kick_advisor
				reduce_meritocracy_effect = yes
			}
			pay_mil_trad = {
				if = {
					limit = {
						army_tradition = 50
					}
					custom_tooltip = consort_events.3.a.tt.5
					add_army_tradition = -20
				}
				if = {
					limit = {
						NOT = { army_tradition = 50 } #Fallback
					}
					custom_tooltip = consort_events.3.a.tt.6b
					add_corruption = 1
				}
				clr_country_flag = pay_mil_trad
			}
			pay_nav_trad = {
				if = {
					limit = {
						OR = {
							num_of_ports = 5
							navy_tradition = 50
						}
					}
					custom_tooltip = consort_events.3.a.tt.6
					add_navy_tradition = -20
				}
				if = {
					limit = {
						NOT = { num_of_ports = 5 } #fallback
						NOT = { navy_tradition = 50 } #fallback
					}
					custom_tooltip = consort_events.3.a.tt.6b
					add_corruption = 1
				}
				clr_country_flag = pay_nav_trad
			}
		}
		custom_tooltip = consort_events.3.a.tt.0
	}
	option = {
		name = consort_events.3.b #Refuse
		custom_tooltip = consort_events.3.b.tt
		set_ruler_flag = refused_to_help_spouses_family
		add_prestige = -10
		random_owned_province = {
			limit = {
				has_province_modifier = domain_of_spouses_family
			}
			add_local_autonomy = 25
		}
		clr_country_flag = develop_seat_province
		clr_country_flag = pay_money
		clr_country_flag = pay_legitimacy_or_give_noble_influence
		clr_country_flag = kick_advisor
		clr_country_flag = pay_mil_trad
		clr_country_flag = pay_nav_trad
	}
}

#The Crown has the support of the spouses family
country_event = {
	id = consort_events.4
	title = consort_events.4.t
	desc = consort_events.4.d
	picture = KING_DOING_GREAT_eventPicture
	goto = domain_of_spouses_family_province
	
	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		has_consort = yes
		has_foreign_consort = no #Local Dynasty
		NOT = { has_ruler_flag = has_lowborn_consort }
		NOT = { has_ruler_flag = refused_to_help_consort_regents_family }
		has_regency = no
		any_owned_province = {
			has_province_modifier = domain_of_spouses_family #If this has been lost they're not really powerful enough to either demand or help the ruler.
		}
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { has_ruler_flag = helped_spouses_family }
				clr_ruler_flag = helped_spouses_family
			}
			random_owned_province = {
				limit = { has_province_modifier = domain_of_spouses_family }
				save_event_target_as = domain_of_spouses_family_province
			}
			random_list = {
				15 = { set_country_flag = in_laws_fund_development }
				15 = { set_country_flag = in_laws_provide_mil_advisor }
				15 = { set_country_flag = in_laws_provide_dip_advisor }
				15 = { set_country_flag = in_laws_provide_help_with_nobility }
				15 = { set_country_flag = in_laws_provide_adm_advisor }
				15 = { set_country_flag = in_laws_provide_money }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 600
		modifier = {
			factor = 1.5
			has_ruler_flag = accepted_help_from_spouses_family
		}
		modifier = {
			factor = 0.95
			consort_dip = 4
		}
		modifier = {
			factor = 0.95
			consort_dip = 5
		}
		modifier = {
			factor = 0.9
			consort_dip = 6
		}
		modifier = {
			factor = 0.5
			has_ruler_flag = helped_spouses_family
		}
	}

	option = {
		name = consort_events.4.a #
		set_ruler_flag = accepted_help_from_spouses_family
		trigger_switch = {
			on_trigger = has_country_flag
			in_laws_fund_development = {
				custom_tooltip = consort_events.4.a.tt.1
				random_owned_province = {
					limit = {
						is_state = yes
					}
					add_base_tax = 1
				}
				clr_country_flag = in_laws_fund_development
			}
			in_laws_provide_money = {
				custom_tooltip = consort_events.4.a.tt.2
				add_years_of_income = 0.15
				clr_country_flag = in_laws_provide_money
			}
			in_laws_provide_mil_advisor = {
				custom_tooltip = consort_events.4.a.tt.3
				if = {
					limit = {
						monthly_income = 35
					}
					define_advisor = {
						type = recruitmaster
						skill = 3
						culture = event_target:domain_of_spouses_family_province
						religion = event_target:domain_of_spouses_family_province
						discount = yes
					}
					add_meritocracy_effect = yes
				}
				if = {
					limit = { NOT = { monthly_income = 35 } }
					define_advisor = {
						type = recruitmaster
						culture = event_target:domain_of_spouses_family_province
						religion = event_target:domain_of_spouses_family_province
						skill = 2
						discount = yes
					}
					add_meritocracy_effect = yes
				}
				clr_country_flag = in_laws_provide_mil_advisor
			}
			in_laws_provide_dip_advisor = {
				custom_tooltip = consort_events.4.a.tt.4
				if = {
					limit = {
						monthly_income = 35
					}
					define_advisor = {
						type = trader
						culture = event_target:domain_of_spouses_family_province
						religion = event_target:domain_of_spouses_family_province
						skill = 3
						discount = yes
					}
					add_meritocracy_effect = yes
				}
				if = {
					limit = { NOT = { monthly_income = 35 } }
					define_advisor = {
						type = trader
						culture = event_target:domain_of_spouses_family_province
						religion = event_target:domain_of_spouses_family_province
						skill = 2
						discount = yes
					}
					add_meritocracy_effect = yes
				}
			}
			in_laws_provide_help_with_nobility = {
				custom_tooltip = consort_events.4.a.tt.5
				if = {
					limit = {
						has_estate = estate_nobles
					}
					add_estate_loyalty = {
						estate = estate_nobles
						loyalty = 10
					}
				}
				if = {
					limit = {
						NOT = { has_estate = estate_nobles }
					}
					add_legitimacy = 10
					add_horde_unity = 10
				}
				clr_country_flag = in_laws_provide_help_with_nobility
			}
			in_laws_provide_adm_advisor = {
				custom_tooltip = consort_events.4.a.tt.6
				if = {
					limit = {
						monthly_income = 35
					}
					define_advisor = {
						type = natural_scientist
						culture = event_target:domain_of_spouses_family_province
						religion = event_target:domain_of_spouses_family_province
						skill = 3
						discount = yes
					}
					add_meritocracy_effect = yes
				}
				if = {
					limit = { NOT = { monthly_income = 35 } }
					define_advisor = {
						type = natural_scientist
						culture = event_target:domain_of_spouses_family_province
						religion = event_target:domain_of_spouses_family_province
						skill = 2
						discount = yes
					}
					add_meritocracy_effect = yes
				}
				clr_country_flag = pay_nav_trad
			}
		}
		custom_tooltip = consort_events.4.a.tt.0
	}
	option = {
		name = consort_events.4.b #Refuse
		add_prestige = 5
		custom_tooltip = consort_events.4.b.tt
	}
}

#Family First?
country_event = {
	id = consort_events.5
	title = consort_events.5.t
	desc = consort_events.5.d
	picture = DIPLOMACY_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		NOT = { has_ruler_flag = has_lowborn_consort }
		has_consort_regency = yes
		any_owned_province = {
			has_province_modifier = domain_of_spouses_family #If this has been lost they're not really powerful enough to either demand or help the ruler.
		}
	}
	
	immediate = {
		hidden_effect = {
			random_list = {
				15 = { set_country_flag = develop_seat_province }
				15 = { set_country_flag = pay_money }
				15 = { set_country_flag = pay_legitimacy_or_give_noble_influence }
				15 = { set_country_flag = kick_advisor }
				15 = { set_country_flag = pay_mil_trad }
				15 = { set_country_flag = pay_nav_trad }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 500
	}

	option = {
		name = consort_events.5.a #
		if = {
			limit = { has_ruler_flag = accepted_help_from_spouses_family }
			clr_ruler_flag = accepted_help_from_spouses_family
		}
		if = {
			limit = { has_ruler_flag = refused_to_help_consort_regents_family }
			clr_ruler_flag = refused_to_help_consort_regents_family
		}
		set_ruler_flag = helped_spouses_family
		trigger_switch = {
			on_trigger = has_country_flag
			develop_seat_province = {
				custom_tooltip = consort_events.3.a.tt.1
				random_owned_province = {
					limit = {
						has_province_modifier = domain_of_spouses_family
					}
					add_base_tax = 1
					add_base_production = 1
				}
				add_adm_power = -70 #Overpriced development
				add_dip_power = -70 #Overpriced development
				clr_country_flag = develop_seat_province
			}
			pay_money = {
				custom_tooltip = consort_events.3.a.tt.2
				add_years_of_income = -0.35
				clr_country_flag = pay_money
			}
			pay_legitimacy_or_give_noble_influence = {
				custom_tooltip = consort_events.3.a.tt.3
				if = {
					limit = {
						has_estate = estate_nobles
					}
					add_estate_influence_modifier = {
						estate = estate_nobles
						desc = EST_VAL_FURTHERED_SPOUSES_FAMILY_NOBLES
						influence = 15
						duration = 7300
					}
				}
				if = {
					limit = {
						NOT = { has_estate = estate_nobles }
					}
					add_prestige = -10
				}
				clr_country_flag = pay_legitimacy_or_give_noble_influence
			}
			kick_advisor = {
				custom_tooltip = consort_events.3.a.tt.4
				kill_advisor = random
				add_adm_power = -75
				clr_country_flag = kick_advisor
				reduce_meritocracy_effect = yes
			}
			pay_mil_trad = {
				if = {
					limit = {
						army_tradition = 50
					}
					custom_tooltip = consort_events.3.a.tt.5
					add_army_tradition = -25
				}
				if = {
					limit = {
						NOT = { army_tradition = 50 } #Fallback
					}
					custom_tooltip = consort_events.3.a.tt.6b
					add_corruption = 1
				}
				clr_country_flag = pay_mil_trad
			}
			pay_nav_trad = {
				if = {
					limit = {
						OR = {
							num_of_ports = 5
							navy_tradition = 50
						}
					}
					custom_tooltip = consort_events.3.a.tt.6
					add_navy_tradition = -25
				}
				if = {
					limit = {
						NOT = { num_of_ports = 5 } #fallback
						NOT = { navy_tradition = 50 } #fallback
					}
					custom_tooltip = consort_events.3.a.tt.6b
					add_corruption = 1
				}
				clr_country_flag = pay_nav_trad
			}
		}
		custom_tooltip = consort_events.3.a.tt.0
	}
	option = {
		name = consort_events.5.b #Refuse
		custom_tooltip = consort_events.5.b.tt
		set_ruler_flag = refused_to_help_consort_regents_family
		add_prestige = -10
		random_owned_province = {
			limit = {
				has_province_modifier = domain_of_spouses_family
			}
			add_local_autonomy = 35
		}
		clr_country_flag = develop_seat_province
		clr_country_flag = pay_money
		clr_country_flag = pay_legitimacy_or_give_noble_influence
		clr_country_flag = kick_advisor
		clr_country_flag = pay_mil_trad
		clr_country_flag = pay_nav_trad
	}
}

#Lowborn consort, marriage for love
country_event = {
	id = consort_events.6
	title = consort_events.6.t
	desc = consort_events.6.d
	picture = ROYAL_COUPLE_FUTURE_eventPicture

	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		has_consort = no
		has_regency = no
		num_of_cities = 2
		government = monarchy
		has_government_attribute = queen
		NOT = { has_government_attribute = has_harem_events }
		NOT = { has_reform = mamluk_government }
		NOT = { has_reform = iqta }
		NOT = { has_reform = elective_monarchy }
		NOT = { has_ruler_flag = turned_down_marriage_offer_for_love }
	}

	mean_time_to_happen = {
		months = 1200

		modifier = {
			factor = 4
			OR = {
				ruler_has_personality = malevolent_personality
				ruler_has_personality = naive_personality
				ruler_has_personality = cruel_personality
				ruler_has_personality = infertile_personality
				ruler_has_personality = babbling_buffoon_personality
			}
		}
		modifier = {
			factor = 1.2
			OR = {
				ruler_has_personality_ancestor = { key = charismatic_negotiator }
				ruler_has_personality_ancestor = { key = silver_tongue }
				ruler_has_personality_ancestor = { key = well_connected }
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				ruler_has_personality_ancestor = { key = kind_hearted }
				ruler_has_personality_ancestor = { key = benevolent }
			}
		}
		modifier = {
			factor = 0.9
			OR = {
				ruler_has_personality = sinner_personality
				ruler_has_personality = drunkard_personality
			}
		}
	}

	immediate = {
		hidden_effect = { 
			random_owned_province = {
				limit = { is_capital = no }
				save_event_target_as = consort_home
			}
		}
	}

	#Yes to lowborn consort
	option = {
		name = consort_events.6.a 
		goto = consort_home
		set_ruler_flag = has_lowborn_consort #Before creating the consort!
		define_consort = { }
		add_ruler_modifier = { 
			name = consort_of_the_people
		}
		event_target:consort_home = {
			add_province_modifier = {
				name = home_of_consort
				duration = -1
			}
		}
		capital_scope = {
			add_province_modifier = {
				name = nobles_displeased_with_consort
				duration = 3650
			}
		}
		add_prestige = -20
		add_legitimacy = -20
	}

	#No to lowborn consort 
	option = {
		name = consort_events.6.b 
		set_ruler_flag = turned_down_marriage_offer_for_love
	}
}

#Consort of Foreign Dynasty
#Reserved 51 - 100

# A Visit from the Consort's Family
country_event = {
	id = consort_events.51
	title = consort_events.51.t
	picture = KING_DOING_GREAT_eventPicture
	
	desc = {
		trigger = {
			can_heir_be_child_of_consort = yes
			NOT = { has_reform = elective_monarchy }
		}
		desc = consort_events.51.da # The heir is spitting image of consort
	}
	desc = {
		trigger = {
			OR = {
				has_heir = no
				can_heir_be_child_of_consort = no
				has_reform = elective_monarchy
			}
		}
		desc = consort_events.51.db # They have a great time
	}
	
	
	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		has_consort = yes
		has_foreign_consort = yes
		NOT = { has_government_attribute = has_harem_events }
		any_country = {
			has_given_consort_to = ROOT
			exists = yes
		}
		NOT = { has_ruler_flag = approached_by_consorts_foreign_family }
	}
	
	immediate = {
		hidden_effect = {
			set_ruler_flag = approached_by_consorts_foreign_family
			
			random_known_country = {
				limit = {
					has_given_consort_to = ROOT
				}
				save_event_target_as = origin_country_of_consort
			}
		}
	}
	
	mean_time_to_happen = {
		months = 360
	}

	option = {
		name = consort_events.51.a # This is what kin means
		custom_tooltip = consort_events.51.a.tt #The Consort's family will hear of the plesantries
		add_dip_power = 10

		event_target:origin_country_of_consort = {
			add_opinion = {
				who = ROOT
				modifier = we_are_kin
			}
		}
	}
}

# People don't like the infidel Consort
country_event = {
	id = consort_events.52
	title = consort_events.52.t
	desc = consort_events.52.da
	picture = KINGS_CHOICE_eventPicture
		
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		NOT = { has_country_modifier = heretic_royalty }
		NOT = { religion = tengri_pagan_reformed }
		NOT = { religion = confucianism }
		NOT = { has_government_attribute = has_harem_events }
		any_country = {
			has_given_consort_to = ROOT
			NOT = { religion = ROOT }
			root = {
				consort_religion = prev
			}
		}
		NOT = { has_consort_flag = the_people_dislike_infidel_consort }
	}
	
	immediate = {
		hidden_effect = {
			set_consort_flag = the_people_dislike_infidel_consort
			
			random_known_country = {
				limit = {
					has_given_consort_to = ROOT
					NOT = { religion = ROOT }
				}
				save_event_target_as = origin_country_of_consort
			}
		}
	}
	
	mean_time_to_happen = {
		months = 360
	}

	option = {
		name = consort_events.52.a # The Consort is beyond reproach
		custom_tooltip = consort_events.52.a.tt

		add_country_modifier = {
			name = "heretic_royalty"
			duration = 3650
		}
	}
	option = {
		name = consort_events.52.b # Attempt divorce
		custom_tooltip = consort_events.52.b.tt

		divorce_consort_effect = yes
	}
}

# Advisor doesn't trust the foreign consort
country_event = {
	id = consort_events.53
	title = consort_events.53.t
	desc = consort_events.53.d
	picture = KINGS_CHOICE_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_regency = no
		has_consort = yes
		is_lesser_in_union = no
		NOT = { has_government_attribute = has_harem_events }
		any_country = {
			has_given_consort_to = ROOT
			OR = {
				war_with = ROOT
				is_rival = ROOT
				is_enemy = ROOT
			}
		}
		has_mil_advisor = yes

		NOT = { has_ruler_modifier = without_spouse_advice }
	}
	
	immediate = {
		hidden_effect = {
			random_known_country = {
				limit = {
					has_given_consort_to = ROOT
				}
				save_event_target_as = origin_country_of_consort
			}
		}
	}
	
	mean_time_to_happen = {
		months = 360
	}

	option = {
		name = consort_events.53.a # The Consort has our trust
		custom_tooltip = consort_events.53.a.tt
		add_adm_power = -35
		reduce_meritocracy_effect = yes
		if = {
			limit = {
				advisor = army_organiser
			}
			remove_advisor = army_organiser
		}
		if = {
			limit = {
				advisor = army_reformer
			}
			remove_advisor = army_reformer
		}
		if = {
			limit = {
				advisor = commandant
			}
			remove_advisor = commandant
		}
		if = {
			limit = {
				advisor = grand_captain
			}
			remove_advisor = grand_captain
		}
		if = {
			limit = {
				advisor = recruitmaster
			}
			remove_advisor = recruitmaster
		}
		if = {
			limit = {
				advisor = fortification_expert
			}
			remove_advisor = fortification_expert
		}
		if = {
			limit = {
				advisor = quartermaster
			}
			remove_advisor = quartermaster
		}
	}

	option = {
		name = consort_events.53.b # The ruler openly doubt their consort
		custom_tooltip = consort_events.53.b.tt
		add_ruler_modifier = {
			name = "without_spouse_advice"
			duration = 1825
		}
	}
}

# Consort has great skills
country_event = {
	id = consort_events.54
	title = consort_events.54.t
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		NOT = { has_government_attribute = has_harem_events }
		OR = {
			consort_dip = 5
			consort_adm = 5
			consort_mil = 5
		}
		NOT = { has_ruler_modifier = without_spouse_advice }
		NOT = { has_country_modifier = consort_adm_advice }
		NOT = { has_country_modifier = consort_dip_advice }
		NOT = { has_country_modifier = consort_mil_advice }
	}

	picture = {
		trigger = { has_female_consort = yes }
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	picture = {
		trigger = { has_female_consort = no }
		picture = BABBLING_BAFFOON_eventPicture
	}

	desc = {
		trigger = {
			has_ruler_flag = high_adm
		}
		desc = consort_events.54.da # ADM highest
	}
	desc = {
		trigger = {
			has_ruler_flag = high_dip
		}
		desc = consort_events.54.db # DIP highest
	}
	desc = {
		trigger = {
			has_ruler_flag = high_mil
		}
		desc = consort_events.54.dc # MIL highest
	}
	desc = {
		trigger = {
			NOT = {
				has_ruler_flag = high_adm
				has_ruler_flag = high_dip
				has_ruler_flag = high_mil
			}
		}
		desc = consort_events.54.dd # even stats or N/A
	}

	immediate = {
		hidden_effect = {

			export_to_variable = {
				which = consort_admVar
				value = consort_adm
			}
			export_to_variable = {
				which = consort_dipVar
				value = consort_dip
			}
			export_to_variable = {
				which = consort_milVar
				value = consort_mil
			}

			if = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = consort_milVar
								which = consort_admVar
							}
							NOT = {
								check_variable = {
									which = consort_admVar
									which = consort_milVar
								}
							}
							check_variable = {
								which = consort_milVar
								which = consort_dipVar
							}
							NOT = {
								check_variable = {
									which = consort_dipVar
									which = consort_milVar
								}
							}
						}
						AND = {
							check_variable = {
								which = consort_milVar
								which = consort_admVar
							}
							NOT = {
								check_variable = {
									which = consort_admVar
									which = consort_milVar
								}
							}
							check_variable = {
								which = consort_milVar
								which = consort_dipVar
							}
						}
						AND = {
							check_variable = {
								which = consort_milVar
								which = consort_dipVar
							}
							NOT = {
								check_variable = {
									which = consort_dipVar
									which = consort_milVar
								}
							}
							check_variable = {
								which = consort_milVar
								which = consort_admVar
							}
						}
					}
				}
				set_ruler_flag = high_mil
			}
			if = {
				limit = {
					OR = {
						AND = {
							check_variable = {
								which = consort_admVar
								which = consort_dipVar
							}
							NOT = {
								check_variable = {
									which = consort_dipVar
									which = consort_admVar
								}
							}
							check_variable = {
								which = consort_admVar
								which = consort_milVar
							}
							NOT = {
								check_variable = {
									which = consort_milVar
									which = consort_admVar
								}
							}
						}
						AND = {
							check_variable = {
								which = consort_admVar
								which = consort_dipVar
							}
							check_variable = {
								which = consort_admVar
								which = consort_milVar
							}
							NOT = {
								check_variable = {
									which = consort_milVar
									which = consort_admVar
								}
							}
						}
					}
				}
				set_ruler_flag = high_adm
			}
			if = {
				limit = {
					check_variable = {
						which = consort_dipVar
						which = consort_admVar
					}
					NOT = {
						check_variable = {
							which = consort_admVar
							which = consort_dipVar
						}
					}
					check_variable = {
						which = consort_dipVar
						which = consort_milVar
					}
					NOT = {
						check_variable = {
							which = consort_milVar
							which = consort_dipVar
						}
					}
				}
				set_ruler_flag = high_dip
			}
		}
	}
	
	mean_time_to_happen = {
		months = 600
	}

	option = {
		name = consort_events.54.a # High adm - will be prioritized in case of adm and dip being even
		
		add_country_modifier = {
			name = "consort_adm_advice"
			duration = 7300
		}
		clr_ruler_flag = high_adm
		
		trigger = {
			has_ruler_flag = high_adm
		}
	}

	option = {
		name = consort_events.54.b # High dip
		
		add_country_modifier = {
			name = "consort_dip_advice"
			duration = 7300
		}
		clr_ruler_flag = high_dip
		
		trigger = {
			has_ruler_flag = high_dip
		}
	}
	option = {
		name = consort_events.54.c # High mil - will be prioritized in case mil and any other stat being even
		
		add_country_modifier = {
			name = "consort_mil_advice"
			duration = 7300
		}
		clr_ruler_flag = high_mil

		trigger = {
			has_ruler_flag = high_mil
		}
	}
	option = {
		name = consort_events.54.d # Fallback/all stats are even

		random_list = {
			30 = {
				add_country_modifier = {
					name = "consort_adm_advice"
					duration = 7300
				}
			}
			30 = {
				add_country_modifier = {
					name = "consort_dip_advice"
					duration = 7300
				}
			}
			30 = {
				add_country_modifier = {
					name = "consort_mil_advice"
					duration = 7300
				}
			}
		}		

		clr_ruler_flag = high_adm
		clr_ruler_flag = high_dip
		clr_ruler_flag = high_mil

		trigger = {
			NOT = {
				has_ruler_flag = high_adm
				has_ruler_flag = high_dip
				has_ruler_flag = high_mil
			}
		}
	}
}

# Consort is unhappy in their new country
country_event = {
	id = consort_events.55
	title = consort_events.55.t
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		NOT = { has_government_attribute = has_harem_events }
		has_foreign_consort = yes
		NOT = { has_consort_regency = yes }
		ruler_consort_marriage_length = 2
		NOT = { has_consort_flag = consort_was_thrown_party }
		NOT = { has_consort_flag = no_party_for_consort }
		any_country = {
			has_given_consort_to = ROOT
		}
	}

	picture = {
		trigger = { has_dlc = "Women in History" has_female_consort = yes }
		picture = wihgfx_FEMALES_eventPicture
	}
	picture = {
		trigger = { NOT = { has_dlc = "Women in History" } }
		picture = CONSORT_DOING_BADLY_eventPicture
	}

	
	immediate = {
		hidden_effect = {
			random_known_country = {
				limit = {
					has_given_consort_to = ROOT
				}
				save_event_target_as = origin_country_of_consort
			}
		}
	}

	desc = {
		trigger = {
			event_target:origin_country_of_consort = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					war_with = ROOT
				}
			}
			has_heir = yes
			can_heir_be_child_of_consort = yes
		}
		desc = consort_events.55.da # RIVAL/ENEMY, heir is their child
	}
	desc = {
		trigger = {
			event_target:origin_country_of_consort = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					war_with = ROOT
				}
			}
			has_heir = no
		}
		desc = consort_events.55.db # RIVAL/ENEMY, no child
	}
	desc = {
		trigger = {
			event_target:origin_country_of_consort = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					war_with = ROOT
				}
			}
			has_heir = yes
			can_heir_be_child_of_consort = no
		}
		desc = consort_events.55.dc # RIVAL/ENEMY, heir is NOT their child
	}
	desc = {
		trigger = { 
			NOT = {
				event_target:origin_country_of_consort = {
					OR = {
						is_rival = ROOT
						is_enemy = ROOT
						war_with = ROOT
					}
				}
			}
			has_heir = yes
			can_heir_be_child_of_consort = yes
		}
		desc = consort_events.55.dd # NOT RIVAL/ENEMY, heir is their child
	}
	desc = {
		trigger = { 
			NOT = {
				event_target:origin_country_of_consort = {
					OR = {
						is_rival = ROOT
						is_enemy = ROOT
						war_with = ROOT
					}
				}
			}
			has_heir = no
		}
		desc = consort_events.55.de # NOT RIVAL/ENEMY, no heir
	}
	desc = {
		trigger = { 
			NOT = {
				event_target:origin_country_of_consort = {
					OR = {
						is_rival = ROOT
						is_enemy = ROOT
						war_with = ROOT
					}
				}
			}
			has_heir = yes
			can_heir_be_child_of_consort = no
		}
		desc = consort_events.55.df # NOT RIVAL/ENEMY, heir is NOT their child
	}

	mean_time_to_happen = {
		months = 360
	}

	option = { # throw the consort a feast!
		name = consort_events.55.a
		custom_tooltip = consort_events.55.a.tt
		add_adm_power = -35
		add_treasury = -25

		hidden_effect = {
			set_consort_flag = consort_was_thrown_party
			country_event = { id = consort_events.60 days = 180 }
		}
	}

	option = { # the consort will get used to their new life eventually
		name = consort_events.55.b
		custom_tooltip = consort_events.55.b.tt
		set_consort_flag = no_party_for_consort
	}
}

#Country asks another country's consort of their dynasty for favors
country_event = {
	id = consort_events.56
	title = consort_events.56.t
	desc = consort_events.56.d
	picture = ROYAL_COUPLE_FUTURE_eventPicture

	trigger = {
		has_dlc = "Rights of Man"
		NOT = { has_government_attribute = has_harem_events }
		has_regency = no
		any_country = {
			marriage_with = ROOT
			has_consort = yes 
			has_consort_regency = no
			has_foreign_consort = yes
			is_origin_of_consort = ROOT
		}

		OR = {
			NOT = { has_ruler_flag = asked_foreign_in_laws_for_help }
			had_ruler_flag = { flag = asked_foreign_in_laws_for_help days = 7300 }
		}
		OR = {
			num_of_loans = 1
			NOT = { treasury = 100 }
			NOT = { manpower_percentage = 0.7 }
		}
	}

	mean_time_to_happen = {
		months = 250
	}

	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					marriage_with = ROOT
					has_consort = yes
					has_consort_regency = no
					has_foreign_consort = yes
					is_origin_of_consort = ROOT
				}
				save_event_target_as = marriage_partner
			}	
		}
	}

	#Money
	option = {
		trigger = { 
			OR = {
				num_of_loans = 1
				NOT = { treasury = 100 }
			}
		}
		name = consort_events.56.a 
		custom_tooltip = consort_events.56.a.tt

		set_ruler_flag = asked_foreign_in_laws_for_help
		set_country_flag = asked_consort_for_money
		event_target:marriage_partner = { country_event = { id = consort_events.57 days = 30 } }
	}

	#Adm
	option = {
		trigger = { NOT = { adm_power = 500 } }
		name = consort_events.56.b 
		custom_tooltip = consort_events.56.b.tt

		set_ruler_flag = asked_foreign_in_laws_for_help
		set_country_flag = asked_consort_for_adm
		event_target:marriage_partner = { country_event = { id = consort_events.57 days = 30 } }
	}

	#Dip
	option = {
		trigger = { NOT = { dip_power = 500 } }
		name = consort_events.56.c
		custom_tooltip = consort_events.56.c.tt

		set_ruler_flag = asked_foreign_in_laws_for_help
		set_country_flag = asked_consort_for_dip
		event_target:marriage_partner = { country_event = { id = consort_events.57 days = 30 } }
	}

	#Mil
	option = {
		trigger = { NOT = { mil_power = 500 } }
		name = consort_events.56.e
		custom_tooltip = consort_events.56.e.tt

		set_ruler_flag = asked_foreign_in_laws_for_help
		set_country_flag = asked_consort_for_mil
		event_target:marriage_partner = { country_event = { id = consort_events.57 days = 30 } }
	}

	#Manpower
	option = {
		trigger = {
			NOT = { manpower_percentage = 0.7 }
			event_target:marriage_partner = {
				manpower_percentage = 0.1
				manpower = 1
			}
		} 
		name = consort_events.56.f 
		custom_tooltip = consort_events.56.f.tt

		set_ruler_flag = asked_foreign_in_laws_for_help
		set_country_flag = asked_consort_for_manpower
		event_target:marriage_partner = { country_event = { id = consort_events.57 days = 30 } }
	}

	#No
	option = {
		name = consort_events.56.g 

		add_prestige = 10
	}
}

#Consort new home country receives request 
country_event = {
	id = consort_events.57
	title = consort_events.57.t

	picture = {
		trigger = { has_female_consort = yes }
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	picture = {
		trigger = { has_female_consort = no }
		picture = BABBLING_BAFFOON_eventPicture
	}

	desc = {
		trigger = { FROM = { has_country_flag = asked_consort_for_money } }
		desc = consort_events.57.da
	}
	desc = {
		trigger = { FROM = { has_country_flag = asked_consort_for_adm } }
		desc = consort_events.57.db
	}
	desc = {
		trigger = { FROM = { has_country_flag = asked_consort_for_dip } }
		desc = consort_events.57.dc
	}
	desc = {
		trigger = { FROM = { has_country_flag = asked_consort_for_mil } }
		desc = consort_events.57.dd
	}
	desc = {
		trigger = { FROM = { has_country_flag = asked_consort_for_manpower } }
		desc = consort_events.57.de
	}

	trigger = {
		#get rid of fringe case where consort dies in intervening 30 days
		marriage_with = FROM
		has_consort = yes
		has_consort_regency = no
		has_foreign_consort = yes
		is_origin_of_consort = FROM
	}

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { FROM = { has_country_flag = asked_consort_for_money } }
				export_to_variable = { which = money_to_give value = monthly_income who = ROOT }
				multiply_variable = { which = money_to_give value = 6 }
				export_to_variable = { which = money_available value = treasury who = ROOT }

				if = { 
					limit = { check_variable = { which = money_to_give which = money_available } }
					set_variable = { which = money_to_give which = money_available }
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { FROM = { has_country_flag = asked_consort_for_manpower } }
				if = {
					limit = { manpower_percentage = 0.2 }

					export_to_variable = { which = our_manpower value = max_manpower who = ROOT }
					multiply_variable = { which = our_manpower value = 0.2 }
				}

				if = {
					limit = { NOT = { manpower_percentage = 0.2 } }

					export_to_variable = { which = our_manpower value = manpower who = ROOT }
				}

				export_to_variable = { which = their_manpower_need value = max_manpower who = FROM }
				export_to_variable = { which = their_manpower value = manpower who = FROM }
				subtract_variable = { which = their_manpower_need which = their_manpower }

				if = { 
					limit = { check_variable = { which = our_manpower which = their_manpower_need } }
					set_variable = { which = manpower_to_send which = their_manpower_need }
				}
				if = { 
					limit = { NOT = { check_variable = { which = our_manpower which = their_manpower_need } } }
					set_variable = { which = manpower_to_send which = our_manpower }
				}
			}
		}
	}

	#Yes, money
	option = {
		trigger = { FROM = { has_country_flag = asked_consort_for_money } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				has_opinion = { who = FROM value = 150 }
			}
			modifier = {
				factor = 0.5
				NOT = { has_opinion = { who = FROM value = 100 } }
			}
			modifier = {
				factor = 0
				NOT = { has_opinion = { who = FROM value = 50 } }
			}
		}
		name = consort_events.57.a

		#Send 10
		if = {
			limit = { 
				NOT = { check_variable = { which = money_to_give value = 25 } }
			}
			add_treasury = -10
		}
		#Send 25
		if = {
			limit = { 
				check_variable = { which = money_to_give value = 25 }
				NOT = { check_variable = { which = money_to_give value = 50 } }
			}
			add_treasury = -25
		}
		#Send 50
		if = {
			limit = { 
				check_variable = { which = money_to_give value = 50 }
				NOT = { check_variable = { which = money_to_give value = 100 } }
			}
			add_treasury = -50
		}
		#Send 100
		if = {
			limit = { 
				check_variable = { which = money_to_give value = 100 }
				NOT = { check_variable = { which = money_to_give value = 250 } }
			}
			add_treasury = -100
		}
		#Send 250
		if = {
			limit = { 
				check_variable = { which = money_to_give value = 250 }
			}
			add_treasury = -250
		}
		FROM = { country_event = { id = consort_events.58 days = 5 } } 
		reverse_add_opinion = {
			who = FROM
			modifier = grateful_for_aid
		}
	}
	#Yes, adm
	option = {
		trigger = { FROM = { has_country_flag = asked_consort_for_adm } }
		name = consort_events.57.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				has_opinion = { who = FROM value = 150 }
			}
			modifier = {
				factor = 0.5
				NOT = { has_opinion = { who = FROM value = 100 } }
			}
			modifier = {
				factor = 0
				NOT = { has_opinion = { who = FROM value = 50 } }
			}
		}
		add_adm_power = -25

		FROM = { country_event = { id = consort_events.58 days = 5 } } 

		reverse_add_opinion = {
			who = FROM
			modifier = grateful_for_aid
		}
	}
	#Yes, dip
	option = {
		trigger = { FROM = { has_country_flag = asked_consort_for_dip } }
		name = consort_events.57.c
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				has_opinion = { who = FROM value = 150 }
			}
			modifier = {
				factor = 0.5
				NOT = { has_opinion = { who = FROM value = 100 } }
			}
			modifier = {
				factor = 0
				NOT = { has_opinion = { who = FROM value = 50 } }
			}
		}
		add_dip_power = -25

		FROM = { country_event = { id = consort_events.58 days = 5 } } 

		reverse_add_opinion = {
			who = FROM
			modifier = grateful_for_aid
		}
	}
	#Yes, mil
	option = {
		trigger = { FROM = { has_country_flag = asked_consort_for_mil } }
		name = consort_events.57.d
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				has_opinion = { who = FROM value = 150 }
			}
			modifier = {
				factor = 0.5
				NOT = { has_opinion = { who = FROM value = 100 } }
			}
			modifier = {
				factor = 0
				NOT = { has_opinion = { who = FROM value = 50 } }
			}
		}
		add_mil_power = -25

		FROM = { country_event = { id = consort_events.58 days = 5 } } 

		reverse_add_opinion = {
			who = FROM
			modifier = grateful_for_aid
		}
	}
	#Yes, manpower
	option = {
		trigger = { FROM = { has_country_flag = asked_consort_for_manpower } }
		name = consort_events.57.e
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				has_opinion = { who = FROM value = 150 }
			}
			modifier = {
				factor = 0.5
				NOT = { has_opinion = { who = FROM value = 100 } }
			}
			modifier = {
				factor = 0
				NOT = { has_opinion = { who = FROM value = 50 } }
			}
			modifier = {
				factor = 0
				NOT = { max_manpower = 10 }
			}
		}
		#Send 100
		if = {
			limit = { 
				#check_variable = { which = manpower_to_send value = 0.1 }
				NOT = { check_variable = { which = manpower_to_send value = 0.5 } }
			}
			add_manpower = -0.1
		}
		#Send 500
		if = {
			limit = { 
				check_variable = { which = manpower_to_send value = 0.5 } 
				NOT = { check_variable = { which = manpower_to_send value = 1 } }
			}
			add_manpower = -0.5
		}
		#Send 1000
		if = {
			limit = { 
				check_variable = { which = manpower_to_send value = 1 }
				NOT = { check_variable = { which = manpower_to_send value = 2.5 } }
			}
			add_manpower = -1
		}
		#Send 2500
		if = {
			limit = { 
				check_variable = { which = manpower_to_send value = 2.5 }
				NOT = { check_variable = { which = manpower_to_send value = 5 } }
			}
			add_manpower = -2.5
		}
		#Send 5000
		if = {
			limit = { 
				check_variable = { which = manpower_to_send value = 5 }
			}
			add_manpower = -5
		}

		FROM = { country_event = { id = consort_events.58 days = 5 } }

		reverse_add_opinion = {
			who = FROM
			modifier = grateful_for_aid
		}
	}
	#No!
	option = {
		name = consort_events.57.f
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10.0
				NOT = { has_opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 0.5
				NOT = { has_opinion = { who = FROM value = 100 } }
			}
			modifier = {
				factor = 0
				has_opinion = { who = FROM value = 150 }
			}
		}
		reverse_add_opinion = {
			who = FROM
			modifier = denied_aid
		}
		add_opinion = {
			who = FROM
			modifier = outrageous_demands
		}

		FROM = { country_event = { id = consort_events.59 days = 5 } } 
	}
}
	
#Recieved aid	
country_event = {
	id = consort_events.58
	title = consort_events.58.t
	picture = GOOD_WITH_MONARCH_eventPicture

	desc = {
		trigger = { has_country_flag = asked_consort_for_money }
		desc = consort_events.58.da
	}
	desc = {
		trigger = { has_country_flag = asked_consort_for_adm }
		desc = consort_events.58.db
	}
	desc = {
		trigger = { has_country_flag = asked_consort_for_dip }
		desc = consort_events.58.dc
	}
	desc = {
		trigger = { has_country_flag = asked_consort_for_mil }
		desc = consort_events.58.dd
	}
	desc = {
		trigger = { has_country_flag = asked_consort_for_manpower }
		desc = consort_events.58.de
	}

	trigger = {
		#get rid of fringe case where consort dies in intervening 5 days
		FROM = {
			marriage_with = ROOT
			has_consort = yes
			has_consort_regency = no
			has_foreign_consort = yes
			is_origin_of_consort = ROOT
		}
	}
	
	is_triggered_only = yes

	option = {
		name = consort_events.58.a

		if = {
			limit = { has_country_flag = asked_consort_for_money }

			FROM = {
				#Receive 10
				if = {
					limit = { 
						NOT = { check_variable = { which = money_to_give value = 25 } }
					}
					ROOT = { add_treasury = 10 }
				}
				#Receive 25
				if = {
					limit = { 
						check_variable = { which = money_to_give value = 25 }
						NOT = { check_variable = { which = money_to_give value = 50 } }
					}
					ROOT = { add_treasury = 25 }
				}
				#Receive 50
				if = {
					limit = { 
						check_variable = { which = money_to_give value = 50 }
						NOT = { check_variable = { which = money_to_give value = 100 } }
					}
					ROOT = { add_treasury = 50 }
				}
				#Receive 100
				if = {
					limit = { 
						check_variable = { which = money_to_give value = 100 }
						NOT = { check_variable = { which = money_to_give value = 250 } }
					}
					ROOT = { add_treasury = 100 }
				}
				#Receive 250
				if = {
					limit = { 
						check_variable = { which = money_to_give value = 250 }
					}
					ROOT = { add_treasury = 250 }
				}
			}

			clr_country_flag = asked_consort_for_money
		}
		if = {
			limit = { has_country_flag = asked_consort_for_adm }

			add_adm_power = 25

			clr_country_flag = asked_consort_for_adm
		}
		if = {
			limit = { has_country_flag = asked_consort_for_dip }

			add_dip_power = 25

			clr_country_flag = asked_consort_for_dip
		}
		if = {
			limit = { has_country_flag = asked_consort_for_mil }

			add_mil_power = 25

			clr_country_flag = asked_consort_for_mil
		}
		if = {
			limit = { has_country_flag = asked_consort_for_manpower }

			FROM = {
				#Receive 100
				if = {
					limit = { 
						check_variable = { which = manpower_to_send value = 0.1 }
						NOT = { check_variable = { which = manpower_to_send value = 0.5 } }
					}
					ROOT = { add_manpower = 0.1 }
				}
				#Receive 500
				if = {
					limit = { 
						check_variable = { which = manpower_to_send value = 0.5 } 
						NOT = { check_variable = { which = manpower_to_send value = 1 } }
					}
					ROOT = { add_manpower = 0.5 }
				}
				#Receive 1000
				if = {
					limit = { 
						check_variable = { which = manpower_to_send value = 1 }
						NOT = { check_variable = { which = manpower_to_send value = 2.5 } }
					}
					ROOT = { add_manpower = 1 }
				}
				#Receive 2500
				if = {
					limit = { 
						check_variable = { which = manpower_to_send value = 2.5}
						NOT = { check_variable = { which = manpower_to_send value = 5 } }
					}
					ROOT = { add_manpower = 2.5 }
				}
				#Receive 5000
				if = {
					limit = { 
						check_variable = { which = manpower_to_send value = 5 }
					}
					ROOT = { add_manpower = 5 }
				}
			}

			clr_country_flag = asked_consort_for_manpower
		}

		tooltip = {
			add_opinion = {
				who = FROM
				modifier = grateful_for_aid
			}
		}
	}
}

#You get nothing
country_event = {
	id = consort_events.59
	title = consort_events.59.t
	desc = consort_events.59.d
	picture = BAD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	trigger = {
		#get rid of fringe case where consort dies in intervening 5 days
		FROM = {
			marriage_with = ROOT
			has_consort = yes
			has_consort_regency = no
			has_foreign_consort = yes
			is_origin_of_consort = ROOT
		}
	}

	option = {
		name = consort_events.59.a

		tooltip = {
			add_opinion = {
				who = FROM
				modifier = denied_aid
			}
			reverse_add_opinion = {
				who = FROM
				modifier = outrageous_demands
			}
		}

		clr_country_flag = asked_consort_for_money
		clr_country_flag = asked_consort_for_adm
		clr_country_flag = asked_consort_for_dip
		clr_country_flag = asked_consort_for_mil
		clr_country_flag = asked_consort_for_manpower
	}
}

#Follow up from .55 - Consort is adjusting to new court
country_event = { 
	id = consort_events.60
	title = consort_events.60.t
	desc = consort_events.60.d
	picture = KING_DOING_GREAT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_consort_flag = consort_was_thrown_party
	}

	option = {
		name = consort_events.60.a

		add_country_modifier = {
			name = "life_of_the_party"
			duration = 7300
		}
	}
}


# The influence from the consort's home country is strong
country_event = {
	id = consort_events.61
	title = consort_events.61.t
	desc = consort_events.61.da
	picture = KINGS_CHOICE_eventPicture
	goto = province_under_religious_influence
		
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		has_foreign_consort = yes
		is_lesser_in_union = no
		NOT = { has_government_attribute = has_harem_events }
		NOT = { has_country_modifier = heretic_royalty }
		any_owned_province = {
			is_capital = no
			has_owner_religion = yes
			is_reformation_center = no
			NOT = { has_province_modifier = religious_zeal_at_conv }
		}
		any_country = {
			has_given_consort_to = ROOT
			NOT = { religion = ROOT }
		}
		has_adm_advisor = yes
		NOT = { has_consort_flag = the_people_dislike_infidel_consort }
	}
	
	immediate = {
		hidden_effect = {
			set_consort_flag = consort_influenced_change_of_religion
			random_known_country = {
				limit = {
					has_given_consort_to = ROOT
				}
				save_event_target_as = origin_country_of_consort
			}
			random_owned_province = {
				limit = {
					is_capital = no
					has_owner_religion = yes
					is_reformation_center = no
					NOT = { has_province_modifier = religious_zeal_at_conv }
					NOT = { religion = event_target:origin_country_of_consort }
				}
				save_event_target_as = province_under_religious_influence
			}
		}
	}
	
	mean_time_to_happen = {
		months = 360
	}

	option = {
		name = consort_events.61.a # The Consort must denounce this event
		event_target:province_under_religious_influence = {
			change_religion = event_target:origin_country_of_consort
			add_province_modifier = {
				name = angered_believers
				duration = 1825
			}
		}
	}
	option = {
		name = consort_events.61.b # A province changes religion
		add_prestige = -10
		event_target:province_under_religious_influence = {
			change_religion = event_target:origin_country_of_consort
		}
	}
}


#Consort / Heir Relations
#Reserved 101 - 150

#Queen wants her own child to become heir 
country_event = {
	id = consort_events.101
	title = consort_events.101.t
	picture = QUEEN_AND_MALE_HEIR_eventPicture
	desc = consort_events.101.d

	trigger = {
		has_dlc = "Rights of Man"
		NOT = { has_reform = elective_monarchy }
		NOT = { has_government_attribute = has_harem_events }
		has_heir = yes
		has_consort = yes
		is_lesser_in_union = no
		has_consort_regency = no
		has_government_attribute = heir
		OR = {
			has_female_consort = no
			AND = {
				has_female_consort = yes
				NOT = { consort_age = 47 }
			}
		}
		can_heir_be_child_of_consort = no
		ruler_consort_marriage_length = 7
	}

	mean_time_to_happen = { months = 350 }

	immediate = {
		hidden_effect = {
			random_list = {
				33 = { set_ruler_flag = mil_child }
				33 = { set_ruler_flag = adm_child }
				33 = { set_ruler_flag = dip_child }
			}
			random_list = {
				75 = { set_ruler_flag = boy_child }
				25 = { set_ruler_flag = girl_child }
			}
		}
	}

	option = {
		name = consort_events.101.a 
		custom_tooltip = consort_events.101.a.tt 

		if = {
			limit = { has_ruler_flag = boy_child }

			if = {
				limit = { has_ruler_flag = mil_child }

				define_heir = {
					change_mil = 1
					female = no
					age = 6
					dynasty = ROOT
					claim = 80
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }

				define_heir = {
					change_adm = 1
					female = no
					age = 6
					dynasty = ROOT
					claim = 80
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }

				define_heir = {
					change_dip = 1
					female = no
					age = 6
					dynasty = ROOT
					claim = 80
				}
			}
		}

		if = {
			limit = { has_ruler_flag = girl_child }

			if = {
				limit = { has_ruler_flag = mil_child }

				define_heir = {
					change_mil = 1
					female = yes
					age = 6
					dynasty = ROOT
					claim = 80
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }

				define_heir = {
					change_adm = 1
					female = yes
					age = 6
					dynasty = ROOT
					claim = 80
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }

				define_heir = {
					change_dip = 1
					female = yes
					age = 6
					dynasty = ROOT
					claim = 80
				}
			}
		}

		clr_ruler_flag = girl_child
		clr_ruler_flag = boy_child
		clr_ruler_flag = mil_child
		clr_ruler_flag = adm_child
		clr_ruler_flag = dip_child
	}

	option = {
		name = consort_events.101.b 
		custom_tooltip = consort_events.101.b.tt

		clr_ruler_flag = girl_child
		clr_ruler_flag = boy_child
		clr_ruler_flag = mil_child
		clr_ruler_flag = adm_child
		clr_ruler_flag = dip_child
	}
}

#Queen wants favourite child on throne
country_event = {
	id = consort_events.102
	title = consort_events.102.t
	picture = QUEEN_AND_MALE_HEIR_eventPicture

	desc = {
		trigger = { has_ruler_flag = girl_child }
		desc = consort_events.102.da
	}
	desc = {
		trigger = { has_ruler_flag = boy_child }
		desc = consort_events.102.db
	}

	trigger = {
		is_lesser_in_union = no
		has_dlc = "Rights of Man"
		NOT = { has_reform = elective_monarchy }
		NOT = { has_consort_flag = favorite_played }
		has_heir = yes
		has_consort = yes
		has_government_attribute = heir
		can_heir_be_child_of_consort = yes
		consort_age = 30
	}

	mean_time_to_happen = { months = 700 }

	immediate = {
		hidden_effect = {
			random_list = {
				33 = { set_ruler_flag = mil_child }
				33 = { set_ruler_flag = adm_child }
				33 = { set_ruler_flag = dip_child }
			}
			random_list = {
				75 = { set_ruler_flag = boy_child }
				25 = { set_ruler_flag = girl_child }
			}
			set_consort_flag = favorite_played
		}
	}

	#Child heir chosen
	option = {
		trigger = {
			consort_age = 30
			NOT = { consort_age = 52 }
		}

		name = consort_events.102.a 
		custom_tooltip = consort_events.102.a.tt

		if = {
			limit = { has_ruler_flag = boy_child }

			if = {
				limit = { has_ruler_flag = mil_child }

				define_heir = {
					change_mil = 2
					female = no
					age = 6
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }

				define_heir = {
					change_adm = 2
					female = no
					age = 6
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }

				define_heir = {
					change_dip = 2
					female = no
					age = 6
					dynasty = ROOT
					claim = 60
				}
			}
		}

		if = {
			limit = { has_ruler_flag = girl_child }

			if = {
				limit = { has_ruler_flag = mil_child }

				define_heir = {
					change_mil = 2
					female = yes
					age = 6
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }

				define_heir = {
					change_adm = 2
					female = yes
					age = 6
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }

				define_heir = {
					change_dip = 2
					female = yes
					age = 6
					dynasty = ROOT
					claim = 60
				}
			}
		}

		clr_ruler_flag = girl_child
		clr_ruler_flag = boy_child
		clr_ruler_flag = mil_child
		clr_ruler_flag = adm_child
		clr_ruler_flag = dip_child
	}

	#Old favourite child becomes heir
	option = {
		trigger = { consort_age = 52 } 

		name = consort_events.102.a 
		custom_tooltip = consort_events.102.a.tt

		if = {
			limit = { has_ruler_flag = boy_child }

			if = {
				limit = { has_ruler_flag = mil_child }

				define_heir = {
					change_mil = 2
					female = no
					age = 30
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }

				define_heir = {
					change_adm = 2
					female = no
					age = 30
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }

				define_heir = {
					change_dip = 2
					female = no
					age = 30
					dynasty = ROOT
					claim = 60
				}
			}
		}

		if = {
			limit = { has_ruler_flag = girl_child }

			if = {
				limit = { has_ruler_flag = mil_child }

				define_heir = {
					change_mil = 2
					female = yes
					age = 30
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }

				define_heir = {
					change_adm = 2
					female = yes
					age = 30
					dynasty = ROOT
					claim = 60
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }

				define_heir = {
					change_dip = 2
					female = yes
					age = 30
					dynasty = ROOT
					claim = 60
				}
			}
		}

		clr_ruler_flag = girl_child
		clr_ruler_flag = boy_child
		clr_ruler_flag = mil_child
		clr_ruler_flag = adm_child
		clr_ruler_flag = dip_child
	}

	#Favorite son/daughter becomes avisor
	option = {
		trigger = { 
			consort_age = 52 

			OR = { 
				religion_group = christian
				religion_group = muslim 
				religion = jewish
				has_adopted_cult = islam_cult
				has_adopted_cult = christianity_cult
				has_adopted_cult = jewish_cult
			}
		}

		name = consort_events.102.b 
		custom_tooltip = consort_events.102.b.tt

		if = {
			limit = { has_ruler_flag = boy_child }

			if = {
				limit = { has_ruler_flag = mil_child }
				add_meritocracy_effect = yes
				define_advisor = {
					female = no
					name = Adam
					skill = 3
					type = commandant
					discount = yes
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }
				add_meritocracy_effect = yes
				define_advisor = {
					female = no
					name = Adam
					skill = 3
					type = theologian
					discount = yes
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }
				add_meritocracy_effect = yes
				define_advisor = {
					female = no
					name = Adam
					skill = 3
					type = statesman
					discount = yes
				}
			}
		}

		if = {
			limit = { has_ruler_flag = girl_child }

			if = {
				limit = { has_ruler_flag = mil_child }
				add_meritocracy_effect = yes
				define_advisor = {
					female = yes
					name = Miriam
					skill = 3
					type = commandant
					discount = yes
				}
			}

			if = {
				limit = { has_ruler_flag = adm_child }
				add_meritocracy_effect = yes
				define_advisor = {
					female = yes
					name = Miriam
					skill = 3
					type = theologian
					discount = yes
				}
			}

			if = {
				limit = { has_ruler_flag = dip_child }
				add_meritocracy_effect = yes
				define_advisor = {
					female = yes
					name = Miriam
					skill = 3
					type = statesman
					discount = yes
				}
			}
		}

		clr_ruler_flag = girl_child
		clr_ruler_flag = boy_child
		clr_ruler_flag = mil_child
		clr_ruler_flag = adm_child
		clr_ruler_flag = dip_child

	}

	#Do nothing
	option = {
		name = consort_events.101.b 
		custom_tooltip = consort_events.101.b.tt
		clr_ruler_flag = girl_child
		clr_ruler_flag = boy_child
		clr_ruler_flag = mil_child
		clr_ruler_flag = adm_child
		clr_ruler_flag = dip_child
	}
}

#Infertile royal couple
country_event = {
	id = consort_events.103
	title = consort_events.103.t
	desc = consort_events.103.d
	picture = CONSORT_DOING_BADLY_eventPicture

	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		NOT = { has_reform = elective_monarchy }
		NOT = { has_government_attribute = has_harem_events }
		has_consort = yes
		has_consort_regency = no
		has_government_attribute = heir
		ruler_consort_marriage_length = 3
		has_heir = no
	}

	mean_time_to_happen = {
		months = 600 

		modifier = {
			factor = 0.5
			religion_group = christian
		}
		modifier = {
			factor = 0.5
			OR = {
				ruler_has_personality = infertile_personality
				consort_has_personality = infertile_personality
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_list = {
				75 = { set_ruler_flag = male_cousin }
				25 = { set_ruler_flag = female_cousin }
			}
		}
	}

	option = {
		name = consort_events.103.b 
		custom_tooltip = consort_events.103.b.tt

		if = {
			limit = { has_ruler_flag = male_cousin }

			define_heir = {
				claim = 60
				male = yes
				age = 30
			}
		}
		if = {
			limit = { has_ruler_flag = female_cousin }

			define_heir = {
				claim = 60
				female = yes
				age = 30
			}
		}

		clr_ruler_flag = male_cousin
		clr_ruler_flag = female_cousin
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				ruler_has_personality = infertile_personality
			}
		}
	}

	#Give it time 
	option = {
		name = consort_events.103.c 
		custom_tooltip = consort_events.103.c.tt

		add_prestige = -10

		clr_ruler_flag = male_cousin
		clr_ruler_flag = female_cousin
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0.5
				consort_has_personality = infertile_personality
			}
		}
	}

	#Blame wife/consort, divorce
	option = {
		name = consort_events.103.a 

		divorce_consort_effect = yes

		clr_ruler_flag = male_cousin
		clr_ruler_flag = female_cousin

		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				consort_has_personality = infertile_personality
			}
		}
	}
}

#Consort educates heir
country_event = {
	id = consort_events.104
	title = consort_events.104.t
	picture = QUEEN_AND_MALE_HEIR_eventPicture

	desc = {
		trigger = { consort_mil = 5 }  
		desc = consort_events.104.da
	}
	desc = {
		trigger = { 
			consort_adm = 5 
			NOT = { consort_mil = 5 } 
		} 
		desc = consort_events.104.db
	}
	desc = {
		trigger = { 
			consort_dip = 5 
			NOT = { consort_adm = 5 } 
			NOT = { consort_mil = 5 } 
		} 
		desc = consort_events.104.dc
	}

	trigger = {
		has_dlc = "Rights of Man"
		NOT = { has_reform = elective_monarchy }
		is_lesser_in_union = no
		has_consort = yes 
		has_heir = yes
		heir_age = 6
		can_heir_be_child_of_consort = yes

		NOT = { heir_dip = 6 }

		OR = {
			AND = {
				consort_adm = 5 
				NOT = { heir_adm = 6 }
			}
			AND = {
				consort_dip = 5 
				NOT = { heir_dip = 6 }
			}
			AND = {
				consort_mil = 5 
				NOT = { heir_mil = 6 }
			}
		}

		NOT = { has_heir_flag = taught_by_consort }
	}

	mean_time_to_happen = {
		months = 800

		modifier = {
			factor = 0.8
			consort_adm = 6 
		}
		modifier = {
			factor = 0.8
			consort_adm = 6 
		}
		modifier = {
			factor = 0.8
			consort_adm = 6 
		}
	}

	immediate = { hidden_effect = { set_heir_flag = taught_by_consort } }

	#Adm
	option = {
		trigger = {
			NOT = { heir_adm = 6 }
			OR = {
				consort_adm = 5 
				AND = {
					consort_adm = 4 
					consort_has_good_adm_personality = yes 
				}
			}
		}
		name = consort_events.104.a 
		custom_tooltip = consort_events.104.a.tt

		add_adm_power = -40
		change_heir_adm = 1
	}

	#Dip
	option = {
		trigger = {
			NOT = { heir_dip = 6 }
			OR = {
				consort_dip = 5 
				AND = {
					consort_dip = 4 
					consort_has_good_dip_personality = yes 
				}
			}
		}
		name = consort_events.104.b 
		custom_tooltip = consort_events.104.b.tt

		add_dip_power = -40
		change_heir_dip = 1
	}

	#Mil
	option = {
		trigger = {
			NOT = { heir_mil = 6 }
			OR = {
				consort_mil = 5
				AND = {
					consort_mil = 4 
					consort_has_good_mil_personality = yes 
				}
			}
		}
		name = consort_events.104.c 
		custom_tooltip = consort_events.104.c.tt
		add_mil_power = -40
		change_heir_mil = 1
	}

	#None 
	option = {
		name = consort_events.104.d 
		custom_tooltip = consort_events.104.d.tt
	}
}




#Divorce
#Reserved 201 - 250

#Ask pope for dispensation
country_event = {
	id = consort_events.201
	title = consort_events.201.t
	picture = POPE_PREACHING_eventPicture

	is_triggered_only = yes

	desc = {
		trigger = { papal_influence = 25 }
		desc = consort_events.201.da
	}
	desc = {
		trigger = { NOT = { papal_influence = 25 } }
		desc = consort_events.201.db
	}

	trigger = { religion = catholic }

	#25
	option = {
		trigger = { papal_influence = 25 }
		name = consort_events.201.a
		custom_tooltip = consort_events.201.a.tt
		hidden_effect = { add_papal_influence = -25 }

		set_ruler_flag = divorce_25

		hidden_effect = { PAP = { country_event = { id = consort_events.202 days = 30 } } }
	}

	#50
	option = {
		trigger = { papal_influence = 50 }
		name = consort_events.201.b
		custom_tooltip = consort_events.201.b.tt
		hidden_effect = { add_papal_influence = -50 }
		set_ruler_flag = divorce_50

		hidden_effect = { PAP = { country_event = { id = consort_events.202 days = 30 } } }
	}

	#75
	option = {
		trigger = { papal_influence = 75 }
		name = consort_events.201.c
		custom_tooltip = consort_events.201.c.tt
		hidden_effect = { add_papal_influence = -75 }
		set_ruler_flag = divorce_75

		hidden_effect = { PAP = { country_event = { id = consort_events.202 days = 30 } } }
	}

	#100
	option = {
		trigger = { papal_influence = 100 }
		name = consort_events.201.e
		custom_tooltip = consort_events.201.e.tt
		hidden_effect = { add_papal_influence = -100 }
		set_ruler_flag = divorce_100

		hidden_effect = { PAP = { country_event = { id = consort_events.202 days = 30 } } }
	}

	#Opt out
	option = {
		trigger = {
			papal_influence = 25
			NOT = { has_country_flag = desires_of_flesh_divorce }
		}
		name = consort_events.201.f
		custom_tooltip = consort_events.201.f.tt
	}

	#Can't send
	option = {
		trigger = { NOT = { papal_influence = 25 } }
		name = consort_events.201.g

		add_prestige = -10
	}
	after = { clr_country_flag = desires_of_flesh_divorce }
}

#Pope gets to reply
country_event = {
	id = consort_events.202
	title = consort_events.202.t
	desc = consort_events.202.d
	picture = CONSORT_DOING_BADLY_eventPicture

	is_triggered_only = yes

	trigger = { FROM = { has_consort = yes } }

	#Yes
	option = {
		name = consort_events.202.a
		ai_chance = {
			factor = 1

			modifier = {
				factor = 25
				FROM = { has_ruler_flag = divorce_25 }
			}
			modifier = {
				factor = 50
				FROM = { has_ruler_flag = divorce_50 }
			}
			modifier = {
				factor = 75
				FROM = { has_ruler_flag = divorce_75 }
			}
		}
		hidden_effect = {
			FROM = {
				country_event = { id = consort_events.203 }
				clr_ruler_flag = divorce_25
				clr_ruler_flag = divorce_50
				clr_ruler_flag = divorce_75
				clr_ruler_flag = divorce_100
			}
		} #This is where she is actually removed
		
	}

	#Different kinds of no
	option = {
		ai_chance = { factor = 75 }
		trigger = { FROM = { has_ruler_flag = divorce_25 } }
		name = consort_events.202.b
		custom_tooltip = consort_events.202.b.tt
		hidden_effect = { add_devotion = -13 }
		hidden_effect = { FROM = { country_event = { id = consort_events.204 days = 30 } } } 
		FROM = { clr_ruler_flag = divorce_25 }
	}

	option = {
		ai_chance = { factor = 50 }
		trigger = { FROM = { has_ruler_flag = divorce_50 } }
		name = consort_events.202.b
		custom_tooltip = consort_events.202.c.tt
		hidden_effect = { add_devotion = -25 }
		hidden_effect = {
			FROM = {
				country_event = { id = consort_events.204 days = 30 }
			}
		}
		FROM = { clr_ruler_flag = divorce_50 }
	}

	option = {
		ai_chance = { factor = 25 }
		trigger = { FROM = { has_ruler_flag = divorce_75 } }
		name = consort_events.202.b
		custom_tooltip = consort_events.202.d.tt
		hidden_effect = { add_devotion = -38 }
		hidden_effect = {
			FROM = {
				country_event = { id = consort_events.204 days = 30 }
			}
		} 
		FROM = { clr_ruler_flag = divorce_75 }
	}

	option = {
		ai_chance = { factor = 0 }
		trigger = { FROM = { has_ruler_flag = divorce_100 } }
		name = consort_events.202.b
		custom_tooltip = consort_events.202.e.tt
		hidden_effect = { add_devotion = -50 }
		hidden_effect = {
			FROM = {
				country_event = { id = consort_events.204 days = 30 }
			}
		}
		FROM = { clr_ruler_flag = divorce_100 }
	}
}

#Yes you can divorce
country_event = {
	id = consort_events.203
	title = consort_events.203.t
	desc = consort_events.203.d
	picture = CONSORT_DOING_BADLY_eventPicture

	is_triggered_only = yes

	trigger = { has_consort = yes }

	#Divorce
	option = {
		name = consort_events.203.a
		custom_tooltip = consort_events.203.a.tt

		add_prestige = -15
		
		#Consort home country reacts
		random_country = {
			limit = { has_given_consort_to = ROOT } 

			tooltip = {
				add_opinion = {
					who = ROOT
					modifier = offended_by_divorce	
				}

				add_casus_belli = {
					target = ROOT
					type = cb_insult
					months = 60
				}
			}

			hidden_effect = { country_event = { id = consort_events.205 days = 15 } }
		}

		#Local consort family reacts
		random_owned_province = {
			limit = { has_province_modifier = domain_of_spouses_family } 

			add_province_modifier = {
				name = angered_nobles
				duration = 7300
			}
		}
		
		#Heir takes legitimacy hit
		if = {
			limit = { 
				has_heir = yes
				can_heir_be_child_of_consort = yes
			}
			add_heir_claim = -30
		}

		#Consort is removed unless 205 is fired, things are cleaned up.
		hidden_effect = { 
			if = {
				limit = { NOT = { any_country = { has_given_consort_to = ROOT } } }
				remove_consort = yes
			}
			country_event = { id = consort_events.206 } 
		}
	}

	#Opt out
	option = {
		name = consort_events.203.b
		custom_tooltip = consort_events.203.b.tt
	}
}

#No you can't divorce
country_event = {
	id = consort_events.204
	title = consort_events.204.t
	desc = consort_events.204.d
	picture = CONSORT_DOING_BADLY_eventPicture

	is_triggered_only = yes

	option = {
		name = consort_events.202.b
	}
}


#Family gets notified 
country_event = {
	id = consort_events.205
	title = consort_events.205.t
	desc = consort_events.205.d
	picture = CONSORT_DOING_BADLY_eventPicture

	is_triggered_only = yes

	option = {
		name = consort_events.205.a
		custom_tooltip = consort_events.205.a.tt

		hidden_effect = {
			FROM = { 
				remove_consort = yes 
				country_event = { id = consort_events.206 } 
			}
		}

		add_opinion = {
			who = FROM
			modifier = offended_by_divorce	
		}

		add_casus_belli = {
			target = FROM
			type = cb_insult
			months = 60
		}
	}
}

#Divorce clean up event 
country_event = {
	id = consort_events.206
	title = none
	desc = none
	picture = none

	is_triggered_only = yes

	hidden = yes

	immediate = {
		#if = {
			#limit = { has_consort_regency = no }
			random_owned_province = {
				limit = { has_province_modifier = domain_of_spouses_family }
				remove_province_modifier = domain_of_spouses_family
			}
		#}
		#if = {
			#limit = { has_ruler_flag = accepted_help_from_spouses_family }
			clr_ruler_flag = accepted_help_from_spouses_family
		#}
		#if = {
			#limit = { has_ruler_flag = helped_spouses_family }
			clr_ruler_flag = helped_spouses_family
		#}
		#if = {
			#limit = { has_ruler_flag = refused_to_help_spouses_family }
			clr_ruler_flag = refused_to_help_spouses_family
		#}
		if = {
			limit = { has_ruler_flag = has_lowborn_consort }
			random_owned_province = {
				limit = { has_province_modifier = home_of_consort }
				remove_province_modifier = home_of_consort
			}
		}
		if = {
			limit = { has_ruler_flag = has_lowborn_consort }
			clr_ruler_flag = has_lowborn_consort
		}
		if = {
			limit = { has_country_modifier = consort_adm_advice }
			remove_country_modifier = consort_adm_advice
		}
		if = {
			limit = { has_country_modifier = consort_dip_advice }
			remove_country_modifier = consort_dip_advice
		}
		if = {
			limit = { has_country_modifier = consort_mil_advice }
			remove_country_modifier = consort_mil_advice
		}
		if = {
			limit = { has_country_modifier = without_spouse_advice }
			remove_country_modifier = without_spouse_advice
		}
		if = {
			limit = { has_country_modifier = life_of_the_party }
			remove_country_modifier = life_of_the_party
		}
		
		clr_ruler_flag = marriage_length
	}

	option = {

	}
}

# Anniversary
country_event = {
	id = consort_events.301
	title = consort_events.301.t
	picture = KING_DOING_GREAT_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		NOT = { has_government_attribute = has_harem_events }
		NOT = { has_consort_regency = yes }
		ruler_consort_marriage_length = 10
		NOT = { ruler_consort_marriage_length = 12 }
		NOT = { has_consort_flag = 10_years_anniversary }
	}
	
	immediate = {
		hidden_effect = {
			set_consort_flag = 10_years_anniversary
			save_origin_of_consort_effect = yes
		}
	}

	desc = {
		trigger = {
			has_foreign_consort = yes
			NOT = { has_ruler_modifier = consort_of_the_people }
			NOT = { has_country_modifier = life_of_the_party }
		}
		desc = consort_events.301.da # foreign consort
	}
	desc = {
		trigger = {
			has_foreign_consort = no
			NOT = { has_consort_flag = home_province_lost }
			NOT = { has_ruler_modifier = consort_of_the_people }
			NOT = { has_country_modifier = life_of_the_party }
		}
		desc = consort_events.301.db # local consort
	}
	desc = {
		trigger = {
			has_foreign_consort = no
			has_consort_flag = home_province_lost
			NOT = { has_ruler_modifier = consort_of_the_people }
			NOT = { has_country_modifier = life_of_the_party }
		}
		desc = consort_events.301.dc # local consort - home_province_lost
	}
	desc = {
		trigger = {
			has_ruler_modifier = consort_of_the_people
		}
		desc = consort_events.301.dd # adored by commoners
	}
	desc = {
		trigger = {
			has_country_modifier = life_of_the_party
			NOT = { has_ruler_modifier = consort_of_the_people }
		}
		desc = consort_events.301.de # adored by nobility
	}


	mean_time_to_happen = {
		months = 150
	}

	option = { # we have received gifts
		name = consort_events.301.a
		custom_tooltip = consort_events.301.a.tt
		add_treasury = 50

		clr_consort_flag = home_province_lost
	}
}

# Even longer anniversary!
country_event = {
	id = consort_events.302
	title = consort_events.302.t
	picture = KING_DOING_GREAT_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		NOT = { has_government_attribute = has_harem_events }
		is_lesser_in_union = no
		NOT = { has_consort_regency = yes }
		ruler_consort_marriage_length = 20
		NOT = { ruler_consort_marriage_length = 22 }
		NOT = { has_consort_flag = 20_years_anniversary }
	}
	
	immediate = {
		hidden_effect = {
			set_consort_flag = 20_years_anniversary
			save_origin_of_consort_effect = yes
		}
	}

	desc = {
		trigger = {
			has_foreign_consort = yes
			NOT = { has_ruler_modifier = consort_of_the_people }
			NOT = { has_country_modifier = life_of_the_party }
		}
		desc = consort_events.302.da # foreign consort
	}
	desc = {
		trigger = {
			has_foreign_consort = no
			NOT = { has_consort_flag = home_province_lost }
			NOT = { has_ruler_modifier = consort_of_the_people }
			NOT = { has_country_modifier = life_of_the_party }
		}
		desc = consort_events.302.db # local consort
	}
	desc = {
		trigger = {
			has_foreign_consort = no
			has_consort_flag = home_province_lost
		}
		desc = consort_events.302.dc # local consort - home_province_lost
	}
	desc = {
		trigger = {
			has_ruler_modifier = consort_of_the_people
		}
		desc = consort_events.302.dd # adored by commoners
	}
	desc = {
		trigger = {
			has_country_modifier = life_of_the_party
			NOT = { has_ruler_modifier = consort_of_the_people }
		}
		desc = consort_events.302.de # adored by nobility
	}

	mean_time_to_happen = {
		months = 150
	}

	option = { # we have received gifts
		name = consort_events.302.a
		custom_tooltip = consort_events.302.a.tt
		add_treasury = 50

		clr_consort_flag = home_province_lost
	}
}

# Great diplomatic personality
country_event = {
	id = consort_events.303
	title = consort_events.303.t
	picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		consort_has_good_dip_personality = yes
		NOT = { consort_has_personality = navigator_personality }
		NOT = { has_consort_flag = consort_has_impressed_with_dip_personality }
	}
	
	immediate = {
		hidden_effect = {
			set_consort_flag = consort_has_impressed_with_dip_personality
			save_origin_of_consort_effect = yes
		}
	}

	desc = {
		trigger = {
			OR = {
				consort_has_personality = intricate_web_weaver_personality
				consort_has_personality = silver_tongue_personality
				consort_has_personality = secretive_personality
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.303.da # great schemer
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = expansionist }
				consort_has_personality_ancestor = { key = entrepreneur }
				consort_has_personality_ancestor = { key = industrious }
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.303.db # business minded
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = careful }
				consort_has_personality_ancestor = { key = charismatic_negotiator }
				consort_has_personality_ancestor = { key = well_connected }
				consort_has_personality_ancestor = { key = benevolent }
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.303.dc # delicate touch
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = intricate_web_weaver }
				consort_has_personality_ancestor = { key = silver_tongue }
				consort_has_personality_ancestor = { key = secretive }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.303.dd # great schemer - home_province_lost
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = expansionist }
				consort_has_personality_ancestor = { key = entrepreneur }
				consort_has_personality_ancestor = { key = industrious }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.303.de # business minded - home_province_lost
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = careful }
				consort_has_personality_ancestor = { key = charismatic_negotiator }
				consort_has_personality_ancestor = { key = well_connected }
				consort_has_personality_ancestor = { key = benevolent }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.303.df # delicate touch - home_province_lost
	}

	mean_time_to_happen = {
		months = 400
	}

	option = { # great!
		name = consort_events.303.a
		add_dip_power = 50

		clr_consort_flag = home_province_lost
	}
}

# Great administrative personality
country_event = {
	id = consort_events.304
	title = consort_events.304.t

	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		consort_has_good_adm_personality = yes
		NOT = { consort_has_personality_ancestor = { key = calm } }
		NOT = { has_consort_flag = consort_has_impressed_with_adm_personality }
	}
	
	picture = {
		trigger = { has_female_consort = yes }
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	picture = {
		trigger = { has_female_consort = no }
		picture = BABBLING_BAFFOON_eventPicture
	}


	immediate = {
		hidden_effect = {
			set_consort_flag = consort_has_impressed_with_adm_personality
			save_origin_of_consort_effect = yes
		}
	}

	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = just }
				consort_has_personality_ancestor = { key = lawgiver }
				consort_has_personality_ancestor = { key = reformist }
				consort_has_personality_ancestor = { key = righteous }
				consort_has_personality_ancestor = { key = tolerant }
				consort_has_personality_ancestor = { key = incorruptible }
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.304.da # Organizer personality
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = free_thinker }
				consort_has_personality_ancestor = { key = architectural_visionary }
				consort_has_personality_ancestor = { key = scholar }
				consort_has_personality_ancestor = { key = midas_touched }
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.304.db # Curious personality
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = zealot }
				consort_has_personality_ancestor = { key = pious }
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.304.dc # Religious personality
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = just }
				consort_has_personality_ancestor = { key = lawgiver }
				consort_has_personality_ancestor = { key = reformist }
				consort_has_personality_ancestor = { key = righteous }
				consort_has_personality_ancestor = { key = tolerant }
				consort_has_personality_ancestor = { key = incorruptible }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.304.dd # Organizer personality - home_province_lost
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = free_thinker }
				consort_has_personality_ancestor = { key = architectural_visionary }
				consort_has_personality_ancestor = { key = scholar }
				consort_has_personality_ancestor = { key = midas_touched }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.304.de # Curious personality - home_province_lost
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = zealot }
				consort_has_personality_ancestor = { key = pious }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.304.df # Religious personality - home_province_lost
	}

	mean_time_to_happen = {
		months = 400
	}

	option = { # great!
		name = consort_events.304.a
		add_adm_power = 50
	
		clr_consort_flag = home_province_lost
	}
}

# Great militaristic personality
country_event = {
	id = consort_events.305
	title = consort_events.305.t
	picture = GOOD_WITH_MONARCH_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		consort_has_good_mil_personality = yes
		NOT = { has_consort_flag = consort_has_impressed_with_mil_personality }
	}

	picture = {
		trigger = { has_female_consort = yes }
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	picture = {
		trigger = { has_female_consort = no }
		picture = MILITARISTICALLY_TALENTED_RULER_eventPicture
	}
	
	immediate = {
		hidden_effect = {
			set_consort_flag = consort_has_impressed_with_mil_personality
			save_origin_of_consort_effect = yes
		}
	}

	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = bold_fighter }
				consort_has_personality_ancestor = { key = fierce_negotiator }
				consort_has_personality_ancestor = { key = conqueror }
				consort_has_personality_ancestor = { key = strict }
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.305.da # Fighting personality
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = inspiring_leader }
				consort_has_personality_ancestor = { key = martial_educator }
				consort_has_personality_ancestor = { key = kind_hearted }
				consort_has_personality_ancestor = { key = tactical_genius }
			}
			NOT = { has_consort_flag = home_province_lost }
		}
		desc = consort_events.305.db # Thoughtful Warrior personality
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = bold_fighter }
				consort_has_personality_ancestor = { key = fierce_negotiator }
				consort_has_personality_ancestor = { key = conqueror }
				consort_has_personality_ancestor = { key = strict }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.305.dc # Fighting personality - home_province_lost
	}
	desc = {
		trigger = {
			OR = {
				consort_has_personality_ancestor = { key = inspiring_leader }
				consort_has_personality_ancestor = { key = martial_educator }
				consort_has_personality_ancestor = { key = kind_hearted }
				consort_has_personality_ancestor = { key = tactical_genius }
			}
			has_consort_flag = home_province_lost
		}
		desc = consort_events.305.dd # Thoughtful Warrior personality - home_province_lost
	}

	mean_time_to_happen = {
		months = 400
	}

	option = { # great!
		name = consort_events.305.a
		add_mil_power = 50

		clr_consort_flag = home_province_lost
	}
}

# The royal couple bond over similar interests
country_event = {
	id = consort_events.306
	title = consort_events.306.t
	picture = KING_DOING_GREAT_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		has_consort_regency = no
		OR = {
			AND = {
				ruler_has_good_adm_personality = yes
				consort_has_good_adm_personality = yes
				NOT = { has_consort_flag = royal_couple_shared_adm_interests }
			}
			AND = {
				ruler_has_good_dip_personality = yes
				consort_has_good_dip_personality = yes
				NOT = { has_consort_flag = royal_couple_shared_dip_interests }
			}
			AND = {
				ruler_has_good_mil_personality = yes
				consort_has_good_mil_personality = yes
				NOT = { has_consort_flag = royal_couple_shared_mil_interests }
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			save_origin_of_consort_effect = yes
			set_consort_flag = consort_has_affection_of_ruler

			if = {
				limit = {
					ruler_has_good_adm_personality = yes
					consort_has_good_adm_personality = yes
					NOT = { has_consort_flag = royal_couple_shared_adm_interests }
				}
				set_consort_flag = royal_couple_share_adm_interests
				set_consort_flag = royal_couple_shared_adm_interests
			}
			if = {
				limit = {
					ruler_has_good_dip_personality = yes
					consort_has_good_dip_personality = yes
					NOT = { has_consort_flag = royal_couple_shared_dip_interests }
				}
				set_consort_flag = royal_couple_share_dip_interests
				set_consort_flag = royal_couple_shared_dip_interests
			}
			if = {
				limit = {
					ruler_has_good_mil_personality = yes
					consort_has_good_mil_personality = yes
					NOT = { has_consort_flag = royal_couple_shared_mil_interests }
				}
				set_consort_flag = royal_couple_share_mil_interests
				set_consort_flag = royal_couple_shared_mil_interests
			}
		}
	}

	desc = {
		trigger = {	has_consort_flag = royal_couple_share_adm_interests NOT = { has_consort_flag = home_province_lost }	}
		desc = consort_events.306.da # adm interests
	}
	desc = {
		trigger = {	has_consort_flag = royal_couple_share_dip_interests	NOT = { has_consort_flag = home_province_lost } }
		desc = consort_events.306.db # dip interests
	}
	desc = {
		trigger = {	has_consort_flag = royal_couple_share_mil_interests	NOT = { has_consort_flag = home_province_lost } }
		desc = consort_events.306.dc # mil interests
	}
	desc = {
		trigger = {	has_consort_flag = royal_couple_share_adm_interests	has_consort_flag = home_province_lost }
		desc = consort_events.306.dd # adm interests - home_province_lost
	}
	desc = {
		trigger = {	has_consort_flag = royal_couple_share_dip_interests	has_consort_flag = home_province_lost }
		desc = consort_events.306.de # dip interests - home_province_lost
	}
	desc = {
		trigger = {	has_consort_flag = royal_couple_share_mil_interests	has_consort_flag = home_province_lost }
		desc = consort_events.306.df # mil interests - home_province_lost
	}

	mean_time_to_happen = {
		months = 1000
	}

	option = { # great!
		name = consort_events.306.a
		
		if = { limit = { has_consort_flag = royal_couple_share_adm_interests }
			random_list = {
				80 = { add_adm_power = 100 }
				20 = { change_adm = 1 }
			}
		}
		if = { limit = { has_consort_flag = royal_couple_share_dip_interests }
			random_list = {
				80 = { add_dip_power = 100 }
				20 = { change_dip = 1 }
			}
		}
		if = { limit = { has_consort_flag = royal_couple_share_mil_interests }
			random_list = {
				80 = { add_mil_power = 100 }
				20 = { change_mil = 1 }
			}
		}

		clr_consort_flag = home_province_lost
		clr_consort_flag = royal_couple_share_adm_interests
		clr_consort_flag = royal_couple_share_dip_interests
		clr_consort_flag = royal_couple_share_mil_interests
	}
}

# The royal couple bond over similar BAD interests
country_event = {
	id = consort_events.307
	title = consort_events.307.t
	picture = KING_DOING_GREAT_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		has_consort_regency = no
		NOT = { has_country_modifier = affectionate_royal_couple }
		OR = {
			AND = {
				ruler_has_bad_adm_personality = yes
				consort_has_bad_adm_personality = yes
				NOT = { has_consort_flag = royal_couple_shared_lack_in_adm_interests }
			}
			AND = {
				ruler_has_bad_dip_personality = yes
				consort_has_bad_dip_personality = yes
				NOT = { has_consort_flag = royal_couple_shared_lack_in_dip_interests }
			}
			AND = {
				ruler_has_bad_mil_personality = yes
				consort_has_bad_mil_personality = yes
				NOT = { has_consort_flag = royal_couple_shared_lack_in_mil_interests }
			}
		}
		NOT = { has_reform = celestial_empire }
		NOT = { is_nomad = yes }
	}
	
	immediate = {
		hidden_effect = {
			set_consort_flag = consort_has_affection_of_ruler

			if = {
				limit = {
					ruler_has_bad_adm_personality = yes
					consort_has_bad_adm_personality = yes
					NOT = { has_consort_flag = royal_couple_shared_lack_in_adm_interests }
				}
				set_consort_flag = royal_couple_share_lack_in_adm_interests
				set_consort_flag = royal_couple_shared_lack_in_adm_interests
			}
			if = {
				limit = {
					ruler_has_bad_dip_personality = yes
					consort_has_bad_dip_personality = yes
					NOT = { has_consort_flag = royal_couple_shared_lack_in_dip_interests }
				}
				set_consort_flag = royal_couple_share_lack_in_dip_interests
				set_consort_flag = royal_couple_shared_lack_in_dip_interests
			}
			if = {
				limit = {
					ruler_has_bad_mil_personality = yes
					consort_has_bad_mil_personality = yes
					NOT = { has_consort_flag = royal_couple_shared_lack_in_mil_interests }
				}
				set_consort_flag = royal_couple_share_lack_in_mil_interests
				set_consort_flag = royal_couple_shared_lack_in_mil_interests
			}
		}
	}

	desc = {
		trigger = {	has_consort_flag = royal_couple_share_lack_in_adm_interests }
		desc = consort_events.307.da # bad adm interests
	}
	desc = {
		trigger = {	has_consort_flag = royal_couple_share_lack_in_dip_interests }
		desc = consort_events.307.db # bad dip interests
	}
	desc = {
		trigger = {	has_consort_flag = royal_couple_share_lack_in_mil_interests	}
		desc = consort_events.307.dc # bad mil interests
	}

	mean_time_to_happen = {
		months = 700
	}

	option = { # those two go well together at least
		name = consort_events.307.a
		
		if = { limit = { has_consort_flag = royal_couple_share_lack_in_adm_interests }
			add_adm_power = -15
		}
		if = { limit = { has_consort_flag = royal_couple_share_lack_in_dip_interests }
			add_dip_power = -15
		}
		if = { limit = { has_consort_flag = royal_couple_share_lack_in_mil_interests }
			add_mil_power = -15
		}

		add_ruler_modifier = {
			name = affectionate_royal_couple
			duration = 1825
		}

		clr_consort_flag = home_province_lost
		clr_consort_flag = royal_couple_share_lack_in_adm_interests
		clr_consort_flag = royal_couple_share_lack_in_dip_interests
		clr_consort_flag = royal_couple_share_lack_in_mil_interests
	}
}

# The ruler mourns loss of consort
country_event = {
	id = consort_events.308
	title = consort_events.308.t
	picture = ROYAL_COUPLE_FUTURE_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort = no
		has_regency = no
		is_lesser_in_union = no
		has_government_attribute = queen
		has_ruler_flag = widow_widower
		OR = {
			has_ruler_flag = had_10_years_anniversary
			has_ruler_flag = had_20_years_anniversary
			has_ruler_flag = consort_had_affection_of_ruler
		}
	}
	
	immediate = {
		hidden_effect = {
			set_ruler_flag = ruler_in_mourning
		}
	}

	desc = {
		trigger = {	has_ruler_flag = had_10_years_anniversary }
		desc = consort_events.308.da # were married long
	}
	desc = {
		trigger = {	has_ruler_flag = had_20_years_anniversary }
		desc = consort_events.308.db # were married really long
	}
	desc = {
		trigger = { has_ruler_flag = consort_had_affection_of_ruler }
		desc = consort_events.308.dc # had bonded over shared interests
	}

	mean_time_to_happen = {
		months = 600
	}

	option = { # raise statue
		name = consort_events.308.a

		if = { 
			limit = { monthly_income = 25 }
			add_years_of_income = -0.20
		}
		if = {
			limit = { NOT = { monthly_income = 25 } }
			add_treasury = -80
		}

		capital_scope = {
			add_province_modifier = {
				name = commemorative_statue
				duration = 3650
			}
		}

		clr_ruler_flag = had_10_years_anniversary
		clr_ruler_flag = had_20_years_anniversary
		clr_ruler_flag = consort_had_affection_of_ruler
	}
	option = { # bury yourself in work - ADM
		name = consort_events.308.b
		
		random_list = {
			80 = { 
				add_ruler_modifier = { 
					name = attention_to_detail
					duration = 1825
				}
			}
			20 = {
				add_ruler_modifier = { 
					name = overworked_ruler_adm
					duration = 1825
				}
			}
		}

		trigger = {
			OR = {
				ruler_has_good_adm_personality = yes
				adm = 5
			}
		}
	
		clr_ruler_flag = had_10_years_anniversary
		clr_ruler_flag = had_20_years_anniversary
		clr_ruler_flag = consort_had_affection_of_ruler
	}
	option = { # bury yourself in work - DIP
		name = consort_events.308.c

		random_list = {
			80 = { 
				add_ruler_modifier = { 
					name = focused_listener
					duration = 1825
				}
			}
			20 = {
				add_ruler_modifier = { 
					name = overworked_ruler_dip
					duration = 1825
				}
			}
		}

		trigger = {
			OR = {
				ruler_has_good_dip_personality = yes
				dip = 5
			}
		}
	
		clr_ruler_flag = had_10_years_anniversary
		clr_ruler_flag = had_20_years_anniversary
		clr_ruler_flag = consort_had_affection_of_ruler
	}
	option = { # bury yourself in work - MIL
		name = consort_events.308.d
		
		random_list = {
			80 = { 
				add_ruler_modifier = {
					name = dedicated_strategist
					duration = 1825
				}
			}
			20 = {
				add_ruler_modifier = { 
					name = overworked_ruler_mil
					duration = 1825
				}
			}
		}

		trigger = {
			OR = {
				ruler_has_good_mil_personality = yes
				mil = 5
			}
		}
	
		clr_ruler_flag = had_10_years_anniversary
		clr_ruler_flag = had_20_years_anniversary
		clr_ruler_flag = consort_had_affection_of_ruler
	}
	option = { # do nothing
		name = consort_events.308.e

		clr_ruler_flag = had_10_years_anniversary
		clr_ruler_flag = had_20_years_anniversary
		clr_ruler_flag = consort_had_affection_of_ruler
	}
}

# Perhaps the consort should be ruling our nation
country_event = {
	id = consort_events.309
	title = consort_events.309.t
	desc = consort_events.309.da # certain observers are unimpressed with the heir
	
	picture = {
		trigger = { has_female_consort = yes }
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	picture = {
		trigger = { has_female_consort = no }
		picture = MILITARISTICALLY_TALENTED_RULER_eventPicture
	}
	

	trigger = {
		has_dlc = "Rights of Man"
		has_consort_regency = yes
		is_lesser_in_union = no
		NOT = { heir_adm = 3 }
		NOT = { heir_dip = 3 }
		NOT = { heir_mil = 3 }
		NOT = { has_government_attribute = has_harem_events }
		consort_dip = 3
		consort_mil = 3
		consort_adm = 3

		OR = {
			consort_adm = 6
			consort_dip = 6
			consort_mil = 6
		}

		NOT = { has_consort_flag = consort_decided_to_not_pursue_the_throne }
	}

	mean_time_to_happen = {
		months = 600
	}

	option = { # Encourage these ideas...
		name = consort_events.309.a
		custom_tooltip = consort_events.309.a.tt
		country_event = { id = consort_events.310 days = 60 }
	}

	option = { # Do nothing!
		name = consort_events.309.b
		custom_tooltip = consort_events.309.b.tt
		set_consort_flag = "consort_decided_to_not_pursue_the_throne"
	}
}

# The consort is ready to take over
country_event = {
	id = consort_events.310
	title = consort_events.310.t
	desc = consort_events.310.da
	picture = GOOD_WITH_MONARCH_eventPicture
	
	trigger = {
		has_dlc = "Rights of Man"
		has_consort_regency = yes
		NOT = { has_government_attribute = has_harem_events }
	}

	is_triggered_only = yes

	option = { # Make the consort ruler!
		name = consort_events.310.a
		change_consort_regent_to_ruler = yes
		set_heir_flag = had_throne_stolen
		add_ruler_modifier = { 
			name = devious_ruler
		}
	}
	option = { # Do nothing!
		name = consort_events.310.b
	}
}


#Consort is popular among the commoners
country_event = {
	id = consort_events.311
	title = consort_events.311.t
	desc = consort_events.311.d

	picture = {
		trigger = { has_female_consort = yes }
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	picture = {
		trigger = { has_female_consort = no }
		picture = MILITARISTICALLY_TALENTED_RULER_eventPicture
	}
	

	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		has_consort = yes
		has_consort_regency = no
		any_owned_province = { is_capital = no }
		NOT = { has_ruler_modifier = consort_of_the_people } 
	}

	mean_time_to_happen = {
		months = 700

		modifier = {
			factor = 10
			OR = {
				consort_has_personality = malevolent_personality
				consort_has_personality = cruel_personality
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				consort_has_personality_ancestor = { key = silver_tongue }
				consort_has_personality_ancestor = { key = well_connected }
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				consort_has_personality_ancestor = { key = kind_hearted }
				consort_has_personality_ancestor = { key = benevolent }
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { is_capital = no }
				save_event_target_as = poor_province
			}
		}
	}

	option = {
		name = consort_events.311.a

		if = { 
			limit = { monthly_income = 30 }
			add_years_of_income = -0.15
		}
		if = {
			limit = { NOT = { monthly_income = 30 } }
			add_treasury = -60
		}
		add_adm_power = -15
		add_ruler_modifier = { 
			name = consort_of_the_people
		}
	}

	option = {
		name = consort_events.311.b
		increase_legitimacy_small_effect = yes
		if = {
			limit = {
				has_reform = celestial_empire
				has_dlc = "Mandate of Heaven"
			}
			add_mandate = -5
		}
	}
}


#Consort suggests advisor
country_event = {
	id = consort_events.312
	title = consort_events.312.t

	picture = {
		trigger = {
			OR = {
				has_ruler_flag = consort_adm_advisor
				has_ruler_flag = consort_dip_advisor
			}
		}
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}
	
	picture = {
		trigger = { has_ruler_flag = consort_mil_advisor has_dlc = "Women in History" }
		picture = wihgfx_FEMALE_GENERAL_eventPicture
	}
	picture = {
		trigger = { has_ruler_flag = consort_mil_advisor NOT = { has_dlc = "Women in History" } }
		picture = QUEEN_AT_COUNCIL_TABLE_eventPicture
	}

	desc = {
		trigger = { has_ruler_flag = consort_adm_advisor }
		desc = consort_events.312.da
	}
	desc = {
		trigger = { has_ruler_flag = consort_dip_advisor }
		desc = consort_events.312.db
	}
	desc = {
		trigger = { has_ruler_flag = consort_mil_advisor }
		desc = consort_events.312.dc
	}

	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		OR = {
			AND = {
				consort_adm = 4
				has_adm_advisor = yes
			}
			AND = {
				consort_dip = 4
				has_dip_advisor = yes
			}
			AND = {
				consort_mil = 4
				has_mil_advisor = yes
			}
		}
		NOT = { has_consort_flag = just_suggested_new_adm_advisor }
		NOT = { has_consort_flag = just_suggested_new_dip_advisor }
		NOT = { has_consort_flag = just_suggested_new_mil_advisor }
	}

	mean_time_to_happen = { months = 460 }

	immediate = {
		hidden_effect = {

			if = {
				limit = {
					consort_adm = 4
					has_adm_advisor = yes
				}
				set_ruler_flag = consort_adm_advisor
				set_consort_flag = just_suggested_new_adm_advisor
			}
			if = {
				limit = {
					consort_mil = 4
					has_mil_advisor = yes
					NOT = { has_ruler_flag = consort_adm_advisor }
				}
				set_ruler_flag = consort_mil_advisor
				set_consort_flag = just_suggested_new_mil_advisor
			}
			if = {
				limit = {
					consort_dip = 4
					has_dip_advisor = yes
					NOT = { has_ruler_flag = consort_adm_advisor }
					NOT = { has_ruler_flag = consort_mil_advisor }
				}
				set_ruler_flag = consort_dip_advisor
				set_consort_flag = just_suggested_new_dip_advisor
			}
			if = {
				limit = {
					has_foreign_consort = yes
					any_country = {
						has_given_consort_to = ROOT
						exists = yes
					}
				}
				set_country_flag = foreign_advisor_origin
				random_country = {
					limit = {
						has_given_consort_to = ROOT
						exists = yes
					}
					save_event_target_as = consort_from_here
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						has_province_modifier = domain_of_spouses_family
					}
				}
				set_country_flag = internal_advisor_origin
				random_owned_province = {
					limit = { has_province_modifier = domain_of_spouses_family }
					save_event_target_as = internal_origin_province
				}
			}
			else = {
				set_country_flag = no_foreign_advisor_origin
			}
		}	
	}

	#Yes new advisor
	option = {
		name = consort_events.312.a
		custom_tooltip = consort_events.312.a.tt
		#has_foreign_consort
		
		trigger_switch = {
			on_trigger = has_ruler_flag
			consort_adm_advisor = {
				add_meritocracy_effect = yes
				trigger_switch = {
					on_trigger = has_country_flag
					foreign_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = natural_scientist
								skill = 2
								discount = yes
								female = yes
								culture = event_target:consort_from_here
								religion = event_target:consort_from_here
							}
						}
						else = {
							define_advisor = {
								type = natural_scientist
								skill = 3
								discount = yes
								female = yes
								culture = event_target:consort_from_here
								religion = event_target:consort_from_here
							}
						}
					}
					internal_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = natural_scientist
								skill = 2
								discount = yes
								female = yes
								culture = event_target:internal_origin_province
								religion = event_target:internal_origin_province
							}
						}
						else = {
							define_advisor = {
								type = natural_scientist
								skill = 3
								discount = yes
								female = yes
								culture = event_target:internal_origin_province
								religion = event_target:internal_origin_province
							}
						}
					}
					no_foreign_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = natural_scientist
								skill = 2
								discount = yes
								female = yes
							}
						}
						else = {
							define_advisor = {
								type = natural_scientist
								skill = 3
								discount = yes
								female = yes
							}
						}
					}
				}
			}
			consort_dip_advisor = {
				add_meritocracy_effect = yes
				trigger_switch = {
					on_trigger = has_country_flag
					foreign_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = statesman
								skill = 2
								discount = yes
								female = yes
								culture = event_target:consort_from_here
								religion = event_target:consort_from_here
							}
						}
						else = {
							define_advisor = {
								type = statesman
								skill = 3
								discount = yes
								female = yes
								culture = event_target:consort_from_here
								religion = event_target:consort_from_here
							}
						}
					}
					internal_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = statesman
								skill = 2
								discount = yes
								female = yes
								culture = event_target:internal_origin_province
								religion = event_target:internal_origin_province
							}
						}
						else = {
							define_advisor = {
								type = statesman
								skill = 3
								discount = yes
								female = yes
								culture = event_target:internal_origin_province
								religion = event_target:internal_origin_province
							}
						}
					}
					no_foreign_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = statesman
								skill = 2
								discount = yes
								female = yes
							}
						}
						else = {
							define_advisor = {
								type = statesman
								skill = 3
								discount = yes
								female = yes
							}
						}
					}
				}
			}
			consort_mil_advisor = {
				add_meritocracy_effect = yes
				trigger_switch = {
					on_trigger = has_country_flag
					foreign_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = commandant
								skill = 2
								discount = yes
								female = yes
								culture = event_target:consort_from_here
								religion = event_target:consort_from_here
							}
						}
						else = {
							define_advisor = {
								type = commandant
								skill = 3
								discount = yes
								female = yes
								culture = event_target:consort_from_here
								religion = event_target:consort_from_here
							}
						}
					}
					internal_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = commandant
								skill = 2
								discount = yes
								female = yes
								culture = event_target:internal_origin_province
								religion = event_target:internal_origin_province
							}
						}
						else = {
							define_advisor = {
								type = commandant
								skill = 3
								discount = yes
								female = yes
								culture = event_target:internal_origin_province
								religion = event_target:internal_origin_province
							}
						}
					}
					no_foreign_advisor_origin = {
						if = {
							limit = { NOT = { monthly_income = 25 } }
							define_advisor = {
								type = commandant
								skill = 2
								discount = yes
								female = yes
							}
						}
						else = {
							define_advisor = {
								type = commandant
								skill = 3
								discount = yes
								female = yes
							}
						}
					}
				}
			}
		}
	}

	#No old advisor
	option = {
		trigger = { has_ruler_flag = consort_adm_advisor }
		name = consort_events.312.b
		custom_tooltip = consort_events.312.b.tt
		add_adm_power = 50		
	}

	option = {
		trigger = { has_ruler_flag = consort_dip_advisor }
		name = consort_events.312.c
		custom_tooltip = consort_events.312.c.tt
		add_dip_power = 50		
	}

	option = {
		trigger = { has_ruler_flag = consort_mil_advisor }
		name = consort_events.312.d
		custom_tooltip = consort_events.312.d.tt
		add_mil_power = 50		
	}
	
	after = {
		clr_ruler_flag = consort_adm_advisor
		clr_ruler_flag = consort_dip_advisor
		clr_ruler_flag = consort_mil_advisor
		clr_country_flag = no_foreign_advisor_origin
		clr_country_flag = foreign_advisor_origin
		clr_country_flag = internal_advisor_origin
	}
}

#Another child
country_event = {
	id = consort_events.313
	title = consort_events.313.t
	desc = consort_events.313.d
	picture = NEW_HEIR_eventPicture

	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		has_heir = yes
		NOT = { has_government_attribute = has_harem_events }
		has_consort = yes
		has_consort_regency = no
		war_exhaustion = 2
		OR = {
			has_female_consort = no
			AND = {
				has_female_consort = yes
				NOT = { consort_age = 46 }
			}
		}
	}

	mean_time_to_happen = { 
		months = 300 

		modifier = { 
			factor = 0.75 
			ruler_has_personality = fertile_personality 
		}
		modifier = { 
			factor = 0.75 
			consort_has_personality = fertile_personality 
		}
	}

	option = {
		name = consort_events.313.a
		custom_tooltip = consort_events.313.a.tt

		add_war_exhaustion = -2
	}
}

#Affair 
country_event = {
	id = consort_events.314
	title = consort_events.314.t
	picture = CONSORT_DOING_BADLY_eventPicture

	desc = {
		trigger = { can_heir_be_child_of_consort = yes }
		desc = consort_events.314.da
	}
	desc = {
		trigger = { can_heir_be_child_of_consort = no }
		desc = consort_events.314.db
	}

	trigger = {
		has_dlc = "Rights of Man"
		is_lesser_in_union = no
		has_consort = yes
		has_consort_regency = no
		NOT = { has_government_attribute = has_harem_events }
		NOT = {
			any_owned_province = {
				is_in_capital_area = yes
				has_province_modifier = tyrannical_ruler
			}
		}
	 	OR = {
	 		AND = { # if male consort
	 			has_female_consort = no
				OR = {
					employed_advisor = {
						is_female = yes
						type = treasurer
					}
					employed_advisor = {
						is_female = yes
						type = philosopher
					}
					employed_advisor = {
						is_female = yes
						type = artist
					}
					employed_advisor = {
						is_female = yes
						type = master_of_mint
					}
					employed_advisor = {
						is_female = yes
						type = natural_scientist
					}
				}
			}
	 		AND = { # if female consort
	 			has_female_consort = yes
	 			
	 			OR = {
					employed_advisor = {
						is_male = yes
						type = treasurer
					}
					employed_advisor = {
						is_male = yes
						type = philosopher
					}
					employed_advisor = {
						is_male = yes
						type = artist
					}
					employed_advisor = {
						is_male = yes
						type = master_of_mint
					}
					employed_advisor = {
						is_male = yes
						type = natural_scientist
					}
				}
			}
	 	}
	}

	mean_time_to_happen = { 
		months = 1000

		modifier = {
			factor = 0.75
			OR = {
				ruler_has_personality = cruel_personality
				ruler_has_personality = infertile_personality
				ruler_has_personality = babbling_buffoon_personality
				ruler_has_personality = naive_personality
			}
		} 
		modifier = {
			factor = 0.75
			OR = {
				consort_has_personality = sinner_personality
				consort_has_personality = drunkard_personality
				consort_has_personality = fertile_personality
			}
		} 
	}

	#Let it continue
	option = {
		name = consort_events.314.a
		custom_tooltip = consort_events.314.a.tt

		if = {
			limit = { can_heir_be_child_of_consort = yes has_female_consort = yes }
			random = {
				chance = 50
				country_event = { id = consort_events.315 days = 150 random = 500 }
			}
		}
		if = {
			limit = { 
				OR = {
					can_heir_be_child_of_consort = no 
					has_female_consort = no
				}
			}
			add_prestige = -10
		}
	}

	#Pay off
	option = {
		name = consort_events.314.b
		custom_tooltip = consort_events.314.b.tt

		hidden_effect = {
			if = {
				limit = { advisor = treasurer }
				remove_advisor = treasurer
			}
			if = {
				limit = { advisor = philosopher }
				remove_advisor = philosopher
			}
			if = {
				limit = { advisor = artist }
				remove_advisor = artist
			}
			if = {
				limit = { advisor = master_of_mint }
				remove_advisor = master_of_mint
			}
			if = {
				limit = { advisor = natural_scientist }
				remove_advisor = natural_scientist
			}
		}

		if = { 
			limit = { monthly_income = 30 }
			add_years_of_income = -0.25
		}
		if = {
			limit = { NOT = { monthly_income = 30 } }
			add_treasury = -90
		}

		hidden_effect = {
			if = {
				limit = { can_heir_be_child_of_consort = yes has_female_consort = yes }
				random = {
					chance = 10
					country_event = { id = consort_events.315 days = 150 random = 500 }
				}
			}
		}
	}

	#Execution
	option = {
		name = consort_events.314.c
		custom_tooltip = consort_events.314.c.tt
		reduce_meritocracy_effect = yes
		hidden_effect = {
			if = {
				limit = { advisor = treasurer }
				kill_advisor = treasurer
			}
			if = {
				limit = { advisor = philosopher }
				kill_advisor = philosopher
			}
			if = {
				limit = { advisor = artist }
				kill_advisor = artist
			}
			if = {
				limit = { advisor = master_of_mint }
				kill_advisor = master_of_mint
			}
			if = {
				limit = { advisor = natural_scientist }
				kill_advisor = natural_scientist
			}
		}
		capital_scope = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_province_modifier = {
					name = tyrannical_ruler
					duration = 5475
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { can_heir_be_child_of_consort = yes has_female_consort = yes }
				random = {
					chance = 10
					country_event = { id = consort_events.315 days = 150 random = 500 }
				}
			}
		}
	}

	#Divorce (woman)
	option = {
		trigger = { has_female_consort = yes }
		name = consort_events.314.d
		if = {
			limit = {
				religion = catholic 
				exists = PAP
			}
			set_country_flag = desires_of_flesh_divorce
		}
		divorce_consort_effect = yes
	}

	#Divorce (man)
	option = {
		trigger = { has_female_consort = no }
		name = consort_events.314.e
		if = {
			limit = {
				religion = catholic 
				exists = PAP
			}
			set_country_flag = desires_of_flesh_divorce
		}
		divorce_consort_effect = yes
	}
}

#Questions concerning legitimacy 
country_event = {
	id = consort_events.315
	title = consort_events.315.t
	picture = CONSORT_DOING_BADLY_eventPicture
	desc = consort_events.315.d

	trigger = {
		has_dlc = "Rights of Man"
		has_consort = yes
		is_lesser_in_union = no
		has_consort_regency = no
	 	has_female_consort = yes
		NOT = { has_government_attribute = has_harem_events }
		has_heir = yes
	 	can_heir_be_child_of_consort = yes #Otherwise she won't really be suspected of adultery.
	 	NOT = { has_heir_flag = suspected_bastard }
	}

	mean_time_to_happen = {
		months = 1000

		modifier = {
			factor = 0.75
			OR = {
				consort_has_personality = sinner_personality
				consort_has_personality = drunkard_personality
			}
		}
	}


	option = {
		name = consort_events.315.a

		add_prestige = -10

		add_heir_claim = -30
		set_heir_flag = suspected_bastard
	}
}