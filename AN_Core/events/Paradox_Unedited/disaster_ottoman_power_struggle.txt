namespace = ottoman_power_struggle_events

########################################
# 1.35 Events for the Ottomans Disasters
#
# written by Ogulcan Yildirim
########################################

### Power Struggle Disaster ###

#Start of the Struggle
country_event = {
	id = ottoman_power_struggle_events.1
	title = ottoman_power_struggle_events.1.t
	desc = ottoman_power_struggle_events.1.desc
	picture = BAD_WITH_MONARCH_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_has_ottoman_power_struggle_event_open
			set_variable = {
				which = tur_power_struggle_intesity
				value = 0
			}
		}
	}

	after = {
		clr_country_flag = tur_has_ottoman_power_struggle_event_open
	}

	option = {
		name = ottoman_power_struggle_events.1.a
		add_legitimacy = -50
		add_prestige = -50
		remove_country_modifier = tur_the_ottoman_rule
		if = {
			limit = { current_age = age_of_revolutions }
			custom_tooltip = ottoman_power_struggle_events.1.a.at
		}
		else = {
			custom_tooltip = ottoman_power_struggle_events.1.a.tt
		}
		custom_tooltip = ottoman_power_struggle_events.1.a.bt
		hidden_effect = {
			set_country_flag = tur_unlocked_disaster_missions
			set_country_flag = tur_has_ottoman_power_struggle
		}
		swap_non_generic_missions = yes
		custom_tooltip = ottoman_power_struggle_events.1.a.ct

		ai_chance = {
			factor = 1
		}
	}
}

#End of the Struggle
country_event = {
	id = ottoman_power_struggle_events.2
	title = ottoman_power_struggle_events.2.t
	desc = {
		desc = ottoman_power_struggle_events.2.desc
		trigger = {
			has_reform = ottoman_government
			is_revolutionary = no
		}
	}
	desc = {
		desc = ottoman_power_struggle_events.2.desc.a
		trigger = {
			NOT = { has_reform = ottoman_government }
			is_revolutionary = no
		}
	}
	desc = {
		desc = ottoman_power_struggle_events.2.desc.rev
		trigger = {
			is_revolutionary = yes
		}
	}
	picture = PAX_OTTOMANA_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_had_ottoman_power_struggle
			clr_country_flag = tur_has_ottoman_power_struggle
		}
	}

	option = {
		name = ottoman_power_struggle_events.2.a
		trigger = {
			has_reform = ottoman_government
			is_revolutionary = no
		}
		change_ruler_stat = {
			stat = adm
			amount = 2
		}
		change_ruler_stat = {
			stat = dip
			amount = 2
		}
		change_ruler_stat = {
			stat = mil
			amount = 2
		}
		if = {
			limit = { has_country_modifier = tur_weakened_the_harem }
			remove_country_modifier = tur_weakened_the_harem
			unlock_government_reform = {
				government_reform = modernized_ottoman_government
			}
			add_government_reform = modernized_ottoman_government
		}
		else = {
			unlock_government_reform = {
				government_reform = reorganized_ottoman_government
			}
			add_government_reform = reorganized_ottoman_government
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = ottoman_power_struggle_events.2.b
		trigger = {
			NOT = { has_reform = ottoman_government }
			is_revolutionary = no
		}
		change_ruler_stat = {
			stat = adm
			amount = 2
		}
		change_ruler_stat = {
			stat = dip
			amount = 2
		}
		change_ruler_stat = {
			stat = mil
			amount = 2
		}
		hidden_effect = {
			if = {
				limit = { has_country_modifier = tur_weakened_the_harem }
				remove_country_modifier = tur_weakened_the_harem
				unlock_government_reform = {
					government_reform = modernized_ottoman_government
				}
			}
			else = {
				unlock_government_reform = {
					government_reform = reorganized_ottoman_government
				}
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = ottoman_power_struggle_events.2.c
		trigger = {
			NOT = { has_reform = ottoman_government }
			is_revolutionary = yes
		}
		change_ruler_stat = {
			stat = adm
			amount = 2
		}
		change_ruler_stat = {
			stat = dip
			amount = 2
		}
		change_ruler_stat = {
			stat = mil
			amount = 2
		}
		hidden_effect = {
			if = {
				limit = { has_country_modifier = tur_weakened_the_harem }
				remove_country_modifier = tur_weakened_the_harem
				unlock_government_reform = {
					government_reform = modernized_ottoman_government
				}
			}
			else = {
				unlock_government_reform = {
					government_reform = reorganized_ottoman_government
				}
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Legitimacy Questioned
country_event = {
	id = ottoman_power_struggle_events.3
	title = ottoman_power_struggle_events.3.t
	desc = ottoman_power_struggle_events.3.desc
	picture = BAD_WITH_MONARCH_eventPicture
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = ottoman_power_struggle_events.3.a
		if = {
			limit = { government = republic }
			ottoman_power_struggle_effect = {
				republican_tradition_effect = yes
			}
		}
		else = {
			ottoman_power_struggle_effect = {
				legitimacy_effect = yes
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Loss of Prestige
country_event = {
	id = ottoman_power_struggle_events.4
	title = ottoman_power_struggle_events.4.t
	desc = ottoman_power_struggle_events.4.desc
	picture = BAD_WITH_MONARCH_eventPicture
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = ottoman_power_struggle_events.4.a
		ottoman_power_struggle_effect = {
			prestige_effect = yes
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Financial Problems
country_event = {
	id = ottoman_power_struggle_events.5
	title = ottoman_power_struggle_events.5.t
	desc = ottoman_power_struggle_events.5.desc
	picture = BANKRUPTCY_eventPicture
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = ottoman_power_struggle_events.5.a
		ottoman_power_struggle_effect = {
			treasury_effect = yes
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = ottoman_power_struggle_events.5.b
		ottoman_power_struggle_effect = {
			inflation_effect = yes
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Beylik revolts
country_event = {
	id = ottoman_power_struggle_events.6
	title = ottoman_power_struggle_events.6.t
	desc = ottoman_power_struggle_events.6.desc
	picture = REVOLT_eventPicture
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	goto = revolt_province_1
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_in_capital_area = yes
					is_overseas = no
				}
				save_event_target_as = revolt_province_1
				set_likely_rebels_flag = yes
			}
			random_owned_province = {
				limit = {
					is_in_capital_area = yes
					is_overseas = no
				}
				save_event_target_as = revolt_province_2
				set_likely_rebels_flag = yes
			}
			random_owned_province = {
				limit = {
					is_in_capital_area = yes
					is_overseas = no
				}
				save_event_target_as = revolt_province_3
				set_likely_rebels_flag = yes
			}
			random_owned_province = {
				limit = {
					is_in_capital_area = yes
					is_overseas = no
				}
				save_event_target_as = revolt_province_4
				set_likely_rebels_flag = yes
			}
		}
	}

	option = {
		name = ottoman_power_struggle_events.6.a
		ottoman_power_struggle_rebel_effect = {
			province_1 = event_target:revolt_province_1
			province_2 = event_target:revolt_province_2
			province_3 = event_target:revolt_province_3
			province_4 = event_target:revolt_province_4
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Corruption in the court
country_event = {
	id = ottoman_power_struggle_events.7
	title = ottoman_power_struggle_events.7.t
	desc = ottoman_power_struggle_events.7.desc
	picture = CORRUPTION_eventPicture
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = ottoman_power_struggle_events.7.a
		ottoman_power_struggle_effect = {
			corruption_effect = yes
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Inefficient Bureaucracy
country_event = {
	id = ottoman_power_struggle_events.8
	title = ottoman_power_struggle_events.8.t
	desc = ottoman_power_struggle_events.8.desc
	picture = ECONOMY_eventPicture
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = ottoman_power_struggle_events.8.a
		ottoman_power_struggle_effect = {
			monarch_power_effect = yes
		}

		ai_chance = {
			factor = 1
		}
	}
}


namespace = janissary_coup_events
### Janissary Coup Disaster ###

#Start of the Struggle
country_event = {
	id = janissary_coup_events.1
	title = janissary_coup_events.1.t
	desc = {
		trigger = {
			OR = {
				has_loyal_sheikh_ul_islam_trigger = yes
				has_ruler_modifier = the_sheikh_ul_islam
			}
		}
		desc = janissary_coup_events.1.desc
	}
	desc = {
		trigger = {
			NOT = { has_ruler_modifier = the_sheikh_ul_islam }
			has_loyal_sheikh_ul_islam_trigger = no
		}
		desc = janissary_coup_events.1.desc.nosheikh
	}
	picture = JANISSARY_REVOLT_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_has_janissary_coup
			random_owned_province = {
				limit = {
					is_capital = no
					NOT = { religion_group = ROOT }
				}
				save_event_target_as = tur_revolter_province
			}
			if = {
				limit = { has_estate = estate_janissaries }
				add_estate_loyalty = {
					estate = estate_janissaries
					loyalty = -100
				}
				set_estate_privilege = estate_janissary_coup_detat
				set_estate_privilege = estate_janissary_military_reactionaries
				set_estate_privilege = estate_janissary_puppet_sultan
				if = {
					limit = { has_estate_privilege = estate_janissary_sultans_aghas }
					remove_estate_privilege = estate_janissary_sultans_aghas
					set_estate_privilege = estate_janissary_self_appointed_aghas
				}
				if = {
					limit = { has_estate_privilege = estate_janissary_recruited_by_merit }
					remove_estate_privilege = estate_janissary_recruited_by_merit
					set_estate_privilege = estate_janissary_hereditary_ranks
				}
				if = {
					limit = { has_estate_privilege = estate_janissary_professional_soldiers }
					remove_estate_privilege = estate_janissary_professional_soldiers
					set_estate_privilege = estate_janissary_allow_other_professions
				}
				if = {
					limit = { has_estate_privilege = estate_janissary_celibacy }
					remove_estate_privilege = estate_janissary_celibacy
					set_estate_privilege = estate_janissary_allow_marriages
				}
				if = {
					limit = { has_estate_privilege = estate_janissary_minimal_payment }
					remove_estate_privilege = estate_janissary_minimal_payment
					set_estate_privilege = estate_janissary_toprak_payment
				}
				if = {
					limit = { has_estate_privilege = estate_janissary_rough_discipline }
					remove_estate_privilege = estate_janissary_rough_discipline
					set_estate_privilege = estate_janissary_janissary_officers
				}
				if = {
					limit = { has_estate_privilege = estate_janissary_loyalty_to_the_sultan }
					remove_estate_privilege = estate_janissary_loyalty_to_the_sultan
					set_estate_privilege = estate_janissary_guarantee_privileges
				}
				if = {
					limit = { has_estate_privilege = estate_janissary_strict_devshirme_recruitment }
					remove_estate_privilege = estate_janissary_strict_devshirme_recruitment
					set_estate_privilege = estate_janissary_janissaries_from_muslims
				}
				set_country_flag = tur_disable_positive_janissary_privileges
			}
		}
	}

	option = {
		name = janissary_coup_events.1.a
		goto = tur_revolter_province
		if = {
			limit = { has_estate = estate_janissaries }
			tooltip = {
				add_estate_loyalty = {
					estate = estate_janissaries
					loyalty = -100
				}
				set_estate_privilege = estate_janissary_coup_detat
				set_estate_privilege = estate_janissary_military_reactionaries
				set_estate_privilege = estate_janissary_puppet_sultan
				custom_tooltip = janissary_coup_events.1.a.tt
			}
		}
		else = {
			add_prestige = -20
			add_legitimacy = -10
			add_stability = -1
		}
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = janissary_rebels
				size = 2
			}
		}
		remove_country_modifier = janissaries_upset
		remove_country_modifier = janissary_landholders
		remove_country_modifier = strictly_enforced_janissary_discipline
		remove_country_modifier = janissaries_disciplined
		remove_country_modifier = janissaries_denied_reward

		ai_chance = {
			factor = 1
		}
	}
}

#End of the Struggle
country_event = {
	id = janissary_coup_events.2
	title = janissary_coup_events.2.t
	desc = {
		desc = janissary_coup_events.2.desc.a
		trigger = {
			has_country_flag = tur_fight_against_the_janissaries_1_flag
			has_country_flag = tur_fight_against_the_janissaries_2_flag
			has_country_flag = tur_fight_against_the_janissaries_3_flag
		}
	}
	desc = {
		desc = janissary_coup_events.2.desc.b
		trigger = {
			OR = {
				NOT = { has_country_flag = tur_fight_against_the_janissaries_1_flag }
				NOT = { has_country_flag = tur_fight_against_the_janissaries_2_flag }
				NOT = { has_country_flag = tur_fight_against_the_janissaries_3_flag }
			}
		}
	}
	picture = JANISSARIES_IN_FORMATION_eventPicture
	is_triggered_only = yes
	major = yes
	
	immediate = {
		hidden_effect = {
			clr_country_flag = tur_has_janissary_coup
			clr_country_flag = tur_disable_positive_janissary_privileges
			set_country_flag = tur_had_janissary_coup
			random_owned_province = {
				save_event_target_as = janissary_province
			}
		}
	}
	
	# So much death... but at least the empire will survive.
	option = {
		name = janissary_coup_events.2.a
		trigger = {
			has_country_flag = tur_fight_against_the_janissaries_1_flag
			has_country_flag = tur_fight_against_the_janissaries_2_flag
			has_country_flag = tur_fight_against_the_janissaries_3_flag
		}
		add_country_modifier = {
			name = tur_shattered_the_janissaries
			duration = -1
		}
		add_mil_power = 200
		add_stability_or_adm_power = yes
	}
	
	# So much death... but at least the empire will survive.
	option = {
		name = janissary_coup_events.2.b
		trigger = {
			OR = {
				NOT = { has_country_flag = tur_fight_against_the_janissaries_1_flag }
				NOT = { has_country_flag = tur_fight_against_the_janissaries_2_flag }
				NOT = { has_country_flag = tur_fight_against_the_janissaries_3_flag }
			}
		}
		add_country_modifier = {
			name = tur_reformation_of_the_ottoman_estates
			duration = -1
		}
		add_absolutism = -50
		add_stability_or_adm_power = yes
	}
}

#Janissary Rebellion in the Balkans - First Offensive - Localized by Big Boss
country_event = {
	id = janissary_coup_events.3
	title = janissary_coup_events.3.t
	desc = janissary_coup_events.3.desc
	picture = JANISSARY_REVOLT_eventPicture
	is_triggered_only = yes
	
	immediate = { 
		hidden_effect = { 
			set_country_flag = tur_fight_against_the_janissaries_1_flag
			random_owned_province = { 
				limit = { region = balkan_region } 
				add_unrest = 10 
				janissary_rebels = 3 
			}
			random_owned_province = { 
				limit = { region = balkan_region } 
				add_unrest = 10 
				janissary_rebels = 3 
			}
			random_owned_province = { 
				limit = { region = balkan_region } 
				add_unrest = 10 
				janissary_rebels = 3 
			}
			random_owned_province = { 
				limit = { region = balkan_region } 
				add_unrest = 10 
				janissary_rebels = 3 
			}
			random_owned_province = { 
				limit = { region = balkan_region } 
				add_unrest = 10 
				janissary_rebels = 3 
			}
			capital_scope = { 
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
			}
			random_owned_province = { 
				limit = {
					continent = europe 
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
			}
			random_owned_province = { 
				limit = {
					continent = europe 
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
			}
		}
	}
	
	option = { 
		name = janissary_coup_events.3.a 
		
		add_stability = -1
	}
}

#Janissary Rebellion in Anatolia - Second Offensive - Localized by Big Boss
country_event = {
	id = janissary_coup_events.4
	title = janissary_coup_events.4.t
	desc = janissary_coup_events.4.desc
	picture = JANISSARY_REVOLT_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { 
			set_country_flag = tur_fight_against_the_janissaries_2_flag
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			capital_scope = { 
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
			}
		}
	}
	
	option = { 
		name = janissary_coup_events.4.a 
		
		add_stability = -1
		anatolia_region = { 
			limit = { owned_by = ROOT } 
			add_devastation = 25 
			add_unrest = 10
		}
		capital_scope = { 
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
		}
	}
}

#Janissary Rebellion in Anatolia and Balkans - Third Offensive
country_event = {
	id = janissary_coup_events.5
	title = janissary_coup_events.5.t
	desc = janissary_coup_events.5.desc
	picture = JANISSARY_REVOLT_eventPicture
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { 
			set_country_flag = tur_fight_against_the_janissaries_3_flag
			random_owned_province = { 
				limit = {
					region = balkan_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = balkan_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = balkan_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = balkan_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			random_owned_province = { 
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 3
					win = yes 
				}
				add_unrest = 10
			}
			capital_scope = { 
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
				spawn_rebels = {
					type = janissary_rebels
					size = 4
					win = yes 
				}
			}
		}
	}
	
	option = { 
		name = janissary_coup_events.5.a 
		
		add_stability = -1
		anatolia_region = { 
			limit = { owned_by = ROOT } 
			add_devastation = 25 
			add_unrest = 10
		}
		balkan_region = { 
			limit = { owned_by = ROOT } 
			add_devastation = 25 
			add_unrest = 10
		}
		capital_scope = { 
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 4
				win = yes 
			}
		}
	}
}

# Death of [Root.Monarch.GetName] - See janissary_decadence.2 from disaster_TUR_JanissaryDecadence
#country_event = {
#	id = janissary_coup_events.6
#	title = janissary_coup_events.6.t
#	desc = janissary_coup_events.6.desc
#	picture = ASSASSINATION_eventPicture	
#	is_triggered_only = yes
#	
#	mean_time_to_happen = {
#		days = 1
#	}
#	
#	trigger = {
#		NOT = { legitimacy = 80 }
#	}
#	
#	
#	option = {		# Long live [Root.Heir.GetName]!
#		name = janissary_coup_events.6.a
#		trigger = {
#			has_heir = yes
#			NOT = { heir_age = 13 }
#		}
#		kill_ruler = yes
#	}
#	option = {		# This is a disgrace to the [Root.Monarch.Dynasty.GetName] line!
#		name = janissary_coup_events.6.b
#		trigger = {
#			OR = {
#				has_heir = no
#				heir_age = 13
#			}
#		}
#		if = {
#			limit = { has_heir = yes }
#			kill_heir = { allow_new_heir = no }
#		}
#		if = {
#			limit = { has_dlc = "Rights of Man" }
#			kill_ruler = yes #Followed by event for having no heir
#		}
#		else = {
#			define_ruler = {
#				dynasty = ROOT
#				male = yes
#				max_random_adm = 3
#				max_random_mil = 3
#				max_random_dip = 3
#			}
#			if = {
#				limit = {
#					has_states_general_mechanic = yes
#				}
#				change_statists_vs_orangists = 1
#			}
#		}
#	}
#}

# Offices Awarded
country_event = {
	id = janissary_coup_events.7
	title = janissary_decadence.3.t
	desc = janissary_decadence.3.d
	picture = JANISSARY_REVOLT_eventPicture
	
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}
	
	option = {		# 
		name = janissary_decadence.3.a
		add_corruption = 0.5
		add_army_tradition = -15
	}
}

# The Threat of the Janissaries - See janissary_decadence.4 from disaster_TUR_JanissaryDecadence
#country_event = {
#	id = janissary_coup_events.8
#	title = janissary_coup_events.8.t
#	desc = janissary_coup_events.8.desc
#	picture = REVOLUTION_eventPicture
#	
#	is_triggered_only = yes
#
#	mean_time_to_happen = {
#		days = 1
#	}
#	
#	option = {		# 
#		name = janissary_coup_events.8.a
#		add_years_of_income = -1
#	}
#	option = {		# 
#		name = janissary_coup_events.8.b
#		trigger = {
#			NOT = { has_country_modifier = janissary_coup_pay }
#		}
#		add_disaster_modifier = {
#			name = janissary_coup_pay
#			duration = -1
#			disaster = janissary_decadence
#		}
#	}
#	option = {		# 
#		name = janissary_coup_events.8.c
#		goto = capital
#		capital_scope = {
#			spawn_rebels = {
#				type = janissary_rebels
#				size = 3
#			}
#		}
#	}
#}

# Oppression - See janissary_decadence.5 from disaster_TUR_JanissaryDecadence
#country_event = {
#	id = janissary_coup_events.9
#	title = janissary_coup_events.9.t
#	desc = janissary_coup_events.9.desc
#	picture = REVOLUTION_eventPicture
#	is_triggered_only = yes
#	trigger = {
#		any_owned_province = {
#			is_in_capital_area = yes
#			is_capital = no
#		}	
#	}
#	
#
#	immediate = {
#		random_owned_province = {
#			limit = {
#				is_in_capital_area = yes
#				is_capital = no
#			}
#			save_event_target_as = oppressed_province
#		}
#	}
#	
#	mean_time_to_happen = {
#		days = 1
#	}
#	
#	option = {		# This will not be forgotten
#		name = janissary_coup_events.9.a
#		goto = oppressed_province
#		event_target:oppressed_province = {
#			spawn_rebels = {
#				type = janissary_rebels
#				size = 2
#			}
#		}
#	}
#}

# Loyal Minister - See janissary_decadence.6 from disaster_TUR_JanissaryDecadence
#country_event = {
#	id = janissary_coup_events.10
#	title = janissary_coup_events.10.t
#	desc = janissary_coup_events.10.desc
#	picture = BATTLE_eventPicture
#	
#	is_triggered_only = yes
#
#	mean_time_to_happen = {
#		days = 1
#	}
#		
#	immediate = {
#		hidden_effect = {
#			set_saved_name = {
#				key = great_minister
#				type = advisor
#				scope = ROOT
#			}
#			random_list = {
#				33 = { set_country_flag = great_adm_minister }
#				33 = { set_country_flag = great_dip_minister }
#				33 = { set_country_flag = great_mil_minister }
#			}
#		}
#	}
#	
#	option = {		# 
#		name = janissary_coup_events.10.a
#		goto = capital
#		add_stability = 1
#		trigger_switch = {
#			on_trigger = has_country_flag
#			great_adm_minister = {
#				define_advisor = {
#					name = great_minister
#					type = theologian
#					skill = 3
#					discount = yes
#				}
#			}
#			great_adm_minister = {
#				define_advisor = {
#					name = great_minister
#					type = statesman
#					skill = 3
#					discount = yes
#				}
#			}
#			great_adm_minister = {
#				define_advisor = {
#					name = great_minister
#					type = army_reformer
#					skill = 3
#					discount = yes
#				}
#			}
#		}
#		capital_scope = {
#			spawn_rebels = {
#				type = janissary_rebels
#				size = 3
#			}
#		}
#	}
#	option = {		# 
#		name = janissary_coup_events.10.b
#		add_legitimacy = -5
#	}
#	after = {
#		clear_saved_name = great_minister
#		trigger_switch = {
#			on_trigger = has_country_flag
#			great_adm_minister = { clr_country_flag = great_adm_minister }
#			great_dip_minister = { clr_country_flag = great_dip_minister }
#			great_mil_minister = { clr_country_flag = great_mil_minister }
#		}
#	}
#}

# Janissaries Demand Advisors' Heads - See janissary_decadence.7 from disaster_TUR_JanissaryDecadence
#country_event = {
#	id = janissary_coup_events.11
#	title = janissary_coup_events.11.t
#	desc = janissary_coup_events.11.desc
#	picture = REVOLUTION_eventPicture
#	
#	is_triggered_only = yes
#
#	mean_time_to_happen = {
#		days = 1
#	}
#	
#	option = {		# 
#		name = janissary_coup_events.11.a
#		if = {
#			limit = {
#				employed_advisor = {
#					category = ADM
#				}
#			}
#			remove_advisor_by_category = ADM
#		}
#		add_adm_power = -50
#	}
#	option = {		# 
#		name = janissary_coup_events.11.b
#		goto = capital
#		capital_scope = {
#			spawn_rebels = {
#				type = janissary_rebels
#				size = 2
#			}
#		}
#	}
#}

# Negotioations with the Janissaries
country_event = {
	id = janissary_coup_events.12
	title = janissary_coup_events.12.t
	desc = janissary_coup_events.12.desc
	picture = JANISSARY_ESTATE_UPSET_eventPicture
	is_triggered_only = yes

	#Remove estate_janissary_self_appointed_aghas
	option = {
		name = janissary_coup_events.12.a
		trigger = { has_estate_privilege = estate_janissary_self_appointed_aghas }
		remove_estate_privilege = estate_janissary_self_appointed_aghas
		ai_chance = { factor = 1 }
	}
	#Remove estate_janissary_hereditary_ranks
	option = {
		name = janissary_coup_events.12.b
		trigger = { has_estate_privilege = estate_janissary_hereditary_ranks }
		remove_estate_privilege = estate_janissary_hereditary_ranks
		ai_chance = { factor = 1 }
	}
	#Remove estate_janissary_allow_other_professions
	option = {
		name = janissary_coup_events.12.c
		trigger = { has_estate_privilege = estate_janissary_allow_other_professions }
		remove_estate_privilege = estate_janissary_allow_other_professions
		ai_chance = { factor = 1 }
	}
	#Remove estate_janissary_allow_marriages
	option = {
		name = janissary_coup_events.12.d
		trigger = { has_estate_privilege = estate_janissary_allow_marriages }
		remove_estate_privilege = estate_janissary_allow_marriages
		ai_chance = { factor = 1 }
	}
	#Remove estate_janissary_toprak_payment
	option = {
		name = janissary_coup_events.12.e
		trigger = { has_estate_privilege = estate_janissary_toprak_payment }
		remove_estate_privilege = estate_janissary_toprak_payment
		ai_chance = { factor = 1 }
	}
	#Remove estate_janissary_janissary_officers
	option = {
		name = janissary_coup_events.12.f
		trigger = { has_estate_privilege = estate_janissary_janissary_officers }
		remove_estate_privilege = estate_janissary_janissary_officers
		ai_chance = { factor = 1 }
	}
	#Remove estate_janissary_guarantee_privileges
	option = {
		name = janissary_coup_events.12.g
		trigger = { has_estate_privilege = estate_janissary_guarantee_privileges }
		remove_estate_privilege = estate_janissary_guarantee_privileges
		ai_chance = { factor = 1 }
	}
	#Remove estate_janissary_janissaries_from_muslims
	option = {
		name = janissary_coup_events.12.h
		trigger = { has_estate_privilege = estate_janissary_janissaries_from_muslims }
		remove_estate_privilege = estate_janissary_janissaries_from_muslims
		ai_chance = { factor = 1 }
	}

	#Remove estate_janissary_coup_detat
	option = {
		name = janissary_coup_events.12.i
		trigger = {
			NOT = { has_estate_privilege = estate_janissary_self_appointed_aghas }
			NOT = { has_estate_privilege = estate_janissary_hereditary_ranks }
			NOT = { has_estate_privilege = estate_janissary_allow_other_professions }
			NOT = { has_estate_privilege = estate_janissary_allow_marriages }
			NOT = { has_estate_privilege = estate_janissary_toprak_payment }
			NOT = { has_estate_privilege = estate_janissary_janissary_officers }
			NOT = { has_estate_privilege = estate_janissary_guarantee_privileges }
			NOT = { has_estate_privilege = estate_janissary_janissaries_from_muslims }
			has_estate_privilege = estate_janissary_coup_detat 
		}
		remove_estate_privilege = estate_janissary_coup_detat
		ai_chance = { factor = 1 }
	}

	#Remove estate_janissary_military_reactionaries
	option = {
		name = janissary_coup_events.12.j
		trigger = {
			NOT = { has_estate_privilege = estate_janissary_self_appointed_aghas }
			NOT = { has_estate_privilege = estate_janissary_hereditary_ranks }
			NOT = { has_estate_privilege = estate_janissary_allow_other_professions }
			NOT = { has_estate_privilege = estate_janissary_allow_marriages }
			NOT = { has_estate_privilege = estate_janissary_toprak_payment }
			NOT = { has_estate_privilege = estate_janissary_janissary_officers }
			NOT = { has_estate_privilege = estate_janissary_guarantee_privileges }
			NOT = { has_estate_privilege = estate_janissary_janissaries_from_muslims }
			has_estate_privilege = estate_janissary_military_reactionaries
		}
		remove_estate_privilege = estate_janissary_military_reactionaries
		ai_chance = { factor = 1 }
	}

	#Remove estate_janissary_puppet_sultan
	option = {
		name = janissary_coup_events.12.k
		trigger = {
			NOT = { has_estate_privilege = estate_janissary_self_appointed_aghas }
			NOT = { has_estate_privilege = estate_janissary_hereditary_ranks }
			NOT = { has_estate_privilege = estate_janissary_allow_other_professions }
			NOT = { has_estate_privilege = estate_janissary_allow_marriages }
			NOT = { has_estate_privilege = estate_janissary_toprak_payment }
			NOT = { has_estate_privilege = estate_janissary_janissary_officers }
			NOT = { has_estate_privilege = estate_janissary_guarantee_privileges }
			NOT = { has_estate_privilege = estate_janissary_janissaries_from_muslims }
			has_estate_privilege = estate_janissary_puppet_sultan
		}
		remove_estate_privilege = estate_janissary_puppet_sultan
		ai_chance = { factor = 1 }
	}

	#Fallback
	option = {
		name = janissary_coup_events.12.zzz
		trigger = {
			NOT = { has_estate_privilege = estate_janissary_self_appointed_aghas }
			NOT = { has_estate_privilege = estate_janissary_hereditary_ranks }
			NOT = { has_estate_privilege = estate_janissary_allow_other_professions }
			NOT = { has_estate_privilege = estate_janissary_allow_marriages }
			NOT = { has_estate_privilege = estate_janissary_toprak_payment }
			NOT = { has_estate_privilege = estate_janissary_janissary_officers }
			NOT = { has_estate_privilege = estate_janissary_guarantee_privileges }
			NOT = { has_estate_privilege = estate_janissary_janissaries_from_muslims }
			NOT = { has_estate_privilege = estate_janissary_coup_detat }
			NOT = { has_estate_privilege = estate_janissary_military_reactionaries }
			NOT = { has_estate_privilege = estate_janissary_puppet_sultan }
		}
		add_prestige_or_monarch_power = {
			amount = 100
		}
		ai_chance = { factor = 1 }
	}
}

#Janissary Defections - Localized by Big Boss
country_event = {
	id = janissary_coup_events.13
	title = janissary_coup_events.13.t
	desc = janissary_coup_events.13.desc
	picture = REVOLT_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	goto = revolt_province_1
	immediate = { 
		hidden_effect = { 
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 25 
				}
			}
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 25 
				}
			}
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 25 
				}
			}
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 25 
				}
			}
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 15 
				}
			}
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 12 
				}
			}
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 25 
				}
			}
			random_owned_province = { 
				limit = { infantry_in_province = 20 } 
				kill_units = {
					who = owner
					type = infantry
					amount = 25 
				}
			}
			random_owned_province = {
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
				}
				save_event_target_as = revolt_province_1
			}
			random_owned_province = {
				limit = {
					region = anatolia_region  
					controlled_by = ROOT 
					NOT = { province_id = event_target:revolt_province_1 }
				}
				save_event_target_as = revolt_province_2
			}
			add_yearly_manpower = -2
		}
		
	}
	
	option = {
		name = janissary_coup_events.13.a 
		add_stability = -1
		if = { 
			limit = { has_dlc = "Cradle of Civilization" } 
			add_army_professionalism = -0.25
		}
		add_army_tradition = -20
		random_owned_province = { 
			limit = {
				region = anatolia_region  
				controlled_by = ROOT 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 3
				
				win = yes 
			}
			add_unrest = 10
		}
		random_owned_province = { 
			limit = {
				region = anatolia_region  
				controlled_by = ROOT 
			}
			spawn_rebels = {
				type = janissary_rebels
				size = 3
				
				win = yes 
			}
			add_unrest = 10
		}
		add_yearly_manpower = -2
	}
	
	option = { 
		name = janissary_coup_events.13.b
		add_years_of_income = -2
		add_inflation = 10
		add_corruption = 5
		add_stability = -2 
	}
}


namespace = eyalet_rebellion_events
### Eyalet Rebellion ###

#Start of the Struggle
country_event = {
	id = eyalet_rebellion_events.1
	title = eyalet_rebellion_events.1.t
	desc = eyalet_rebellion_events.1.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_has_eyalet_rebellion
		}
	}

	option = {
		name = eyalet_rebellion_events.1.a
		add_stability = -1
		custom_tooltip = eyalet_rebellion_events.1.a.tt
		hidden_effect = {
			every_subject_country = {
				limit = {
					is_eyalet_trigger = yes
				}
				add_liberty_desire = 20
			}
		}
		kill_advisor_by_category_effect = {
			ADM = yes
		}
		kill_advisor_by_category_effect = {
			DIP = yes
		}
		kill_advisor_by_category_effect = {
			MIL = yes
		}

		ai_chance = {
			factor = 1
		}
	}
}

#End of the Struggle
country_event = {
	id = eyalet_rebellion_events.2
	title = eyalet_rebellion_events.2.t
	desc = eyalet_rebellion_events.2.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_had_eyalet_rebellion
			clr_country_flag = tur_has_eyalet_rebellion
		}
	}

	option = {
		name = eyalet_rebellion_events.2.a
		add_stability_or_adm_power = yes
		add_dip_power = 200

		ai_chance = {
			factor = 1
		}
	}
}

#Generic Eyalet Revolt Event - Liberty Desire
country_event = {
	id = eyalet_rebellion_events.3
	title = eyalet_rebellion_events.3.t
	desc = eyalet_rebellion_events.3.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	option = {
		name = eyalet_rebellion_events.3.a
		goto = angry_eyalet_capital
		event_target:angry_eyalet = {
			add_liberty_desire = 10
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Generic Eyalet Revolt Event - Refusal to Pay
country_event = {
	id = eyalet_rebellion_events.4
	title = eyalet_rebellion_events.4.t
	desc = eyalet_rebellion_events.4.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
		}
		NOT = { has_country_modifier = tur_inefficient_tax_collection }
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	option = {
		name = eyalet_rebellion_events.4.a
		add_country_modifier = {
			name = tur_inefficient_tax_collection
			duration = 1825
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = eyalet_rebellion_events.4.b
		goto = angry_eyalet_capital
		event_target:angry_eyalet = {
			add_liberty_desire = 15
			add_years_of_income = -0.25
		}
		add_years_of_income = 0.05

		ai_chance = {
			factor = 1
		}
	}
}

#Generic Eyalet Revolt Event - Revolting Son of Sultan
country_event = {
	id = eyalet_rebellion_events.5
	title = eyalet_rebellion_events.5.t
	desc = {
		desc = eyalet_rebellion_events.5.desc.son
		trigger = {
			ruler_age = 30
		}
	}
	desc = {
		desc = eyalet_rebellion_events.5.desc.brother
		trigger = {
			NOT = { ruler_age = 30 }
		}
	}
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	option = {
		name = eyalet_rebellion_events.5.a
		goto = angry_eyalet_capital
		event_target:angry_eyalet_capital = {
			spawn_rebels = {
				type = renegade_sultan_son_rebels
				size = 4
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Special Eyalet Revolt Event - Revolting Egypt
country_event = {
	id = eyalet_rebellion_events.6
	title = eyalet_rebellion_events.6.t
	desc = eyalet_rebellion_events.6.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
			num_of_owned_provinces_with = {
				region = egypt_region
				value = 10
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
					num_of_owned_provinces_with = {
						region = egypt_region
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#Grant them more autonomy
	option = {
		name = eyalet_rebellion_events.6.a
		event_target:angry_eyalet = {
			add_liberty_desire = 20
		}

		ai_chance = {
			factor = 1
		}
	}

	#No
	option = {
		name = eyalet_rebellion_events.6.b
		goto = angry_eyalet_capital
		event_target:angry_eyalet_capital = {
			spawn_rebels = {
				type = independence_rebels
				size = 4
			}
		}
		event_target:angry_eyalet = {
			random_owned_province = {
				spawn_rebels = {
					type = independence_rebels
					size = 4
				}
			}
		}
		custom_tooltip = eyalet_rebellion_events.tt

		ai_chance = {
			factor = 1
		}
	}

	#Grant them more autonomy
	option = {
		name = eyalet_rebellion_events.6.c
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = well_connected_personality
				ruler_has_personality = silver_tongue_personality
				dip = 5
			}
		}
		add_dip_power = -15

		ai_chance = {
			factor = 1
		}
	}
}

#Special Eyalet Revolt Event - Egyptian War for Independence
country_event = {
	id = eyalet_rebellion_events.7
	title = eyalet_rebellion_events.7.t
	desc = eyalet_rebellion_events.7.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
			liberty_desire = 75
			num_of_owned_provinces_with = {
				region = egypt_region
				value = 10
			}
		}
	}
	goto = angry_eyalet_capital

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
					liberty_desire = 75
					num_of_owned_provinces_with = {
						region = egypt_region
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#To arms!
	option = {
		name = eyalet_rebellion_events.7.a
		event_target:angry_eyalet = {
			declare_war_with_cb = {
				casus_belli = cb_triggered_independence_war
				who = ROOT
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#Let them go
	option = {
		name = eyalet_rebellion_events.7.b
		event_target:angry_eyalet = {
			grant_independence = yes
		}

		ai_chance = {
			factor = 0
		}
	}

	#Give them autonomy
	option = {
		name = eyalet_rebellion_events.7.c
		event_target:angry_eyalet = {
			add_liberty_desire = -30
		}
		add_stability = -1
		add_dip_power = -100

		ai_chance = {
			factor = 0
		}
	}
}

#Special Eyalet Revolt Event - Revolting Persia
country_event = {
	id = eyalet_rebellion_events.8
	title = eyalet_rebellion_events.8.t
	desc = eyalet_rebellion_events.8.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
			num_of_owned_provinces_with = {
				region = persia_region
				value = 10
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
					num_of_owned_provinces_with = {
						region = persia_region
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#Grant them more autonomy
	option = {
		name = eyalet_rebellion_events.6.a
		event_target:angry_eyalet = {
			add_liberty_desire = 15			
		}

		ai_chance = {
			factor = 1
		}
	}

	#No
	option = {
		name = eyalet_rebellion_events.6.b
		goto = angry_eyalet_capital
		event_target:angry_eyalet_capital = {
			spawn_rebels = {
				type = independence_rebels
				size = 2
			}
		}
		event_target:angry_eyalet_capital = {
			random_owned_province = {
				spawn_rebels = {
					type = independence_rebels
					size = 4
				}
			}
		}
		custom_tooltip = eyalet_rebellion_events.tt

		ai_chance = {
			factor = 1
		}
	}

	#Grant them more autonomy
	option = {
		name = eyalet_rebellion_events.6.c
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = well_connected_personality
				ruler_has_personality = silver_tongue_personality
				dip = 5
			}
		}
		add_dip_power = -15

		ai_chance = {
			factor = 1
		}
	}
}

#Special Eyalet Revolt Event - Persian War for Independence
country_event = {
	id = eyalet_rebellion_events.9
	title = eyalet_rebellion_events.9.t
	desc = eyalet_rebellion_events.9.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
			liberty_desire = 75
			num_of_owned_provinces_with = {
				region = persia_region
				value = 10
			}
		}
	}
	goto = angry_eyalet_capital

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
					liberty_desire = 75
					num_of_owned_provinces_with = {
						region = persia_region
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#To arms!
	option = {
		name = eyalet_rebellion_events.7.a
		event_target:angry_eyalet = {
			declare_war_with_cb = {
				casus_belli = cb_triggered_independence_war
				who = ROOT
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#Let them go
	option = {
		name = eyalet_rebellion_events.7.b
		event_target:angry_eyalet = {
			grant_independence = yes
		}

		ai_chance = {
			factor = 0
		}
	}

	#Give them autonomy
	option = {
		name = eyalet_rebellion_events.7.c
		event_target:angry_eyalet = {
			add_liberty_desire = -30
		}
		add_stability = -1
		add_dip_power = -100

		ai_chance = {
			factor = 0
		}
	}
}

#Special Eyalet Revolt Event - Revolting Europe
country_event = {
	id = eyalet_rebellion_events.10
	title = eyalet_rebellion_events.11.t
	desc = eyalet_rebellion_events.10.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
			num_of_owned_provinces_with = {
				continent = europe
				value = 10
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
					num_of_owned_provinces_with = {
						continent = europe
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#Grant them more autonomy
	option = {
		name = eyalet_rebellion_events.6.a
		event_target:angry_eyalet = {
			add_liberty_desire = 15			
		}

		ai_chance = {
			factor = 1
		}
	}

	#No
	option = {
		name = eyalet_rebellion_events.6.b
		goto = angry_eyalet_capital
		event_target:angry_eyalet_capital = {
			spawn_rebels = {
				type = independence_rebels
				size = 4
			}
		}
		event_target:angry_eyalet = {
			random_owned_province = {
				spawn_rebels = {
					type = independence_rebels
					size = 4
				}
			}
		}
		custom_tooltip = eyalet_rebellion_events.tt

		ai_chance = {
			factor = 1
		}
	}

	#Grant them more autonomy
	option = {
		name = eyalet_rebellion_events.6.c
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = well_connected_personality
				ruler_has_personality = silver_tongue_personality
				dip = 5
			}
		}
		add_dip_power = -15

		ai_chance = {
			factor = 1
		}
	}
}

#Special Eyalet Revolt Event - European War for Independence
country_event = {
	id = eyalet_rebellion_events.11
	title = eyalet_rebellion_events.10.t
	desc = eyalet_rebellion_events.11.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_subject_country = {
			is_eyalet_trigger = yes
			liberty_desire = 75
			num_of_owned_provinces_with = {
				continent = europe
				value = 10
			}
		}
	}
	goto = angry_eyalet_capital

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_eyalet_trigger = yes
					liberty_desire = 75
					num_of_owned_provinces_with = {
						continent = europe
						value = 10
					}
				}
				capital_scope = {
					save_event_target_as = angry_eyalet_capital
				}
				save_event_target_as = angry_eyalet
			}
		}
	}

	#To arms!
	option = {
		name = eyalet_rebellion_events.7.a
		event_target:angry_eyalet = {
			declare_war_with_cb = {
				casus_belli = cb_triggered_independence_war
				who = ROOT
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#Let them go
	option = {
		name = eyalet_rebellion_events.7.b
		event_target:angry_eyalet = {
			grant_independence = yes
		}

		ai_chance = {
			factor = 0
		}
	}

	#Give them autonomy
	option = {
		name = eyalet_rebellion_events.7.c
		event_target:angry_eyalet = {
			add_liberty_desire = -30
		}
		add_stability = -1
		add_dip_power = -100

		ai_chance = {
			factor = 0
		}
	}
}

#Non-Eyalet Revolt Event - Revolt in Persia
country_event = {
	id = eyalet_rebellion_events.12
	title = eyalet_rebellion_events.12.t
	desc = eyalet_rebellion_events.12.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		num_of_owned_provinces_with = {
			region = persia_region
			value = 15
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { region = persia_region }
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = eyalet_rebellion_events.12.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Non-Eyalet Revolt Event - Revolt in Egypt
country_event = {
	id = eyalet_rebellion_events.13
	title = eyalet_rebellion_events.13.t
	desc = eyalet_rebellion_events.13.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		num_of_owned_provinces_with = {
			region = egypt_region
			value = 15
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { region = egypt_region }
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = eyalet_rebellion_events.12.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Non-Eyalet Revolt Event - Revolt in Europe
country_event = {
	id = eyalet_rebellion_events.14
	title = eyalet_rebellion_events.14.t
	desc = eyalet_rebellion_events.14.desc
	picture = EYALET_REBELLION_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		num_of_owned_provinces_with = {
			superregion = europe_superregion
			value = 15
		}
		any_owned_province = {
			superregion = europe_superregion
			religion_group = christian
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					superregion = europe_superregion
					religion_group = christian
				}
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = eyalet_rebellion_events.12.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}


namespace = pasha_decadence_events
### Pasha Decadence ###

#Start of the Struggle
country_event = {
	id = pasha_decadence_events.1
	title = pasha_decadence_events.1.t
	desc = pasha_decadence_events.1.desc
	picture = PASHAS_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_has_pasha_decadence
		}
	}

	option = {
		name = pasha_decadence_events.1.a
		add_stability = -3
		random_owned_province = {
			limit = {
				is_overseas = no
				is_capital = no
			}
			spawn_rebels = {
				type = particularist_rebels
				size = 2
			}
		}
		random_owned_province = {
			limit = {
				is_overseas = no
				is_capital = no
				has_pasha = yes
			}
			spawn_rebels = {
				type = particularist_rebels
				size = 2
			}
		}
		random_owned_province = {
			limit = {
				is_overseas = no
				is_capital = no
				has_pasha = yes
			}
			spawn_rebels = {
				type = particularist_rebels
				size = 2
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#End of the Struggle
country_event = {
	id = pasha_decadence_events.2
	title = pasha_decadence_events.2.t
	desc = pasha_decadence_events.2.desc
	picture = PASHA_NEGOTIATION_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_had_pasha_decadence
			clr_country_flag = tur_has_pasha_decadence
		}
	}

	option = {
		name = pasha_decadence_events.2.a
		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = tur_loyal_pashas
			duration = 36500
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Pasha Decadence - Revolt or more Autonomy
country_event = {
	id = pasha_decadence_events.3
	title = pasha_decadence_events.3.t
	desc = pasha_decadence_events.3.desc
	picture = PASHAS_eventPicture
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_owned_province = {
			NOT = { has_province_modifier = tur_pasha_backed_down }
			NOT = { has_province_modifier = tur_pasha_revolt }
			has_pasha = yes
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_pasha = yes
				}
				save_event_target_as = tur_pasha_province
			}
		}
	}

	#Force them to back down
	option = {
		name = pasha_decadence_events.3.a
		custom_tooltip = pasha_decadence_events.3.a.tt
		hidden_effect = {
			event_target:tur_pasha_province = {
				set_province_flag = pasha_province_flag
			}
			random_list = {
				1 = {
					trigger = { dip = 4 }
					country_event = {
						id = pasha_decadence_events.4
						days = 5
						random = 10
					}
				}
				1 = {
					trigger = { statesman = 3 }
					country_event = {
						id = pasha_decadence_events.4
						days = 5
						random = 10
					}
				}
				1 = {
					trigger = { diplomat = 3 }
					country_event = {
						id = pasha_decadence_events.4
						days = 5
						random = 10
					}
				}
				1 = {
					trigger = { OR = { ruler_has_personality = charismatic_negotiator_personality ruler_has_personality = silver_tongue_personality ruler_has_personality = cruel_personality } }
					country_event = {
						id = pasha_decadence_events.4
						days = 5
						random = 10
					}
				}
				1 = {
					country_event = { 
						id = pasha_decadence_events.5
						days = 5
						random = 10
					}
				}
				1 = {
					country_event = { 
						id = pasha_decadence_events.5
						days = 5
						random = 10
					}
				}
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#Grand them the autonomy
	option = {
		name = pasha_decadence_events.3.b
		goto = tur_pasha_province
		event_target:tur_pasha_province = {
			area = {
				limit = { owned_by = ROOT }
				add_local_autonomy = 50
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Pasha Decadence - Pasha backs down
country_event = {
	id = pasha_decadence_events.4
	title = pasha_decadence_events.4.t
	desc = pasha_decadence_events.4.desc
	picture = PASHA_NEGOTIATION_eventPicture
	is_triggered_only = yes
	goto = tur_pasha_province
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = pasha_province_flag
				}
				save_event_target_as = tur_pasha_province
				clr_province_flag = pasha_province_flag
			}
		}
	}

	option = {
		name = pasha_decadence_events.4.a
		add_prestige = 10
		event_target:tur_pasha_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_province_modifier = {
					name = tur_pasha_backed_down
					duration = 1825
				}
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Pasha Decadence - Pasha tries to break free
country_event = {
	id = pasha_decadence_events.5
	title = pasha_decadence_events.5.t
	desc = pasha_decadence_events.5.desc
	picture = JANISSARY_REVOLT_eventPicture
	is_triggered_only = yes
	goto = tur_pasha_province
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = pasha_province_flag
				}
				save_event_target_as = tur_pasha_province
				clr_province_flag = pasha_province_flag
			}
		}
	}

	option = {
		name = pasha_decadence_events.5.a
		add_prestige = 10
		event_target:tur_pasha_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_province_modifier = {
					name = tur_pasha_revolt
					duration = 1825
				}
			}
			spawn_rebels = {
				type = particularist_rebels
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Pasha Decadence - Anatolian Beylik Rebellion
country_event = {
	id = pasha_decadence_events.6
	title = pasha_decadence_events.6.t
	desc = pasha_decadence_events.6.desc
	picture = REVOLT_eventPicture
	is_triggered_only = yes
	goto = tur_revolter_province
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		any_owned_province = {
			region = anatolia_region
			is_island = no
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					region = anatolia_region
					is_island = no
				}
				save_event_target_as = tur_revolter_province
			}
		}
	}

	option = {
		name = pasha_decadence_events.6.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = particularist_rebels
				size = 2
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = pasha_decadence_events.6.b
		add_stability = -1
		event_target:tur_revolter_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = 10
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Special Pasha Decadence - Greek Rebellion
country_event = {
	id = pasha_decadence_events.7
	title = pasha_decadence_events.7.t
	desc = pasha_decadence_events.7.desc
	picture = REVOLT_eventPicture
	is_triggered_only = yes
	trigger = {
		any_owned_province = {
			culture = greek
			is_overseas = no
			is_capital = no
			is_island = no
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					culture = greek
					is_overseas = no
					is_capital = no
					is_island = no
				}
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = pasha_decadence_events.7.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				win = yes
				type = nationalist_rebels
				culture = greek
				size = 3
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = pasha_decadence_events.7.b
		goto = tur_revolter_province
		add_adm_power = -25
		event_target:tur_revolter_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = 20
			}
		}

		ai_chance = {
			factor = 0
		}
	}
}

#Special Pasha Decadence - Serbian Rebellion
country_event = {
	id = pasha_decadence_events.8
	title = pasha_decadence_events.8.t
	desc = pasha_decadence_events.8.desc
	picture = REVOLT_eventPicture
	is_triggered_only = yes
	goto = tur_revolter_province
	trigger = {
		any_owned_province = {
			OR = {
				culture = serbian
				culture = serbian_new
			}
			is_overseas = no
			is_capital = no
			is_island = no
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						culture = serbian
						culture = serbian_new
					}
					is_overseas = no
					is_capital = no
					is_island = no
				}
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = pasha_decadence_events.7.a
		event_target:tur_revolter_province = {
			if = {
				limit = { has_updated_culture = { culture = slavic } }
				spawn_rebels = {
					type = nationalist_rebels
					size = 3
					culture = serbian_new
					win = yes
				}
			}
			else = {
				spawn_rebels = {
					type = nationalist_rebels
					size = 3
					culture = serbian
					win = yes
				}
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = pasha_decadence_events.7.b
		goto = tur_revolter_province
		add_adm_power = -25
		event_target:tur_revolter_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = 20
			}
		}

		ai_chance = {
			factor = 0
		}
	}
}

#Special Pasha Decadence - Bulgarian Rebellion
country_event = {
	id = pasha_decadence_events.9
	title = pasha_decadence_events.9.t
	desc = pasha_decadence_events.9.desc
	picture = REVOLT_eventPicture
	is_triggered_only = yes
	goto = tur_revolter_province
	trigger = {
		any_owned_province = {
			OR = {
				culture = bulgarian
				culture = bulgarian_new
			}
			is_overseas = no
			is_capital = no
			is_island = no
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						culture = bulgarian
						culture = bulgarian_new
					}
					is_overseas = no
					is_capital = no
					is_island = no
				}
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = pasha_decadence_events.7.a
		event_target:tur_revolter_province = {
			if = {
				limit = { has_updated_culture = { culture = slavic } }
				spawn_rebels = {
					type = nationalist_rebels
					size = 3
					culture = bulgarian_new
					win = yes
				}
			}
			else = {
				spawn_rebels = {
					type = nationalist_rebels
					size = 3
					culture = bulgarian
					win = yes
				}
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = pasha_decadence_events.7.b
		goto = tur_revolter_province
		add_adm_power = -25
		event_target:tur_revolter_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = 20
			}
		}

		ai_chance = {
			factor = 0
		}
	}
}

#Special Pasha Decadence - Muslim-non-Turk Rebellion
country_event = {
	id = pasha_decadence_events.10
	title = pasha_decadence_events.10.t
	desc = pasha_decadence_events.10.desc
	picture = REVOLT_eventPicture
	is_triggered_only = yes
	goto = tur_revolter_province
	trigger = {
		any_owned_province = {
			NOT = { culture = ROOT }
			religion_group = muslim
			is_overseas = no
			is_capital = no
			is_island = no
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = { culture = ROOT }
					religion_group = muslim
					is_overseas = no
					is_capital = no
					is_island = no
				}
				save_event_target_as = tur_revolter_province
			}
		}
	}
	goto = tur_revolter_province

	option = {
		name = pasha_decadence_events.7.a
		event_target:tur_revolter_province = {
			spawn_rebels = {
				type = nationalist_rebels
				size = 3
				win = yes
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = pasha_decadence_events.7.b
		goto = tur_revolter_province
		add_adm_power = -25
		event_target:tur_revolter_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = 20
			}
		}

		ai_chance = {
			factor = 0
		}
	}
}


namespace = plot_of_the_harem_events
### Plot of the Harem ###

#The Height of the Reign of Women
country_event = {
	id = plot_of_the_harem_events.1
	title = plot_of_the_harem_events.1.t
	desc = plot_of_the_harem_events.1.desc
	picture = HAREM_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_has_plot_of_the_harem
		}
	}

	option = {
		name = plot_of_the_harem_events.1.a
		custom_tooltip = plot_of_the_harem_events.1.a.tt
		add_estate_loyalty = {
			estate = all
			loyalty = -20
		}
		add_legitimacy = -20

		ai_chance = {
			factor = 1
		}
	}
}

#Reigned in the Harem
country_event = {
	id = plot_of_the_harem_events.2
	title = plot_of_the_harem_events.2.t
	desc = plot_of_the_harem_events.2.desc
	picture = HAREM_eventPicture
	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = tur_had_plot_of_the_harem
			clr_country_flag = tur_has_plot_of_the_harem
		}
	}

	option = {
		name = plot_of_the_harem_events.2.a
		add_legitimacy = 50

		ai_chance = {
			factor = 1
		}
	}
}

#A pretender son arises
country_event = {
	id = plot_of_the_harem_events.3
	title = plot_of_the_harem_events.3.t
	desc = {
		desc = plot_of_the_harem_events.3.desc.son
		trigger = {
			ruler_age = 30
		}
	}
	desc = {
		desc = plot_of_the_harem_events.3.desc.brother
		trigger = {
			NOT = { ruler_age = 30 }
		}
	}
	picture = SWORD_OF_OSMAN_eventPicture
	is_triggered_only = yes
	goto = tur_pretender_province
	trigger = {
		num_of_cities = 2
		any_owned_province = {
			is_overseas = no
			is_capital = no
			is_in_capital_area = yes
		}
		is_female = no
	}

	immediate = {
		hidden_effect = {
			set_saved_name = {
				key = tur_pretender
				type = leader
			}
			random_owned_province = {
				limit = {
					is_overseas = no
					is_capital = no
					is_in_capital_area = yes
				}
				save_event_target_as = tur_pretender_province
			}
		}
	}

	option = {
		name = plot_of_the_harem_events.3.a
		event_target:tur_pretender_province = {
			spawn_rebels = {
				type = pretender_rebels
				leader = tur_pretender
				size = 2
			}
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Murder of an Heir
country_event = {
	id = plot_of_the_harem_events.4
	title = plot_of_the_harem_events.4.t
	desc = plot_of_the_harem_events.4.desc
	picture = ASSASSINATION_eventPicture
	is_triggered_only = yes
	trigger = {
		has_heir = yes
	}

	option = {
		name = plot_of_the_harem_events.4.a
		random_list = {
			1 = {
				kill_heir = { allow_new_heir = no }
			}
			9 = { add_legitimacy = -5 }
		}

		ai_chance = {
			factor = 1
		}
	}
}

#Corruption of an Advisor
country_event = {
	id = plot_of_the_harem_events.5
	title = plot_of_the_harem_events.5.t
	desc = plot_of_the_harem_events.5.desc
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	trigger = {
		OR = {
			has_adm_advisor = yes
			has_dip_advisor = yes
			has_mil_advisor = yes
		}
	}

	option = {
		name = plot_of_the_harem_events.5.a
		random_list = {
			1 = {
				trigger = {
					has_adm_advisor = yes
				}
				kill_advisor_by_category_effect = {
					ADM = yes
				}
			}
			1 = {
				trigger = {
					has_dip_advisor = yes
				}
				kill_advisor_by_category_effect = {
					DIP = yes
				}
			}
			1 = {
				trigger = {
					has_mil_advisor = yes
				}
				kill_advisor_by_category_effect = {
					MIL = yes
				}
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = plot_of_the_harem_events.5.b
		add_years_of_income = -0.2

		ai_chance = {
			factor = 1
		}
	}
}

#The Height of the Reign of Women - written by Vasilis 'Big Boss' S.
country_event = {
	id = plot_of_the_harem_events.6
	title = plot_of_the_harem_events.6.t
	desc = plot_of_the_harem_events.6.desc 
	picture = HAREM_eventPicture
	fire_only_once = yes 
	
	trigger = { 
		had_country_flag = { flag = tur_has_plot_of_the_harem days = 500 } 
	}
	
	mean_time_to_happen = { months = 240 } 
	
	option = { 
		name = plot_of_the_harem_events.6.a 
		
		ai_chance = { factor = 0 } 
		add_country_modifier = { 
			name = tur_reign_of_the_valide_sultan_modifier
			duration = -1
		}
		add_legitimacy = -20 
		custom_tooltip = plot_of_the_harem_events.6.a.tt
	}
	
	option = { 
		name = plot_of_the_harem_events.6.b 
		custom_tooltip = plot_of_the_harem_events.6.b.tt
		ai_chance = { factor = 100 }
		add_ruler_modifier = { 
			name = tur_opposed_valide_sultan_modifier
			duration = -1
		}
		random_owned_province = { 
			limit = { continent = europe } 
			spawn_rebels = {
				type = pretender_rebels
				size = 2
			}
		}
		add_stability = -2 
		hidden_effect = { remove_country_modifier = tur_reign_of_women_modifier }
	}
}

#The Power Grap of the Haseki Sultan
country_event = {
	id = plot_of_the_harem_events.7
	title = plot_of_the_harem_events.7.t
	desc = {
		desc = plot_of_the_harem_events.7.desc.a
		trigger = {
			has_country_modifier = tur_reign_of_the_valide_sultan_modifier
		}
	}
	desc = {
		desc = plot_of_the_harem_events.7.desc.b
		trigger = {
			NOT = { has_country_modifier = tur_reign_of_the_valide_sultan_modifier }
		}
	}
	picture = HAREM_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	goto = capital
	trigger = {
		had_country_flag = {
			flag = tur_has_plot_of_the_harem
			days = 1000
		}
		OR = {
			has_country_modifier = tur_reign_of_the_valide_sultan_modifier
			has_country_modifier = tur_opposed_valide_sultan_modifier
		}
	}
	
	immediate = {
		hidden_effect = {
			capital_scope = {
				save_event_target_as = capital
			}
		}
	}

	#Let the Haseki Sultan rule
	option = {
		name = plot_of_the_harem_events.7.a
		trigger = {
			has_country_modifier = tur_reign_of_the_valide_sultan_modifier
		}
		if = {
			limit = {
				has_consort = no
				has_dlc = "Rights of Man"
			}
			define_consort = {
				adm = 5
				dip = 5
				mil = 5
				female = yes
				claim = 20
			}
		}
		change_ruler_stat = {
			stat = adm
			amount = 2
		}
		change_ruler_stat = {
			stat = dip
			amount = 2
		}
		change_ruler_stat = {
			stat = mil
			amount = 2
		}
		add_stability = -1
		add_ruler_modifier = {
			name = tur_harem_under_haseki_sultans_control
			duration = -1
		}
		remove_country_modifier = tur_reign_of_the_valide_sultan_modifier
		remove_country_modifier = tur_opposed_valide_sultan_modifier
		capital_scope = {
			spawn_rebels = {
				type = pretender_rebels
				size = 1
			}
		}

		ai_chance = {
			factor = 1
		}
	}

	#No woman shall be on our throne
	option = {
		name = plot_of_the_harem_events.7.b
		trigger = {
			NOT = { has_country_modifier = tur_reign_of_the_valide_sultan_modifier }
		}
		capital_scope = {
			spawn_rebels = {
				type = pretender_rebels
				female = yes
				size = 3
				culture = ROOT
				religion = ROOT
			}
		}
		remove_country_modifier = tur_reign_of_the_valide_sultan_modifier
		remove_country_modifier = tur_opposed_valide_sultan_modifier

		ai_chance = {
			factor = 1
		}
	}
}