namespace = census

#RECALC CARRYING CAPACITY, INFRASTRUCTURE LIMIT
province_event = {
	id = census.1
	title = "census.1.t"
	desc = "census.1.desc"
	picture = AN_CENSUS_eventPicture


	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = { is_city = yes has_global_flag = AN_dev_init }

	immediate = {
		hidden_effect = {
			AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=2
				size=M
				color=4
				data=AN_wealth_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
			set_ttt_bar_data = {
				bg=yes
				id=1
				size=M
				color=1
				data=AN_pop_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}
	option = { #
		name = "census.1.forestry"
		custom_tooltip = census_forestry_tooltip
		hidden_effect = { province_event = { id = census.200 days = 0 } }
	}
	option = { #
		name = "census.1.edicts"
		custom_tooltip = census_edicts_tooltip
		hidden_effect = { province_event = { id = census.100 days = 0 } }
	}
	option = { #
		name = "census.1.projects"
		custom_tooltip = census_projects_tooltip
		hidden_effect = { province_event = { id = census.300 days = 0 } }
	}
	option = { #
		name = "census.1.resources"
		custom_tooltip = census_resources_tooltip
		#hidden_effect = { province_event = { id = census.400 days = 0 } }
	}
	option = { #
		name = "census.1.demography"
		custom_tooltip = census_demography_tooltip
		hidden_effect = { province_event = { id = census.500 days = 0 } }
	}
	option = {
		name = "census.1.exit"
		#highlight = yes
	}
}

#Edicts
province_event = {
	id = census.100
	title = "census.100.t"
	desc = "census.100.d"
	picture = empty_eventPicture

	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = {
		is_city = yes
		has_global_flag = AN_dev_init
	}

	##MOVED

	option = { #Drain Marshland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.o"
		trigger = { ai = no has_province_modifier = marsh_feature has_province_modifier = flooded_marsh }
		if = {
			limit = {
				owner = {
					treasury = 50
				}
			}
			owner = {
				add_treasury = -50
			}
			add_devastation = -10
			remove_province_modifier = flooded_marsh
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -50
				}
				add_devastation = -10
				remove_province_modifier = flooded_marsh
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Flood Marshland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.p"
		trigger = { ai = no has_province_modifier = marsh_feature NOT = { has_province_modifier = flooded_marsh } }
		if = {
			limit = {
				owner = {
					treasury = 25
				}
			}
			owner = {
				add_treasury = -25
			}
			add_devastation = 20
			add_permanent_province_modifier = {
				name = flooded_marsh
				duration = -1
			}

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -25
				}
				add_devastation = 20
				add_permanent_province_modifier = {
					name = flooded_marsh
					duration = -1
				}
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Drain Swampland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.q"
		trigger = { ai = no has_province_modifier = swamp has_province_modifier = flooded_swamp }
		if = {
			limit = {
				owner = {
					treasury = 50
				}
			}
			owner = {
				add_treasury = -50
			}
			add_devastation = -10
			remove_province_modifier = flooded_swamp
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -50
				}
				add_devastation = -10
				remove_province_modifier = flooded_swamp
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Flood Swampland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.r"
		trigger = { ai = no has_province_modifier = swamp NOT = { has_province_modifier = flooded_swamp } }
		if = {
			limit = {
				owner = {
					treasury = 25
				}
			}
			owner = {
				add_treasury = -25
			}
			add_devastation = 20
			add_permanent_province_modifier = {
				name = flooded_swamp
				duration = -1
			}

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -25
				}
				add_devastation = 20
				add_permanent_province_modifier = {
					name = flooded_swamp
					duration = -1
				}
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}


	###


	option = { #Common Grazing Land
		name = "census.100.a"
		trigger = { NOT = { has_province_modifier = edict_common_grazing_land } OR = { has_terrain = highlands has_terrain = hills has_terrain = savannah has_terrain = grasslands has_terrain = drylands has_terrain = farmlands has_terrain = marsh } }
		add_permanent_province_modifier = {
			name = edict_common_grazing_land
			duration = 730
		}
		owner = {
			add_treasury = -50
			add_adm_power = -25
		}
	}
	option = { #Private Estates
		name = "census.100.b"
		trigger = { NOT = { has_province_modifier = edict_private_estates } OR = { has_terrain = highlands has_terrain = hills has_terrain = coastline has_terrain = grasslands has_terrain = woods has_terrain = farmlands has_terrain = marsh } }
		add_permanent_province_modifier = {
			name = edict_private_estates
			duration = 730
		}
		owner = {
			add_treasury = -75
			add_dip_power = -25
		}
	}
	option = { #Encourage Villas # CUT
		name = "census.100.c"
		trigger = { always = no NOT = { has_province_modifier = edict_encourage_villas } OR = { has_terrain = mountain has_terrain = coastline has_terrain = farmlands } }
		add_permanent_province_modifier = {
			name = edict_encourage_villas
			duration = 730
		}
		owner = {
			add_treasury = -100
			add_adm_power = -50
		}
	}

	option = { #Resettle Citizens
		name = "census.100.d1"
		trigger = { NOT = { has_province_modifier = edict_resettle_citizens } OR = { has_terrain = steppe AND = { NOT = { base_manpower = 5 } is_overseas = yes } } }
		add_permanent_province_modifier = {
			name = edict_resettle_citizens
			duration = 730
		}
		owner = {
			add_treasury = -100
			add_adm_power = -25
			add_dip_power = -25
		}
	}
	option = { #Empower Farmers
		name = "census.100.e"
		trigger = { NOT = { has_province_modifier = edict_empower_farmers } OR = { has_terrain = grasslands has_terrain = farmlands has_terrain = drylands has_province_modifier = floodplain } }
		add_permanent_province_modifier = {
			name = edict_empower_farmers
			duration = 730
		}
		owner = {
			add_treasury = -50
			add_adm_power = -25
			add_dip_power = -25
		}
	}
	option = { #CUT
		name = "census.300.d1"
		trigger = { always = no }

	}
	option = { #CUT
		name = "census.100.h"
		trigger = { always = no }

	}
	option = { #CUT
		name = "census.100.i"
		trigger = { always = no }
	}
	option = { #Arrange Curiosities Expedition
		name = "census.100.j"
		trigger = { NOT = { has_province_modifier = edict_arrange_curiosities_expedition } has_terrain = jungle }
		add_permanent_province_modifier = {
			name = edict_arrange_curiosities_expedition
			duration = -1
		}
		owner = {
			add_treasury = -50
			add_dip_power = -50
		}
	}

	#option = { #Recover from Flash Floods
	#	name = "census.100.k"
	#	trigger = { has_province_modifier = flash_floods }
	#}
	#option = { #Recover from Landslides
	#	name = "census.100.l"
	#	trigger = { has_province_modifier = landslides }
	#}

	option = { #Promote Rangers
		name = "census.100.m"
		trigger = { always = no NOT = { has_province_modifier = edict_promote_rangers } OR = { has_terrain = drylands has_terrain = badlands } } #CUT
		add_permanent_province_modifier = {
			name = edict_promote_rangers
			duration = 1825
		}
		owner = {
			add_adm_power = -25
			add_mil_power = -25
		}
	}
	option = { #Promote Desert Specialists
		name = "census.100.n"
		trigger = { always = no NOT = { has_province_modifier = edict_promote_desert_specialists } OR = { has_terrain = desert has_terrain = coastal_desert } } #CUT
		add_permanent_province_modifier = {
			name = edict_promote_desert_specialists
			duration = 1825
		}
		owner = {
			add_adm_power = -25
			add_mil_power = -25
		}
	}
	option = { #Promote Winter Specialists
		name = "census.100.o"
		trigger = { NOT = { has_province_modifier = edict_promote_winter_specialists } OR = { has_terrain = forest has_terrain = tundra has_terrain = glacier } } #CUT
		add_permanent_province_modifier = {
			name = edict_promote_winter_specialists
			duration = 1825
		}
		owner = {
			add_adm_power = -25
			add_mil_power = -52
		}
	}
	option = { #Promote Mountaineers
		name = "census.100.p"
		trigger = { NOT = { has_province_modifier = edict_promote_mountaineers } has_terrain = mountain } #CUT
		add_permanent_province_modifier = {
			name = edict_promote_mountaineers
			duration = 1825
		}
		owner = {
			add_adm_power = -25
			add_mil_power = -25
		}
	}
	option = { #Promote Highlanders
		name = "census.100.q"
		trigger = { NOT = { has_province_modifier = edict_promote_highlanders } OR = { has_terrain = highlands has_province_modifier = plateau } } #NOT = { has_province_modifier = edict_suppress_highlanders } #CUT
		remove_province_modifier = edict_suppress_highlanders
		add_permanent_province_modifier = {
			name = edict_promote_highlanders
			duration = 1825
		}
		owner = {
			add_adm_power = -25
			add_mil_power = -25
		}
	}
	option = { #Suppress Highlanders
		name = "census.100.r"
		trigger = { NOT = { has_province_modifier = edict_suppress_highlanders } OR = { has_terrain = highlands has_province_modifier = plateau } } #NOT = { has_province_modifier = edict_promote_highlanders } #CUT
		remove_province_modifier = edict_promote_highlanders
		add_permanent_province_modifier = {
			name = edict_suppress_highlanders
			duration = 1825
		}
		owner = {
			add_adm_power = -25
			add_mil_power = -25
		}
	}

	option = { #Promote Nomads
		name = "census.100.s"
		trigger = { NOT = { has_province_modifier = edict_promote_nomads } has_terrain = steppe } #NOT = { has_province_modifier = edict_suppress_nomads } #CUT
		remove_province_modifier = edict_suppress_nomads
		add_permanent_province_modifier = {
			name = edict_promote_nomads
			duration = 1825
		}
		owner = {
			add_adm_power = -20
			add_mil_power = -30
		}
	}
	option = { #Suppress Nomads
		name = "census.100.t1"
		trigger = { NOT = { has_province_modifier = edict_suppress_nomads } has_terrain = steppe } #NOT = { has_province_modifier = edict_promote_nomads } #CUT
		remove_province_modifier = edict_promote_nomads
		add_permanent_province_modifier = {
			name = edict_suppress_nomads
			duration = 1825
		}
		owner = {
			add_adm_power = -20
			add_mil_power = -30
		}
	}

	option = { #Root Out Bandits
		name = "census.100.u"
		trigger = { NOT = { has_province_modifier = edict_root_out_bandits } OR = { has_terrain = mountain has_terrain = hills has_province_modifier = highlands } }
		add_permanent_province_modifier = {
			name = edict_root_out_bandits
			duration = 1825
		}
		owner = {
			add_treasury = -50
			add_mil_power = -25
		}
	}
	option = { #Hunt Down Maquisards
		name = "census.100.v"
		trigger = { NOT = { has_province_modifier = edict_hunt_down_maquisards } OR = { has_terrain = badlands has_terrain = drylands } NOT = { OR = { continent = north_america continent = south_america } } }
		add_permanent_province_modifier = {
			name = edict_hunt_down_maquisards
			duration = 1825
		}
		owner = {
			add_treasury = -50
			add_mil_power = -25
		}
	}
	option = { #Rein in Cowboys
		name = "census.100.w"
		trigger = { NOT = { has_province_modifier = edict_rein_in_cowboys } OR = { has_terrain = badlands has_terrain = drylands has_terrain = steppe } OR = { continent = north_america continent = south_america } }
		add_permanent_province_modifier = {
			name = edict_rein_in_cowboys
			duration = 1825
		}
		owner = {
			add_treasury = -50
			add_mil_power = -25
		}
	}
	option = { #Counterpiracy Measures
		name = "census.100.x"
		trigger = { NOT = { has_province_modifier = edict_counterpiracy_measures } OR = { has_province_modifier = barrier_islands has_province_modifier = cove } }
		add_permanent_province_modifier = {
			name = edict_counterpiracy_measures
			duration = 1825
		}
		owner = {
			add_treasury = -75
			add_dip_power = -50
		}
	}
	option = { #Encourage Peat Mining
		name = "census.100.y"
		trigger = { NOT = { has_province_modifier = edict_encourage_peat_mining } has_province_modifier = bog }
		add_permanent_province_modifier = {
			name = edict_encourage_peat_mining
			duration = 3650
		}
		owner = {
			add_treasury = -25
			add_adm_power = -25
			add_mil_power = -25
		}
	}
	option = { #Guano Mining
		name = "census.100.z"
		trigger = { NOT = { has_province_modifier = edict_encourage_guano_mining } OR = { has_province_modifier = caves has_province_modifier = atoll } }
		add_permanent_province_modifier = {
			name = edict_encourage_guano_mining
			duration = 3650
		}
		owner = {
			add_treasury = -20
			add_adm_power = -20
			add_mil_power = -20
		}
	}
	#MOVED AROUND FOR EXPEDIENCY
	option = { #Support Substinence Farming
		name = "census.100.f"
		trigger = { NOT = { has_province_modifier = edict_substinence_farming } has_port = no }
		add_permanent_province_modifier = {
			name = edict_substinence_farming
			duration = 1825
		}
		owner = {
			add_treasury = -25
			add_adm_power = -20
			add_mil_power = -20
		}
	}
	option = { #Promote Substinence Fishing
		name = "census.100.a1"
		trigger = { NOT = { has_province_modifier = edict_substinence_fishing } has_port = yes }
		add_permanent_province_modifier = {
			name = edict_substinence_fishing
			duration = 1825
		}
		owner = {
			add_treasury = -25
			add_adm_power = -20
			add_dip_power = -20
		}
	}
	option = { #Encourage Sailors # CUT
		name = "census.100.g"
		trigger = { always = no NOT = { has_province_modifier = edict_encourage_sailors } OR = { AND = { is_island = yes has_port = yes } has_terrain = coastline has_terrain = coastal_desert has_province_modifier = fjord } }
		add_permanent_province_modifier = {
			name = edict_encourage_sailors
			duration = 1825
		}
		owner = {
			add_treasury = -50
			add_dip_power = -50
		}
	}
	#MOVED AROUND END
	option = { #Encourage Spelunking
		name = "census.100.a2"
		trigger = { NOT = { has_province_modifier = edict_encourage_spelunking } has_province_modifier = caves }
		remove_province_modifier = edict_ban_spelunking
		add_permanent_province_modifier = {
			name = edict_encourage_spelunking
			duration = 1825
		}
		owner = {
			add_dip_power = -25
		}
	}
	option = { #Ban Spelunking
		name = "census.100.a3"
		trigger = { NOT = { has_province_modifier = edict_ban_spelunking } has_province_modifier = caves }
		remove_province_modifier = edict_encourage_spelunking
		add_permanent_province_modifier = {
			name = edict_ban_spelunking
			duration = 1825
		}
		owner = {
			add_mil_power = -25
		}
	}
	option = { #Promote Cave Housing
		name = "census.100.a4"
		trigger = { NOT = { has_province_modifier = edict_promote_cave_housing } has_province_modifier = caves }
		add_permanent_province_modifier = {
			name = edict_promote_cave_housing
			duration = 3650
		}
		owner = {
			add_treasury = -75
			add_dip_power = -25
			add_mil_power = -25
		}
	}
	option = { #Monopolize Salt Production
		name = "census.100.a5"
		trigger = { NOT = { has_province_modifier = edict_monopolize_salt_production } OR = { has_province_modifier = saltflat trade_goods = salt } }
		remove_province_modifier = edict_privatize_salt_production
		add_permanent_province_modifier = {
			name = edict_monopolize_salt_production
			duration = 3650
		}
		owner = {
			add_treasury = 50
			add_adm_power = -20
			add_dip_power = -20
			add_mil_power = -20
		}
	}
	option = { #Privatize Salt Production
		name = "census.100.a6"
		trigger = { NOT = { has_province_modifier = edict_privatize_salt_production } OR = { has_province_modifier = saltflat trade_goods = salt } }
		remove_province_modifier = edict_monopolize_salt_production
		add_permanent_province_modifier = {
			name = edict_privatize_salt_production
			duration = 3650
		}
		owner = {
			add_treasury = -50
			add_adm_power = 20
			add_dip_power = 20
			add_mil_power = 20
		}
	}
	#option = { #Recover from Volcanic Eruption
	#	name = "census.100.a7"
	#	trigger = { has_province_modifier = volcano }

	#}

	option = {
		name = "setup.back"
		hidden_effect = { province_event = { id = census.1 days = 0 } }
	}
	option = {
		name = "setup.exit"
	}
}

#Forestry
province_event = {
	id = census.200
	title = "census.200.t"
	desc = "census.200.d"
	picture = empty_eventPicture

	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = {
		is_city = yes
	}

	option = { #cut down forest
		name = "census.200.a1"
		trigger = { ROOT = { OR = { has_province_flag = needleleaf_residual has_province_modifier = needleleaf_1 has_province_modifier = needleleaf_2 has_province_modifier = needleleaf_3 } NOT = { has_province_modifier = needleleaf_chopped } } }
		if = {
			limit = { has_province_modifier = needleleaf_3 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = needleleaf_3
				add_permanent_province_modifier = {
					name = needleleaf_2
					duration = -1
				}
				add_permanent_province_modifier = {
					name = needleleaf_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = needleleaf_3
					add_permanent_province_modifier = {
						name = needleleaf_2
						duration = -1
					}
					add_permanent_province_modifier = {
						name = needleleaf_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = needleleaf_2 }
			if = {
				limit = { owner = { treasury = 100 } }
				owner = { add_treasury = -100 }
				remove_province_modifier = needleleaf_2
				add_permanent_province_modifier = {
					name = needleleaf_1
					duration = -1
				}
				add_permanent_province_modifier = {
					name = needleleaf_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -100 }
					remove_province_modifier = needleleaf_2
					add_permanent_province_modifier = {
						name = needleleaf_1
						duration = -1
					}
					add_permanent_province_modifier = {
						name = needleleaf_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = needleleaf_1 }
			if = {
				limit = { owner = { treasury = 50 } }
				owner = { add_treasury = -50 }
				remove_province_modifier = needleleaf_1
				add_permanent_province_modifier = {
					name = needleleaf_cleared
					duration = 1825
				}
				add_permanent_province_modifier = {
					name = needleleaf_chopped
					duration = 3650
				}
				set_province_flag = needleleaf_residual
			}
			else = {
				if = {
					limit = { owner = { NOT = { treasury = 50 } } }
					custom_tooltip = IR_CENSUS_CANNOT_AFFORD
					tooltip = {
						owner = { add_treasury = -50 }
						remove_province_modifier = needleleaf_1
						add_permanent_province_modifier = {
							name = needleleaf_cleared
							duration = 1825
						}
						add_permanent_province_modifier = {
							name = needleleaf_chopped
							duration = 3650
						}
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}
	option = { #cut down forest
		name = "census.200.a2"
		trigger = { ROOT = { OR = { has_province_modifier = broadleaf_1 has_province_modifier = broadleaf_2 has_province_modifier = broadleaf_3 } } NOT = { has_province_modifier = broadleaf_chopped } }
		if = {
			limit = { has_province_modifier = broadleaf_3 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = broadleaf_3
				add_permanent_province_modifier = {
					name = broadleaf_2
					duration = -1
				}
				add_permanent_province_modifier = {
					name = broadleaf_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = broadleaf_3
					add_permanent_province_modifier = {
						name = broadleaf_2
						duration = -1
					}
					add_permanent_province_modifier = {
						name = broadleaf_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = broadleaf_2 }
			if = {
				limit = { owner = { treasury = 100 } }
				owner = { add_treasury = -100 }
				remove_province_modifier = broadleaf_2
				add_permanent_province_modifier = {
					name = broadleaf_1
					duration = -1
				}
				add_permanent_province_modifier = {
					name = broadleaf_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -100 }
					remove_province_modifier = broadleaf_2
					add_permanent_province_modifier = {
						name = broadleaf_1
						duration = -1
					}
					add_permanent_province_modifier = {
						name = broadleaf_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = broadleaf_1 }
			if = {
				limit = { owner = { treasury = 50 } }
				owner = { add_treasury = -50 }
				remove_province_modifier = broadleaf_1
				add_permanent_province_modifier = {
					name = broadleaf_cleared
					duration = 1825
				}
				add_permanent_province_modifier = {
					name = broadleaf_chopped
					duration = 3650
				}
				set_province_flag = broadleaf_residual
			}
			else = {
				if = {
					limit = { owner = { NOT = { treasury = 50 } } }
					custom_tooltip = IR_CENSUS_CANNOT_AFFORD
					tooltip = {
						owner = { add_treasury = -50 }
						remove_province_modifier = broadleaf_1
						add_permanent_province_modifier = {
							name = broadleaf_cleared
							duration = 1825
						}
						add_permanent_province_modifier = {
							name = broadleaf_chopped
							duration = 3650
						}
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}
	option = { #cut down forest
		name = "census.200.a3"
		trigger = { ROOT = { OR = { has_province_modifier = coniferous_1 has_province_modifier = coniferous_2 has_province_modifier = coniferous_3 } } NOT = { has_province_modifier = coniferous_chopped } }
		if = {
			limit = { has_province_modifier = coniferous_3 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = coniferous_3
				add_permanent_province_modifier = {
					name = coniferous_2
					duration = -1
				}
				add_permanent_province_modifier = {
					name = coniferous_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = coniferous_3
					add_permanent_province_modifier = {
						name = coniferous_2
						duration = -1
					}
					add_permanent_province_modifier = {
						name = coniferous_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = coniferous_2 }
			if = {
				limit = { owner = { treasury = 100 } }
				owner = { add_treasury = -100 }
				remove_province_modifier = coniferous_2
				add_permanent_province_modifier = {
					name = coniferous_1
					duration = -1
				}
				add_permanent_province_modifier = {
					name = coniferous_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -100 }
					remove_province_modifier = coniferous_2
					add_permanent_province_modifier = {
						name = coniferous_1
						duration = -1
					}
					add_permanent_province_modifier = {
						name = coniferous_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = coniferous_1 }
			if = {
				limit = { owner = { treasury = 50 } }
				owner = { add_treasury = -50 }
				remove_province_modifier = coniferous_1
				add_permanent_province_modifier = {
					name = coniferous_cleared
					duration = 1825
				}
				add_permanent_province_modifier = {
					name = coniferous_chopped
					duration = 3650
				}
				set_province_flag = coniferous_residual
			}
			else = {
				if = {
					limit = { owner = { NOT = { treasury = 50 } } }
					custom_tooltip = IR_CENSUS_CANNOT_AFFORD
					tooltip = {
						owner = { add_treasury = -50 }
						remove_province_modifier = coniferous_1
						add_permanent_province_modifier = {
							name = coniferous_cleared
							duration = 1825
						}
						add_permanent_province_modifier = {
							name = coniferous_chopped
							duration = 3650
						}
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}
	option = { #cut down forest
		name = "census.200.a4"
		trigger = { ROOT = { OR = { has_province_modifier = bane_1 has_province_modifier = bane_2 has_province_modifier = bane_3 } } NOT = { has_province_modifier = bane_chopped } }
		if = {
			limit = { has_province_modifier = bane_3 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = bane_3
				add_permanent_province_modifier = {
					name = bane_2
					duration = -1
				}
				add_permanent_province_modifier = {
					name = bane_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = bane_3
					add_permanent_province_modifier = {
						name = bane_2
						duration = -1
					}
					add_permanent_province_modifier = {
						name = bane_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = bane_2 }
			if = {
				limit = { owner = { treasury = 100 } }
				owner = { add_treasury = -100 }
				remove_province_modifier = bane_2
				add_permanent_province_modifier = {
					name = bane_1
					duration = -1
				}
				add_permanent_province_modifier = {
					name = bane_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -100 }
					remove_province_modifier = bane_2
					add_permanent_province_modifier = {
						name = bane_1
						duration = -1
					}
					add_permanent_province_modifier = {
						name = bane_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = bane_1 }
			if = {
				limit = { owner = { treasury = 50 } }
				owner = { add_treasury = -50 }
				remove_province_modifier = bane_1
				add_permanent_province_modifier = {
					name = bane_cleared
					duration = 1825
				}
				add_permanent_province_modifier = {
					name = bane_chopped
					duration = 3650
				}
				set_province_flag = bane_residual
			}
			else = {
				if = {
					limit = { owner = { NOT = { treasury = 50 } } }
					custom_tooltip = IR_CENSUS_CANNOT_AFFORD
					tooltip = {
						owner = { add_treasury = -50 }
						remove_province_modifier = bane_1
						add_permanent_province_modifier = {
							name = bane_cleared
							duration = 1825
						}
						add_permanent_province_modifier = {
							name = bane_chopped
							duration = 3650
						}
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}
	option = { #cut down forest
		name = "census.200.a5"
		trigger = { ROOT = { OR = { has_province_modifier = laurel_1 has_province_modifier = laurel_2 has_province_modifier = laurel_3 } } NOT = { has_province_modifier = laurel_chopped } }
		if = {
			limit = { has_province_modifier = laurel_3 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = laurel_3
				add_permanent_province_modifier = {
					name = laurel_2
					duration = -1
				}
				add_permanent_province_modifier = {
					name = laurel_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = laurel_3
					add_permanent_province_modifier = {
						name = laurel_2
						duration = -1
					}
					add_permanent_province_modifier = {
						name = laurel_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = laurel_2 }
			if = {
				limit = { owner = { treasury = 100 } }
				owner = { add_treasury = -100 }
				remove_province_modifier = laurel_2
				add_permanent_province_modifier = {
					name = laurel_1
					duration = -1
				}
				add_permanent_province_modifier = {
					name = laurel_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -100 }
					remove_province_modifier = laurel_2
					add_permanent_province_modifier = {
						name = laurel_1
						duration = -1
					}
					add_permanent_province_modifier = {
						name = laurel_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = laurel_1 }
			if = {
				limit = { owner = { treasury = 50 } }
				owner = { add_treasury = -50 }
				remove_province_modifier = laurel_1
				add_permanent_province_modifier = {
					name = laurel_cleared
					duration = 1825
				}
				add_permanent_province_modifier = {
					name = laurel_chopped
					duration = 3650
				}
				set_province_flag = laurel_residual
			}
			else = {
				if = {
					limit = { owner = { NOT = { treasury = 50 } } }
					custom_tooltip = IR_CENSUS_CANNOT_AFFORD
					tooltip = {
						owner = { add_treasury = -50 }
						remove_province_modifier = laurel_1
						add_permanent_province_modifier = {
							name = laurel_cleared
							duration = 1825
						}
						add_permanent_province_modifier = {
							name = laurel_chopped
							duration = 3650
						}
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}
	option = { #cut down forest
		name = "census.200.a6"
		trigger = { ROOT = { OR = { has_province_modifier = rainforest_1 has_province_modifier = rainforest_2 has_province_modifier = rainforest_3 } } NOT = { has_province_modifier = rainforest_chopped }	}
		if = {
			limit = { has_province_modifier = rainforest_3 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = rainforest_3
				add_permanent_province_modifier = {
					name = rainforest_2
					duration = -1
				}
				add_permanent_province_modifier = {
					name = rainforest_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = rainforest_3
					add_permanent_province_modifier = {
						name = rainforest_2
						duration = -1
					}
					add_permanent_province_modifier = {
						name = rainforest_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = rainforest_2 }
			if = {
				limit = { owner = { treasury = 100 } }
				owner = { add_treasury = -100 }
				remove_province_modifier = rainforest_2
				add_permanent_province_modifier = {
					name = rainforest_1
					duration = -1
				}
				add_permanent_province_modifier = {
					name = rainforest_chopped
					duration = 3650
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -100 }
					remove_province_modifier = rainforest_2
					add_permanent_province_modifier = {
						name = rainforest_1
						duration = -1
					}
					add_permanent_province_modifier = {
						name = rainforest_chopped
						duration = 3650
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = rainforest_1 }
			if = {
				limit = { owner = { treasury = 50 } }
				owner = { add_treasury = -50 }
				remove_province_modifier = rainforest_1
				add_permanent_province_modifier = {
					name = rainforest_cleared
					duration = 1825
				}
				add_permanent_province_modifier = {
					name = rainforest_chopped
					duration = 3650
				}
				set_province_flag = rainforest_residual
			}
			else = {
				if = {
					limit = { owner = { NOT = { treasury = 50 } } }
					custom_tooltip = IR_CENSUS_CANNOT_AFFORD
					tooltip = {
						owner = { add_treasury = -50 }
						remove_province_modifier = rainforest_1
						add_permanent_province_modifier = {
							name = rainforest_cleared
							duration = 1825
						}
						add_permanent_province_modifier = {
							name = rainforest_chopped
							duration = 3650
						}
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}

	option = { #reforestation effort
		name = "census.200.b1"
		trigger = { ROOT = { OR = { has_province_flag = needleleaf_residual has_province_modifier = needleleaf_3 has_province_modifier = needleleaf_1 has_province_modifier = needleleaf_2 any_neighbor_province = { OR = { has_province_modifier = needleleaf_3 has_province_modifier = needleleaf_1 has_province_modifier = needleleaf_2 } } } } NOT = { OR = { has_province_modifier = needleleaf_chopped has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } } }
		if = {
			limit = { has_province_modifier = needleleaf_2 }
			if = {
				limit = { owner = { treasury = 200 } }
				owner = { add_treasury = -200 }
				remove_province_modifier = needleleaf_2
				add_permanent_province_modifier = {
					name = needleleaf_3
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -200 }
					remove_province_modifier = needleleaf_2
					add_permanent_province_modifier = {
						name = needleleaf_3
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = needleleaf_1 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = needleleaf_1
				add_permanent_province_modifier = {
					name = needleleaf_2
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = needleleaf_1
					add_permanent_province_modifier = {
						name = needleleaf_2
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_flag = needleleaf_residual }
			if = {
				limit = { owner = { treasury = 25 } }
				owner = { add_treasury = -25 }
				clr_province_flag = needleleaf_residual
				add_permanent_province_modifier = {
					name = needleleaf_1
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -25 }
					clr_province_flag = needleleaf_residual
					add_permanent_province_modifier = {
						name = needleleaf_1
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = needleleaf_3 }
				custom_tooltip = IR_CENSUS_CANNOT_REFOREST
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #reforestation effort
		name = "census.200.b2"
		trigger = { ROOT = { OR = { has_province_flag = broadleaf_residual has_province_modifier = broadleaf_3 has_province_modifier = broadleaf_1 has_province_modifier = broadleaf_2 any_neighbor_province = { OR = { has_province_modifier = broadleaf_3 has_province_modifier = broadleaf_1 has_province_modifier = broadleaf_2 } } } } NOT = { OR = { has_province_modifier = broadleaf_chopped has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } } }
		if = {
			limit = { has_province_modifier = broadleaf_2 }
			if = {
				limit = { owner = { treasury = 200 } }
				owner = { add_treasury = -200 }
				remove_province_modifier = broadleaf_2
				add_permanent_province_modifier = {
					name = broadleaf_3
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -200 }
					remove_province_modifier = broadleaf_2
					add_permanent_province_modifier = {
						name = broadleaf_3
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = broadleaf_1 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = broadleaf_1
				add_permanent_province_modifier = {
					name = broadleaf_2
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = broadleaf_1
					add_permanent_province_modifier = {
						name = broadleaf_2
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_flag = broadleaf_residual }
			if = {
				limit = { owner = { treasury = 25 } }
				owner = { add_treasury = -25 }
				clr_province_flag = broadleaf_residual
				add_permanent_province_modifier = {
					name = broadleaf_1
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -25 }
					clr_province_flag = broadleaf_residual
					add_permanent_province_modifier = {
						name = broadleaf_1
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = broadleaf_3 }
				custom_tooltip = IR_CENSUS_CANNOT_REFOREST
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #reforestation effort
		name = "census.200.b3"
		trigger = { ROOT = { OR = { has_province_flag = coniferous_residual has_province_modifier = coniferous_3 has_province_modifier = coniferous_1 has_province_modifier = coniferous_2 any_neighbor_province = { OR = { has_province_modifier = coniferous_3 has_province_modifier = coniferous_1 has_province_modifier = coniferous_2 } } } } NOT = { OR = { has_province_modifier = coniferous_chopped has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } } }
		if = {
			limit = { has_province_modifier = coniferous_2 }
			if = {
				limit = { owner = { treasury = 200 } }
				owner = { add_treasury = -200 }
				remove_province_modifier = coniferous_2
				add_permanent_province_modifier = {
					name = coniferous_3
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -200 }
					remove_province_modifier = coniferous_2
					add_permanent_province_modifier = {
						name = coniferous_3
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = coniferous_1 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = coniferous_1
				add_permanent_province_modifier = {
					name = coniferous_2
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = coniferous_1
					add_permanent_province_modifier = {
						name = coniferous_2
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_flag = coniferous_residual }
			if = {
				limit = { owner = { treasury = 25 } }
				owner = { add_treasury = -25 }
				clr_province_flag = coniferous_residual
				add_permanent_province_modifier = {
					name = coniferous_1
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -25 }
					clr_province_flag = coniferous_residual
					add_permanent_province_modifier = {
						name = coniferous_1
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = coniferous_3 }
				custom_tooltip = IR_CENSUS_CANNOT_REFOREST
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #reforestation effort
		name = "census.200.b4"
		trigger = { ROOT = { OR = { has_province_flag = bane_residual has_province_modifier = bane_3 has_province_modifier = bane_1 has_province_modifier = bane_2 any_neighbor_province = { OR = { has_province_modifier = bane_3 has_province_modifier = bane_1 has_province_modifier = bane_2 } } } } NOT = { OR = { has_province_modifier = bane_chopped has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } } }
		if = {
			limit = { has_province_modifier = bane_2 }
			if = {
				limit = { owner = { treasury = 200 } }
				owner = { add_treasury = -200 }
				remove_province_modifier = bane_2
				add_permanent_province_modifier = {
					name = bane_3
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -200 }
					remove_province_modifier = bane_2
					add_permanent_province_modifier = {
						name = bane_3
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = bane_1 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = bane_1
				add_permanent_province_modifier = {
					name = bane_2
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = bane_1
					add_permanent_province_modifier = {
						name = bane_2
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_flag = bane_residual }
			if = {
				limit = { owner = { treasury = 25 } }
				owner = { add_treasury = -25 }
				clr_province_flag = bane_residual
				add_permanent_province_modifier = {
					name = bane_1
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -25 }
					clr_province_flag = bane_residual
					add_permanent_province_modifier = {
						name = bane_1
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = bane_3 }
				custom_tooltip = IR_CENSUS_CANNOT_REFOREST
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #reforestation effort
		name = "census.200.b5"
		trigger = { ROOT = { OR = { has_province_flag = laurel_residual has_province_modifier = laurel_3 has_province_modifier = laurel_1 has_province_modifier = laurel_2 any_neighbor_province = { OR = { has_province_modifier = laurel_3 has_province_modifier = laurel_1 has_province_modifier = laurel_2 } } } } NOT = { OR = { has_province_modifier = laurel_chopped has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } } }
		if = {
			limit = { has_province_modifier = laurel_2 }
			if = {
				limit = { owner = { treasury = 200 } }
				owner = { add_treasury = -200 }
				remove_province_modifier = laurel_2
				add_permanent_province_modifier = {
					name = laurel_3
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -200 }
					remove_province_modifier = laurel_2
					add_permanent_province_modifier = {
						name = laurel_3
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = laurel_1 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = laurel_1
				add_permanent_province_modifier = {
					name = laurel_2
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = laurel_1
					add_permanent_province_modifier = {
						name = laurel_2
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_flag = laurel_residual }
			if = {
				limit = { owner = { treasury = 25 } }
				owner = { add_treasury = -25 }
				clr_province_flag = laurel_residual
				add_permanent_province_modifier = {
					name = laurel_1
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -25 }
					clr_province_flag = laurel_residual
					add_permanent_province_modifier = {
						name = laurel_1
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = laurel_3 }
				custom_tooltip = IR_CENSUS_CANNOT_REFOREST
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #reforestation effort
		name = "census.200.b6"
		trigger = { ROOT = { OR = { has_province_flag = rainforest_residual has_province_modifier = rainforest_3 has_province_modifier = rainforest_1 has_province_modifier = rainforest_2 any_neighbor_province = { OR = { has_province_modifier = rainforest_3 has_province_modifier = rainforest_1 has_province_modifier = rainforest_2 } } } } NOT = { OR = { has_province_modifier = rainforest_chopped has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } } }
		if = {
			limit = { has_province_modifier = rainforest_2 }
			if = {
				limit = { owner = { treasury = 200 } }
				owner = { add_treasury = -200 }
				remove_province_modifier = rainforest_2
				add_permanent_province_modifier = {
					name = rainforest_3
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -200 }
					remove_province_modifier = rainforest_2
					add_permanent_province_modifier = {
						name = rainforest_3
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_modifier = rainforest_1 }
			if = {
				limit = { owner = { treasury = 150 } }
				owner = { add_treasury = -150 }
				remove_province_modifier = rainforest_1
				add_permanent_province_modifier = {
					name = rainforest_2
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -150 }
					remove_province_modifier = rainforest_1
					add_permanent_province_modifier = {
						name = rainforest_2
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { has_province_flag = rainforest_residual }
			if = {
				limit = { owner = { treasury = 25 } }
				owner = { add_treasury = -25 }
				clr_province_flag = rainforest_residual
				add_permanent_province_modifier = {
					name = rainforest_1
					duration = -1
				}
			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD
				tooltip = {
					owner = { add_treasury = -25 }
					clr_province_flag = rainforest_residual
					add_permanent_province_modifier = {
						name = rainforest_1
						duration = -1
					}
				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = { has_province_modifier = rainforest_3 }
				custom_tooltip = IR_CENSUS_CANNOT_REFOREST
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = {
		name = "setup.back"
		hidden_effect = { province_event = { id = census.1 days = 0 } }
	}
	option = {
		name = "setup.exit"
	}
}

#Infrastructure
province_event = {
	id = census.300
	title = "census.300.t"
	desc = "census.300.d"
	picture = empty_eventPicture

	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = {
		is_city = yes
		always = no #temp remove for balance
	}


	option = { #Expand Irrigation Network
		name = "census.300.a"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = farmlands has_terrain = grasslands has_terrain = drylands AND = { has_terrain = marsh OR = { has_province_modifier = dikes has_port = no  } } has_province_modifier = floodplain has_province_modifier = oasis has_province_modifier = valley has_province_modifier = volcano } NOT = { has_province_modifier = irrigation } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = irrigation
				duration = -1
			}
			custom_tooltip = irrigation.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = irrigation
					duration = -1
				}
				custom_tooltip = irrigation.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Dig Wells
		name = "census.300.b"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = badlands has_terrain = savannah has_terrain = steppe has_province_modifier = oasis AND = { has_terrain = drylands climate_parched = yes } AND = { has_terrain = drylands climate_dry = yes } } NOT = { has_province_modifier = wells } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = wells
				duration = -1
			}
			custom_tooltip = wells.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = wells
					duration = -1
				}
				custom_tooltip = wells.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Terrace Farms
		name = "census.300.c"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = mountain has_terrain = hills has_terrain = highlands } NOT = { has_province_modifier = terrace } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = terrace
				duration = -1
			}
			custom_tooltip = terrace.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = terrace
					duration = -1
				}
				custom_tooltip = terrace.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Establish Enclosure
		name = "census.300.w"
		ai_chance = {
			factor = 100
		}
		trigger = { owner = { has_reform = agrarian_freeholds_reform } OR = { has_terrain = farmlands has_terrain = grasslands } NOT = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } } NOT = { has_province_modifier = enclosures } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = enclosures
				duration = -1
			}
			custom_tooltip = enclosures.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = enclosures
					duration = -1
				}
				custom_tooltip = enclosures.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #GARDENS
		name = "census.300.k"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_province_modifier = irrigation has_province_modifier = terrace has_province_modifier = dikes has_province_modifier = wells }  NOT = { has_province_modifier = gardens } }
		if = {
			limit = {
				OR = { has_province_modifier = irrigation has_province_modifier = terrace has_province_modifier = dikes has_province_modifier = wells }
				base_tax = 12
			}
			add_base_tax = -6
			add_permanent_province_modifier = {
				name = gardens
				duration = -1
			}
			custom_tooltip = gardens.tooltip

		}
		else_if = {
			limit = {
				NOT = { OR = { has_province_modifier = irrigation has_province_modifier = terrace has_province_modifier = dikes has_province_modifier = wells } }
				base_tax = 15
			}
			custom_tooltip = IR_CENSUS_REQ_GARDEN
			tooltip = {
				add_base_tax = -6
				add_permanent_province_modifier = {
					name = gardens
					duration = -1
				}
				custom_tooltip = gardens.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = gardens
					duration = -1
				}
				custom_tooltip = gardens.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}

	}
	option = { #Construct Breakwaters
		name = "census.300.f"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = coastline has_terrain = marsh has_terrain = coastal_desert has_province_modifier = cove has_province_modifier = barrier_islands province_has_center_of_trade_of_level = 1 } has_port = yes NOT = { has_province_modifier = breakwaters } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = breakwaters
				duration = -1
			}
			custom_tooltip = breakwaters.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = breakwaters
					duration = -1
				}
				custom_tooltip = breakwaters.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Lighthouse
		name = "census.300.n"
		trigger = { province_has_center_of_trade_of_level = 2 has_port = yes OR = { has_province_modifier = breakwaters has_province_modifier = dikes } NOT = { has_province_modifier = lighthouse } }
		if = {
			limit = {
				base_tax = 16
			}
			add_base_tax = -8
			add_permanent_province_modifier = {
				name = lighthouse
				duration = -1
			}
			custom_tooltip = lighthouse.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -8
				add_permanent_province_modifier = {
					name = lighthouse
					duration = -1
				}
				custom_tooltip = lighthouse.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Dikes
		name = "census.300.e"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = marsh has_province_modifier = barrier_islands has_province_modifier = swamp has_province_modifier = marsh_feature has_province_modifier = bayou } has_port = yes NOT = { has_province_modifier = dikes } }
		if = {
			limit = {
				base_tax = 20
			}
			add_base_tax = -10
			add_permanent_province_modifier = {
				name = dikes
				duration = -1
			}
			custom_tooltip = dikes.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -10
				add_permanent_province_modifier = {
					name = dikes
					duration = -1
				}
				custom_tooltip = dikes.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Logging Camps
		name = "census.300.s"
		trigger = { OR = { has_terrain = woods has_terrain = forest has_terrain = jungle } NOT = { has_province_modifier = logging_camps } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = logging_camps
				duration = -1
			}
			custom_tooltip = logging_camps.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = logging_camps
					duration = -1
				}
				custom_tooltip = logging_camps.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Game Preserve
		name = "census.300.t1"
		trigger = { OR = { has_terrain = woods has_terrain = forest has_terrain = jungle } NOT = { has_province_modifier = hunting_lodges } }
		custom_tooltip = IR_EXCL_HUNT_PRESERVE
		if = {
			limit = { has_province_modifier = hunting_lodges }
			remove_province_modifier = hunting_lodges
		}
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = game_preserve
				duration = -1
			}
			custom_tooltip = game_preserve.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = game_preserve
					duration = -1
				}
				custom_tooltip = game_preserve.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Hunting Lodges
		name = "census.300.u"
		trigger = { OR = { has_terrain = woods has_terrain = forest has_terrain = jungle } NOT = { has_province_modifier = hunting_lodges } }
		custom_tooltip = IR_EXCL_HUNT_PRESERVE
		if = {
			limit = { has_province_modifier = game_preserve }
			remove_province_modifier = game_preserve
		}
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = hunting_lodges
				duration = -1
			}
			custom_tooltip = hunting_lodges.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = hunting_lodges
					duration = -1
				}
				custom_tooltip = hunting_lodges.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Dam
		name = "census.300.g"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_province_modifier = canyon has_province_modifier = wadi } NOT = { has_province_modifier = dam } NOT = { any_neighbor_province = { has_province_modifier = dam } } }
		if = {
			limit = {
				base_tax = 20
			}
			add_base_tax = -10
			add_permanent_province_modifier = {
				name = dam
				duration = -1
			}
			custom_tooltip = dam.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -10
				add_permanent_province_modifier = {
					name = dam
					duration = -1
				}
				custom_tooltip = dam.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Establish Manors / Unique
		name = "census.300.l"
		trigger = { OR = { has_terrain = farmlands has_terrain = grasslands has_terrain = drylands has_terrain = woods } owner = { OR = { has_reform = feudal_manors_reform has_reform = latifundium_reform has_reform = seigneuries_reform has_reform = folwarks_reform has_reform = heerlijkheid_reform has_reform = patroons_reform has_reform = rittergut_reform has_reform = encomiendas_reform has_reform = shoen_reform } } NOT = { OR = { has_province_modifier = latifundium has_province_modifier = seigneurie has_province_modifier = folwark has_province_modifier = heerlijkheid has_province_modifier = patroon has_province_modifier = rittergut has_province_modifier = hacienda has_province_modifier = shoen has_province_modifier = manor has_building = village has_building = town has_building = city has_building = metropolis} } }
		if = {
			limit = { owner = { has_reform = latifundium_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = latifundium
					duration = -1
				}
				custom_tooltip = latifundium.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = latifundium
						duration = -1
					}
					custom_tooltip = latifundium.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { owner = { has_reform = seigneuries_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = seigneurie
					duration = -1
				}
				custom_tooltip = seigneurie.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = seigneurie
						duration = -1
					}
					custom_tooltip = seigneurie.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { owner = { has_reform = folwarks_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = folwark
					duration = -1
				}
				custom_tooltip = folwark.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = folwark
						duration = -1
					}
					custom_tooltip = folwark.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = folwark
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = heerlijkheid_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = heerlijkheid
					duration = -1
				}
				custom_tooltip = heerlijkheid.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = heerlijkheid
						duration = -1
					}
					custom_tooltip = heerlijkheid.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = heerlijkheid
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = patroons_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = patroon
					duration = -1
				}
				custom_tooltip = patroon.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = patroon
						duration = -1
					}
					custom_tooltip = patroon.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = patroon
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = rittergut_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = rittergut
					duration = -1
				}
				custom_tooltip = rittergut.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = rittergut
						duration = -1
					}
					custom_tooltip = rittergut.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = rittergut
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = haciendas_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = hacienda
					duration = -1
				}
				custom_tooltip = hacienda.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = hacienda
						duration = -1
					}
					custom_tooltip = hacienda.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = hacienda
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = shoen_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = shoen
					duration = -1
				}
				custom_tooltip = shoen.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = shoen
						duration = -1
					}
					custom_tooltip = shoen.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = manor
					duration = -1
				}
				custom_tooltip = manor.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = manor
						duration = -1
					}
					custom_tooltip = manor.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}
	option = { #Construct Waystations
		name = "census.300.i"
		trigger = { OR = { has_terrain = tundra has_terrain = steppe has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } NOT = { has_province_modifier = waystations } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = waystations
				duration = -1
			}
			custom_tooltip = waystations.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = waystations
					duration = -1
				}
				custom_tooltip = waystations.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Survey Routes
		name = "census.300.m"
		trigger = { OR = { has_terrain = hills has_terrain = highlands has_terrain = mountain has_terrain = badlands } NOT = { has_province_modifier = rugged_routes } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = rugged_routes
				duration = -1
			}
			custom_tooltip = rugged_routes.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = rugged_routes
					duration = -1
				}
				custom_tooltip = rugged_routes.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Reinforce Loose Slopes
		name = "census.300.j"
		trigger = { OR = { has_terrain = hills has_terrain = highlands has_terrain = mountain has_terrain = badlands } NOT = { has_province_modifier = reinforced_slopes } }
		if = {
			limit = {
				has_province_modifier = rugged_routes
				base_tax = 8
			}
			add_base_tax = -4
			add_permanent_province_modifier = {
				name = reinforced_slopes
				duration = -1
			}
			custom_tooltip = reinforced_slopes.tooltip

		}
		else = {
			if = {
				limit = {
					NOT = { has_province_modifier = rugged_routes }
				}
				custom_tooltip = IR_CENSUS_REQ_REINF_SLOPES
			}
			if = {
				limit = {
					NOT = {
						base_tax = 8
					}
				}
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			}
			tooltip = {
				add_base_tax = -4
				add_permanent_province_modifier = {
					name = reinforced_slopes
					duration = -1
				}
				custom_tooltip = reinforced_slopes.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Sewage Management
		name = "census.300.v"
		trigger = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } has_institution = enlightenment NOT = { has_province_modifier = sewage_management } }
		if = {
			limit = {
				base_tax = 20
			}
			add_base_tax = -10
			add_permanent_province_modifier = {
				name = sewage_management
				duration = -1
			}
			custom_tooltip = sewage_management.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -10
				add_permanent_province_modifier = {
					name = sewage_management
					duration = -1
				}
				custom_tooltip = sewage_management.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}

	option = {
		name = "setup.back"
		hidden_effect = { province_event = { id = census.1 days = 0 } }
	}
	option = {
		name = "setup.exit"
	}
}

#DEMOGRAPHY TAB

province_event = {
	id = census.500
	title = "census.500.t"
	desc = "census.500.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = {
		name = "census.500.a"
		#trigger = { }
		custom_tooltip = AN_MANAGE_MAJORITY_CULTURE
		hidden_effect = { province_event = { id = census.501 days = 0 } }
	}

	option = {
		name = "census.500.b1"
		trigger = { check_variable = { which = AN_minority_culture_size value = 1 } }
		custom_tooltip = AN_MANAGE_MINORITY_CULTURE
		hidden_effect = { province_event = { id = census.502 days = 0 } }
	}

	option = {
		name = "census.500.b2"
		trigger = { NOT = { check_variable = { which = AN_minority_culture_size value = 1 } } }
		custom_tooltip = AN_MINORITY_MUST_BE_PRESENT_TO_MANAGE
		hidden_effect = { province_event = { id = census.500 days = 0 } }
	}


	option = { #back
		name = "setup.back"
		owner = { country_event = { id = census.1 days = 0 } }
	}
	option = { #exit
		name = "setup.exit"
	}
}

province_event = { #MAJORITY INTERACTION
	id = census.501
	title = "census.501.t"
	desc = "census.501.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_maj"
		trigger = { OR = { has_province_modifier = AN_unified_majority_culture_1 has_province_modifier = AN_unified_majority_culture_2 has_province_modifier = AN_unified_majority_culture_3 has_province_modifier = AN_unified_majority_culture_4 } }
		hidden_effect = {
			province_event = { id = census.5011 days = 0 }
		}
		
	}

	option = { #
		name = "AN_culture_matrix.protect_maj"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_majority_culture_1 has_province_modifier = AN_primary_majority_culture_2 has_province_modifier = AN_primary_majority_culture_3 has_province_modifier = AN_primary_majority_culture_4 has_province_modifier = AN_unified_majority_culture_1 has_province_modifier = AN_unified_majority_culture_2 has_province_modifier = AN_unified_majority_culture_3 has_province_modifier = AN_unified_majority_culture_4 has_province_modifier = AN_accepted_majority_culture_1 has_province_modifier = AN_accepted_majority_culture_2 has_province_modifier = AN_accepted_majority_culture_3 has_province_modifier = AN_accepted_majority_culture_4 } } }
		hidden_effect = {
			province_event = { id = census.5012 days = 0 }
		}
		
	}
	
	option = { #
		name = "AN_culture_matrix.expel_maj"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_majority_culture_1 has_province_modifier = AN_primary_majority_culture_2 has_province_modifier = AN_primary_majority_culture_3 has_province_modifier = AN_primary_majority_culture_4 has_province_modifier = AN_unified_majority_culture_1 has_province_modifier = AN_unified_majority_culture_2 has_province_modifier = AN_unified_majority_culture_3 has_province_modifier = AN_unified_majority_culture_4 has_province_modifier = AN_accepted_majority_culture_1 has_province_modifier = AN_accepted_majority_culture_2 has_province_modifier = AN_accepted_majority_culture_3 has_province_modifier = AN_accepted_majority_culture_4 } } }
		hidden_effect = {
			province_event = { id = census.5013 days = 0 }
		}
		
	}


	option = { #back
		name = "setup.back"
		hidden_effect = {
			province_event = { id = census.500 days = 0 }
		}
	}
	option = { #exit
		name = "setup.exit"
	}
}

province_event = { #MINORITY INTERACTION
	id = census.502
	title = "census.502.t"
	desc = "census.502.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_min"
		trigger = { OR = { has_province_modifier = AN_unified_minority_culture_1 has_province_modifier = AN_unified_minority_culture_2 has_province_modifier = AN_unified_minority_culture_3 } }
		hidden_effect = {
			province_event = { id = census.5021 days = 0 }
		}
		
	}

	option = { #
		name = "AN_culture_matrix.protect_min"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_minority_culture_1 has_province_modifier = AN_primary_minority_culture_2 has_province_modifier = AN_primary_minority_culture_3 has_province_modifier = AN_unified_minority_culture_1 has_province_modifier = AN_unified_minority_culture_2 has_province_modifier = AN_unified_minority_culture_3 has_province_modifier = AN_accepted_minority_culture_1 has_province_modifier = AN_accepted_minority_culture_2 has_province_modifier = AN_accepted_minority_culture_3 } } }
		hidden_effect = {
			province_event = { id = census.5022 days = 0 }
		}
		
	}
	
	option = { #
		name = "AN_culture_matrix.expel_min"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_minority_culture_1 has_province_modifier = AN_primary_minority_culture_2 has_province_modifier = AN_primary_minority_culture_3 has_province_modifier = AN_unified_minority_culture_1 has_province_modifier = AN_unified_minority_culture_2 has_province_modifier = AN_unified_minority_culture_3 has_province_modifier = AN_accepted_minority_culture_1 has_province_modifier = AN_accepted_minority_culture_2 has_province_modifier = AN_accepted_minority_culture_3 } } }
		hidden_effect = {
			province_event = { id = census.5023 days = 0 }
		}
		
	}

	option = { #back
		name = "setup.back"
		hidden_effect = {
			province_event = { id = census.500 days = 0 }
		}
	}
	option = { #exit
		name = "setup.exit"
	}
}



province_event = { #MAJORITY INTEGRATE
	id = census.5011
	title = "census.5011.t"
	desc = "census.5011.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_maj_prov"
		trigger = { NOT = { has_province_flag = AN_integrate_maj } }
		set_province_flag = AN_integrate_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_maj_area"
		trigger = { NOT = { has_province_flag = AN_integrate_maj } }
		
		set_province_flag = AN_integrate_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_integrate_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_integrate_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_maj_region"
		trigger = { NOT = { has_province_flag = AN_integrate_maj } }
		
		set_province_flag = AN_integrate_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_integrate_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_integrate_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_maj_global"
		trigger = { NOT = { has_province_flag = AN_integrate_maj } }
		
		set_province_flag = AN_integrate_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_integrate_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else = {
					set_province_flag = AN_integrate_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}


	option = { #back
		name = "setup.back"
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	option = { #exit
		name = "setup.exit"
	}
}

province_event = { #MINORITY INTEGRATE
	id = census.5021
	title = "census.5021.t"
	desc = "census.5021.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_min_prov"
		trigger = { NOT = { has_province_flag = AN_integrate_min } }
		set_province_flag = AN_integrate_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.502 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.integrate_min_area"
		trigger = { NOT = { has_province_flag = AN_integrate_min } }
		
		set_province_flag = AN_integrate_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_min } }
				}
				area = event_target:AN_prov_select
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_integrate_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_integrate_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_min_region"
		trigger = { NOT = { has_province_flag = AN_integrate_min } }
		
		set_province_flag = AN_integrate_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_integrate_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_integrate_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_min_global"
		trigger = { NOT = { has_province_flag = AN_integrate_min } }
		
		set_province_flag = AN_integrate_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_integrate_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_integrate_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else = {
					set_province_flag = AN_integrate_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #back
		name = "setup.back"
		province_event = { id = census.502 days = 0 }
	}
	option = { #exit
		name = "setup.exit"
	}
}

province_event = { #MAJORITY PROTECT
	id = census.5012
	title = "census.5012.t"
	desc = "census.5012.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.protect_maj_prov"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}

	option = { #
		name = "AN_culture_matrix.protect_maj_area"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.protect_maj_region"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.protect_maj_global"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else = {
					set_province_flag = AN_protect_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}


	option = { #back
		name = "setup.back"
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	option = { #exit
		name = "setup.exit"
	}
}

province_event = { #MINORITY PROTECT
	id = census.5022
	title = "census.5022.t"
	desc = "census.5022.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.protect_min_prov"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.502 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.protect_min_area"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.protect_min_region"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.protect_min_global"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else = {
					set_province_flag = AN_protect_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #back
		name = "setup.back"
		province_event = { id = census.502 days = 0 }
	}
	option = { #exit
		name = "setup.exit"
	}
}

province_event = { #MAJORITY EXPEL
	id = census.5013
	title = "census.5013.t"
	desc = "census.5013.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.expel_maj_prov"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}

	option = { #
		name = "AN_culture_matrix.expel_maj_area"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.expel_maj_region"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.expel_maj_global"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else = {
					set_province_flag = AN_expel_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}


	option = { #back
		name = "setup.back"
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	option = { #exit
		name = "setup.exit"
	}
}

province_event = { #MINORITY EXPEL
	id = census.5023
	title = "census.5023.t"
	desc = "census.5023.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.expel_min_prov"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.502 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.expel_min_area"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.expel_min_region"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		save_event_target_as = AN_prov_select
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.expel_min_global"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else = {
					set_province_flag = AN_expel_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.502 days = 0 }
	}


	option = { #back
		name = "setup.back"
		province_event = { id = census.502 days = 0 }
	}
	option = { #exit
		name = "setup.exit"
	}
}