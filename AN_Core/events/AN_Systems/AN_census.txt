namespace = census

#RECALC CARRYING CAPACITY, INFRASTRUCTURE LIMIT
province_event = {
	id = census.1
	title = "census.1.t"
	desc = "census.1.desc"
	picture = AN_CENSUS_eventPicture


	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = { is_city = yes has_global_flag = AN_dev_init }

	immediate = {
		hidden_effect = {
			AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=2
				size=M
				color=4
				data=AN_wealth_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
			set_ttt_bar_data = {
				bg=yes
				id=1
				size=M
				color=1
				data=AN_pop_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}
	option = { #
		name = "census.1.forestry"
		custom_tooltip = census_forestry_tooltip
		hidden_effect = { province_event = { id = census.200 days = 0 } }
	}
	option = { #
		name = "census.1.edicts"
		custom_tooltip = census_edicts_tooltip
		hidden_effect = { province_event = { id = census.100 days = 0 } }
	}
	option = { #
		name = "census.1.projects"
		custom_tooltip = census_projects_tooltip
		hidden_effect = { province_event = { id = census.300 days = 0 } }
	}
	option = { #
		name = "census.1.resources"
		custom_tooltip = census_resources_tooltip
		#hidden_effect = { province_event = { id = census.400 days = 0 } }
	}
	option = { #
		name = "census.1.demography"
		custom_tooltip = census_demography_tooltip
		hidden_effect = { province_event = { id = census.500 days = 0 } }
	}
	option = {
		name = "census.1.exit"
		#highlight = yes
	}
}

#Edicts
province_event = {
	id = census.100
	title = "census.100.t"
	desc = "census.100.d"
	picture = empty_eventPicture

	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = {
		is_city = yes
		has_global_flag = AN_dev_init
	}

	##MOVED

	option = { #Drain Marshland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.o"
		trigger = { ai = no has_province_modifier = marsh_feature has_province_modifier = flooded_marsh }
		if = {
			limit = {
				owner = {
					treasury = 50
				}
			}
			owner = {
				add_treasury = -50
			}
			add_devastation = -10
			remove_province_modifier = flooded_marsh
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -50
				}
				add_devastation = -10
				remove_province_modifier = flooded_marsh
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Flood Marshland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.p"
		trigger = { ai = no has_province_modifier = marsh_feature NOT = { has_province_modifier = flooded_marsh } }
		if = {
			limit = {
				owner = {
					treasury = 25
				}
			}
			owner = {
				add_treasury = -25
			}
			add_devastation = 20
			add_permanent_province_modifier = {
				name = flooded_marsh
				duration = -1
			}

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -25
				}
				add_devastation = 20
				add_permanent_province_modifier = {
					name = flooded_marsh
					duration = -1
				}
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Drain Swampland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.q"
		trigger = { ai = no has_province_modifier = swamp has_province_modifier = flooded_swamp }
		if = {
			limit = {
				owner = {
					treasury = 50
				}
			}
			owner = {
				add_treasury = -50
			}
			add_devastation = -10
			remove_province_modifier = flooded_swamp
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -50
				}
				add_devastation = -10
				remove_province_modifier = flooded_swamp
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Flood Swampland # AI WILL NEVER DO FOR NOW - IT SIMPLY IS TOO STUPID
		name = "census.300.r"
		trigger = { ai = no has_province_modifier = swamp NOT = { has_province_modifier = flooded_swamp } }
		if = {
			limit = {
				owner = {
					treasury = 25
				}
			}
			owner = {
				add_treasury = -25
			}
			add_devastation = 20
			add_permanent_province_modifier = {
				name = flooded_swamp
				duration = -1
			}

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = {
					add_treasury = -25
				}
				add_devastation = 20
				add_permanent_province_modifier = {
					name = flooded_swamp
					duration = -1
				}
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}


	###

	option = { #Migration Prio
		name = "census.100.a"
		trigger = { NOT = { has_province_modifier = AN_migration_prio } }
		if = {
			limit = {
				owner = { dip_power = 50 }
			}
			owner = { add_dip_power = -50 }
			add_province_modifier = {
				name = AN_migration_prio
				duration = -1
			}
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = { add_dip_power = -50 }
				add_province_modifier = {
					name = AN_migration_prio
					duration = -1
				}
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Remove Migration Prio
		name = "census.100.ab"
		trigger = { has_province_modifier = AN_migration_prio }
		remove_province_modifier = AN_migration_prio
	}
	
	option = { #Quarantine
		name = "census.100.b"
		trigger = { NOT = { has_province_modifier = AN_quarantine } }
		if = {
			limit = {
				owner = { dip_power = 10 mil_power = 30 }
			}
			owner = { add_dip_power = -10 add_mil_power = -30 }
			add_province_modifier = {
				name = AN_quarantine
				duration = -1
			}
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD
			tooltip = {
				owner = { add_dip_power = -10 add_mil_power = -30 }
				add_province_modifier = {
					name = AN_quarantine
					duration = -1
				}
			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Remove Quarantine 
		name = "census.100.bb"
		trigger = { has_province_modifier = AN_quarantine }
		remove_province_modifier = AN_quarantine
	}
	
	
	option = {
		name = "basic.back"
		hidden_effect = { province_event = { id = census.1 days = 0 } }
	}
	option = {
		name = "basic.exit"
	}
}

#Forestry
province_event = {
	id = census.200
	title = "census.200.t"
	desc = "census.200.d"
	picture = empty_eventPicture

	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = {
		is_city = yes
	}

	option = { #cut down forest
		name = "census.200.a1"
		trigger = { AN_can_chop_forest = { TYPE = needleleaf } }
		AN_chop_forest_effect = { TYPE = needleleaf }
	}
	option = { #cut down forest
		name = "census.200.a2"
		trigger = { AN_can_chop_forest = { TYPE = broadleaf } }
		AN_chop_forest_effect = { TYPE = broadleaf }
	}
	option = { #cut down forest
		name = "census.200.a3"
		trigger = { AN_can_chop_forest = { TYPE = coniferous } }
		AN_chop_forest_effect = { TYPE = coniferous }
	}
	option = { #cut down forest
		name = "census.200.a4"
		trigger = { AN_can_chop_forest = { TYPE = bane } }
		AN_chop_forest_effect = { TYPE = bane }
	}
	option = { #cut down forest
		name = "census.200.a5"
		trigger = { AN_can_chop_forest = { TYPE = laurel } }
		AN_chop_forest_effect = { TYPE = laurel }
	}
	option = { #cut down forest
		name = "census.200.a6"
		trigger = { AN_can_chop_forest = { TYPE = rainforest } }
		AN_chop_forest_effect = { TYPE = rainforest }
	}

	option = { #reforestation effort
		name = "census.200.b1"
		trigger = { AN_can_reforest = { TYPE = needleleaf } }
		AN_reforest_effect = { TYPE = needleleaf }
	}
	option = { #reforestation effort
		name = "census.200.b2"
		trigger = { AN_can_reforest = { TYPE = broadleaf } }
		AN_reforest_effect = { TYPE = broadleaf }
	}
	option = { #reforestation effort
		name = "census.200.b3"
		trigger = { AN_can_reforest = { TYPE = coniferous } }
		AN_reforest_effect = { TYPE = coniferous }
	}
	option = { #reforestation effort
		name = "census.200.b4"
		trigger = { AN_can_reforest = { TYPE = bane } }
		AN_reforest_effect = { TYPE = bane }
	}
	option = { #reforestation effort
		name = "census.200.b5"
		trigger = { AN_can_reforest = { TYPE = laurel } }
		AN_reforest_effect = { TYPE = laurel }
	}
	option = { #reforestation effort
		name = "census.200.b6"
		trigger = { AN_can_reforest = { TYPE = rainforest } }
		AN_reforest_effect = { TYPE = rainforest }
	}
	option = {
		name = "basic.back"
		hidden_effect = { province_event = { id = census.1 days = 0 } }
	}
	option = {
		name = "basic.exit"
	}
}

#Infrastructure
province_event = {
	id = census.300
	title = "census.300.t"
	desc = "census.300.d"
	picture = empty_eventPicture

	is_triggered_only = yes
	#fire_only_once = yes
	#hidden = yes

	trigger = {
		is_city = yes
		always = no #temp remove for balance
	}


	option = { #Expand Irrigation Network
		name = "census.300.a"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = grasslands has_terrain = drylands AND = { has_terrain = marsh OR = { has_province_modifier = dikes has_port = no  } } has_province_modifier = floodplain has_province_modifier = oasis has_province_modifier = valley has_province_modifier = volcano } NOT = { has_province_modifier = irrigation } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = irrigation
				duration = -1
			}
			custom_tooltip = irrigation.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = irrigation
					duration = -1
				}
				custom_tooltip = irrigation.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Dig Wells
		name = "census.300.b"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = badlands has_terrain = savannah has_terrain = steppe has_province_modifier = oasis AND = { has_terrain = drylands climate_parched = yes } AND = { has_terrain = drylands climate_dry = yes } } NOT = { has_province_modifier = wells } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = wells
				duration = -1
			}
			custom_tooltip = wells.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = wells
					duration = -1
				}
				custom_tooltip = wells.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Terrace Farms
		name = "census.300.c"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = mountain has_terrain = hills has_terrain = highlands } NOT = { has_province_modifier = terrace } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = terrace
				duration = -1
			}
			custom_tooltip = terrace.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = terrace
					duration = -1
				}
				custom_tooltip = terrace.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Establish Enclosure
		name = "census.300.w"
		ai_chance = {
			factor = 100
		}
		trigger = { owner = { has_reform = agrarian_freeholds_reform } has_terrain = grasslands NOT = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } } NOT = { has_province_modifier = enclosures } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = enclosures
				duration = -1
			}
			custom_tooltip = enclosures.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = enclosures
					duration = -1
				}
				custom_tooltip = enclosures.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #GARDENS
		name = "census.300.k"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_province_modifier = irrigation has_province_modifier = terrace has_province_modifier = dikes has_province_modifier = wells }  NOT = { has_province_modifier = gardens } }
		if = {
			limit = {
				OR = { has_province_modifier = irrigation has_province_modifier = terrace has_province_modifier = dikes has_province_modifier = wells }
				base_tax = 12
			}
			add_base_tax = -6
			add_permanent_province_modifier = {
				name = gardens
				duration = -1
			}
			custom_tooltip = gardens.tooltip

		}
		else_if = {
			limit = {
				NOT = { OR = { has_province_modifier = irrigation has_province_modifier = terrace has_province_modifier = dikes has_province_modifier = wells } }
				base_tax = 15
			}
			custom_tooltip = IR_CENSUS_REQ_GARDEN
			tooltip = {
				add_base_tax = -6
				add_permanent_province_modifier = {
					name = gardens
					duration = -1
				}
				custom_tooltip = gardens.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = gardens
					duration = -1
				}
				custom_tooltip = gardens.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}

	}
	option = { #Construct Breakwaters
		name = "census.300.f"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = coastline has_terrain = marsh has_terrain = coastal_desert has_province_modifier = cove has_province_modifier = barrier_islands province_has_center_of_trade_of_level = 1 } has_port = yes NOT = { has_province_modifier = breakwaters } }
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = breakwaters
				duration = -1
			}
			custom_tooltip = breakwaters.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = breakwaters
					duration = -1
				}
				custom_tooltip = breakwaters.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Lighthouse
		name = "census.300.n"
		trigger = { province_has_center_of_trade_of_level = 2 has_port = yes OR = { has_province_modifier = breakwaters has_province_modifier = dikes } NOT = { has_province_modifier = lighthouse } }
		if = {
			limit = {
				base_tax = 16
			}
			add_base_tax = -8
			add_permanent_province_modifier = {
				name = lighthouse
				duration = -1
			}
			custom_tooltip = lighthouse.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -8
				add_permanent_province_modifier = {
					name = lighthouse
					duration = -1
				}
				custom_tooltip = lighthouse.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Dikes
		name = "census.300.e"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_terrain = marsh has_province_modifier = barrier_islands has_province_modifier = swamp has_province_modifier = marsh_feature has_province_modifier = bayou } has_port = yes NOT = { has_province_modifier = dikes } }
		if = {
			limit = {
				base_tax = 20
			}
			add_base_tax = -10
			add_permanent_province_modifier = {
				name = dikes
				duration = -1
			}
			custom_tooltip = dikes.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -10
				add_permanent_province_modifier = {
					name = dikes
					duration = -1
				}
				custom_tooltip = dikes.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Logging Camps
		name = "census.300.s"
		trigger = { OR = { has_terrain = woods has_terrain = forest has_terrain = jungle } NOT = { has_province_modifier = logging_camps } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = logging_camps
				duration = -1
			}
			custom_tooltip = logging_camps.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = logging_camps
					duration = -1
				}
				custom_tooltip = logging_camps.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Game Preserve
		name = "census.300.t1"
		trigger = { OR = { has_terrain = woods has_terrain = forest has_terrain = jungle } NOT = { has_province_modifier = hunting_lodges } }
		custom_tooltip = IR_EXCL_HUNT_PRESERVE
		if = {
			limit = { has_province_modifier = hunting_lodges }
			remove_province_modifier = hunting_lodges
		}
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = game_preserve
				duration = -1
			}
			custom_tooltip = game_preserve.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = game_preserve
					duration = -1
				}
				custom_tooltip = game_preserve.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Hunting Lodges
		name = "census.300.u"
		trigger = { OR = { has_terrain = woods has_terrain = forest has_terrain = jungle } NOT = { has_province_modifier = hunting_lodges } }
		custom_tooltip = IR_EXCL_HUNT_PRESERVE
		if = {
			limit = { has_province_modifier = game_preserve }
			remove_province_modifier = game_preserve
		}
		if = {
			limit = {
				base_tax = 6
			}
			add_base_tax = -3
			add_permanent_province_modifier = {
				name = hunting_lodges
				duration = -1
			}
			custom_tooltip = hunting_lodges.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -3
				add_permanent_province_modifier = {
					name = hunting_lodges
					duration = -1
				}
				custom_tooltip = hunting_lodges.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Construct Dam
		name = "census.300.g"
		ai_chance = {
			factor = 100
		}
		trigger = { OR = { has_province_modifier = canyon has_province_modifier = wadi } NOT = { has_province_modifier = dam } NOT = { any_neighbor_province = { has_province_modifier = dam } } }
		if = {
			limit = {
				base_tax = 20
			}
			add_base_tax = -10
			add_permanent_province_modifier = {
				name = dam
				duration = -1
			}
			custom_tooltip = dam.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -10
				add_permanent_province_modifier = {
					name = dam
					duration = -1
				}
				custom_tooltip = dam.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Establish Manors / Unique
		name = "census.300.l"
		trigger = { OR = { has_terrain = grasslands has_terrain = drylands has_terrain = woods } owner = { OR = { has_reform = feudal_manors_reform has_reform = latifundium_reform has_reform = seigneuries_reform has_reform = folwarks_reform has_reform = heerlijkheid_reform has_reform = patroons_reform has_reform = rittergut_reform has_reform = encomiendas_reform has_reform = shoen_reform } } NOT = { OR = { has_province_modifier = latifundium has_province_modifier = seigneurie has_province_modifier = folwark has_province_modifier = heerlijkheid has_province_modifier = patroon has_province_modifier = rittergut has_province_modifier = hacienda has_province_modifier = shoen has_province_modifier = manor has_building = village has_building = town has_building = city has_building = metropolis} } }
		if = {
			limit = { owner = { has_reform = latifundium_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = latifundium
					duration = -1
				}
				custom_tooltip = latifundium.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = latifundium
						duration = -1
					}
					custom_tooltip = latifundium.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { owner = { has_reform = seigneuries_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = seigneurie
					duration = -1
				}
				custom_tooltip = seigneurie.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = seigneurie
						duration = -1
					}
					custom_tooltip = seigneurie.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else_if = {
			limit = { owner = { has_reform = folwarks_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = folwark
					duration = -1
				}
				custom_tooltip = folwark.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = folwark
						duration = -1
					}
					custom_tooltip = folwark.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = folwark
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = heerlijkheid_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = heerlijkheid
					duration = -1
				}
				custom_tooltip = heerlijkheid.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = heerlijkheid
						duration = -1
					}
					custom_tooltip = heerlijkheid.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = heerlijkheid
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = patroons_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = patroon
					duration = -1
				}
				custom_tooltip = patroon.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = patroon
						duration = -1
					}
					custom_tooltip = patroon.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = patroon
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = rittergut_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = rittergut
					duration = -1
				}
				custom_tooltip = rittergut.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = rittergut
						duration = -1
					}
					custom_tooltip = rittergut.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = rittergut
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = haciendas_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = hacienda
					duration = -1
				}
				custom_tooltip = hacienda.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = hacienda
						duration = -1
					}
					custom_tooltip = hacienda.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
			add_province_modifier = {
				name = hacienda
				duration = -1
			}
		}
		else_if = {
			limit = { owner = { has_reform = shoen_reform } }
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = shoen
					duration = -1
				}
				custom_tooltip = shoen.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = shoen
						duration = -1
					}
					custom_tooltip = shoen.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
		else = {
			if = {
				limit = {
					base_tax = 10
				}
				add_base_tax = -5
				add_permanent_province_modifier = {
					name = manor
					duration = -1
				}
				custom_tooltip = manor.tooltip

			}
			else = {
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
				tooltip = {
					add_base_tax = -5
					add_permanent_province_modifier = {
						name = manor
						duration = -1
					}
					custom_tooltip = manor.tooltip

				}
				hidden_effect = { province_event = { id = census.1 days = 0 } }
			}
		}
	}
	option = { #Construct Waystations
		name = "census.300.i"
		trigger = { OR = { has_terrain = tundra has_terrain = steppe has_terrain = desert has_terrain = coastal_desert has_terrain = glacier } NOT = { has_province_modifier = waystations } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = waystations
				duration = -1
			}
			custom_tooltip = waystations.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = waystations
					duration = -1
				}
				custom_tooltip = waystations.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Survey Routes
		name = "census.300.m"
		trigger = { OR = { has_terrain = hills has_terrain = highlands has_terrain = mountain has_terrain = badlands } NOT = { has_province_modifier = rugged_routes } }
		if = {
			limit = {
				base_tax = 4
			}
			add_base_tax = -2
			add_permanent_province_modifier = {
				name = rugged_routes
				duration = -1
			}
			custom_tooltip = rugged_routes.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -2
				add_permanent_province_modifier = {
					name = rugged_routes
					duration = -1
				}
				custom_tooltip = rugged_routes.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Reinforce Loose Slopes
		name = "census.300.j"
		trigger = { OR = { has_terrain = hills has_terrain = highlands has_terrain = mountain has_terrain = badlands } NOT = { has_province_modifier = reinforced_slopes } }
		if = {
			limit = {
				has_province_modifier = rugged_routes
				base_tax = 8
			}
			add_base_tax = -4
			add_permanent_province_modifier = {
				name = reinforced_slopes
				duration = -1
			}
			custom_tooltip = reinforced_slopes.tooltip

		}
		else = {
			if = {
				limit = {
					NOT = { has_province_modifier = rugged_routes }
				}
				custom_tooltip = IR_CENSUS_REQ_REINF_SLOPES
			}
			if = {
				limit = {
					NOT = {
						base_tax = 8
					}
				}
				custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			}
			tooltip = {
				add_base_tax = -4
				add_permanent_province_modifier = {
					name = reinforced_slopes
					duration = -1
				}
				custom_tooltip = reinforced_slopes.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}
	option = { #Sewage Management
		name = "census.300.v"
		trigger = { OR = { has_building = village has_building = town has_building = city has_building = metropolis } has_institution = enlightenment NOT = { has_province_modifier = sewage_management } }
		if = {
			limit = {
				base_tax = 20
			}
			add_base_tax = -10
			add_permanent_province_modifier = {
				name = sewage_management
				duration = -1
			}
			custom_tooltip = sewage_management.tooltip

		}
		else = {
			custom_tooltip = IR_CENSUS_CANNOT_AFFORD_INFR_PRJ
			tooltip = {
				add_base_tax = -10
				add_permanent_province_modifier = {
					name = sewage_management
					duration = -1
				}
				custom_tooltip = sewage_management.tooltip

			}
			hidden_effect = { province_event = { id = census.1 days = 0 } }
		}
	}

	option = {
		name = "basic.back"
		hidden_effect = { province_event = { id = census.1 days = 0 } }
	}
	option = {
		name = "basic.exit"
	}
}

#DEMOGRAPHY TAB

province_event = {
	id = census.500
	title = "census.500.t"
	desc = "census.500.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = {
		name = "census.500.a"
		#trigger = { }
		custom_tooltip = AN_MANAGE_MAJORITY_CULTURE
		hidden_effect = { province_event = { id = census.501 days = 0 } }
	}

	option = {
		name = "census.500.b1"
		trigger = { check_variable = { which = AN_minority_culture_size value = 1 } }
		custom_tooltip = AN_MANAGE_MINORITY_CULTURE
		hidden_effect = { province_event = { id = census.502 days = 0 } }
	}

	option = {
		name = "census.500.b2"
		trigger = { NOT = { check_variable = { which = AN_minority_culture_size value = 1 } } }
		custom_tooltip = AN_MINORITY_MUST_BE_PRESENT_TO_MANAGE
		hidden_effect = { province_event = { id = census.500 days = 0 } }
	}
	
	option = {
		name = "census.500.c1"
		trigger = { NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } }
		custom_tooltip = AN_MANAGE_SECONDARY_CULTURE
		hidden_effect = { province_event = { id = census.503 days = 0 } }
	}

	
	option = {
		name = "census.500.c2"
		trigger = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		custom_tooltip = AN_SECONDARY_MUST_BE_PRESENT_TO_MANAGE
		hidden_effect = { province_event = { id = census.500 days = 0 } }
	}


	option = { #back
		name = "basic.back"
		hidden_effect = { owner = { country_event = { id = census.1 days = 0 } } }
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #MAJORITY INTERACTION
	id = census.501
	title = "census.501.t"
	desc = "census.501.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_maj"
		trigger = { OR = { has_province_modifier = AN_unified_majority_culture_1 has_province_modifier = AN_unified_majority_culture_2 has_province_modifier = AN_unified_majority_culture_3 has_province_modifier = AN_unified_majority_culture_4 } }
		hidden_effect = {
			province_event = { id = census.5011 days = 0 }
		}
		
	}

	option = { #
		name = "AN_culture_matrix.protect_maj"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_majority_culture_1 has_province_modifier = AN_primary_majority_culture_2 has_province_modifier = AN_primary_majority_culture_3 has_province_modifier = AN_primary_majority_culture_4 has_province_modifier = AN_unified_majority_culture_1 has_province_modifier = AN_unified_majority_culture_2 has_province_modifier = AN_unified_majority_culture_3 has_province_modifier = AN_unified_majority_culture_4 has_province_modifier = AN_accepted_majority_culture_1 has_province_modifier = AN_accepted_majority_culture_2 has_province_modifier = AN_accepted_majority_culture_3 has_province_modifier = AN_accepted_majority_culture_4 } } }
		hidden_effect = {
			province_event = { id = census.5012 days = 0 }
		}
		
	}
	
	option = { #
		name = "AN_culture_matrix.expel_maj"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_majority_culture_1 has_province_modifier = AN_primary_majority_culture_2 has_province_modifier = AN_primary_majority_culture_3 has_province_modifier = AN_primary_majority_culture_4 has_province_modifier = AN_unified_majority_culture_1 has_province_modifier = AN_unified_majority_culture_2 has_province_modifier = AN_unified_majority_culture_3 has_province_modifier = AN_unified_majority_culture_4 has_province_modifier = AN_accepted_majority_culture_1 has_province_modifier = AN_accepted_majority_culture_2 has_province_modifier = AN_accepted_majority_culture_3 has_province_modifier = AN_accepted_majority_culture_4 } } }
		hidden_effect = {
			province_event = { id = census.5013 days = 0 }
		}
		
	}


	option = { #back
		name = "basic.back"
		hidden_effect = {
			province_event = { id = census.500 days = 0 }
		}
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #MINORITY INTERACTION
	id = census.502
	title = "census.502.t"
	desc = "census.502.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_min"
		trigger = { OR = { has_province_modifier = AN_unified_minority_culture_1 has_province_modifier = AN_unified_minority_culture_2 has_province_modifier = AN_unified_minority_culture_3 } }
		hidden_effect = {
			province_event = { id = census.5021 days = 0 }
		}
		
	}

	option = { #
		name = "AN_culture_matrix.protect_min"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_minority_culture_1 has_province_modifier = AN_primary_minority_culture_2 has_province_modifier = AN_primary_minority_culture_3 has_province_modifier = AN_unified_minority_culture_1 has_province_modifier = AN_unified_minority_culture_2 has_province_modifier = AN_unified_minority_culture_3 has_province_modifier = AN_accepted_minority_culture_1 has_province_modifier = AN_accepted_minority_culture_2 has_province_modifier = AN_accepted_minority_culture_3 } } }
		hidden_effect = {
			province_event = { id = census.5022 days = 0 }
		}
		
	}
	
	option = { #
		name = "AN_culture_matrix.expel_min"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_minority_culture_1 has_province_modifier = AN_primary_minority_culture_2 has_province_modifier = AN_primary_minority_culture_3 has_province_modifier = AN_unified_minority_culture_1 has_province_modifier = AN_unified_minority_culture_2 has_province_modifier = AN_unified_minority_culture_3 has_province_modifier = AN_accepted_minority_culture_1 has_province_modifier = AN_accepted_minority_culture_2 has_province_modifier = AN_accepted_minority_culture_3 } } }
		hidden_effect = {
			province_event = { id = census.5023 days = 0 }
		}
		
	}

	option = { #back
		name = "basic.back"
		hidden_effect = {
			province_event = { id = census.500 days = 0 }
		}
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #SECONDARY INTERACTION
	id = census.503
	title = "census.503.t"
	desc = "census.503.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_sec"
		trigger = { has_province_modifier = AN_unified_secondary_culture }
		hidden_effect = {
			province_event = { id = census.5031 days = 0 }
		}
		
	}

	option = { #
		name = "AN_culture_matrix.protect_sec"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_secondary_culture has_province_modifier = AN_unified_secondary_culture has_province_modifier = AN_accepted_secondary_culture } } }
		hidden_effect = {
			province_event = { id = census.5032 days = 0 }
		}
		
	}
	
	option = { #
		name = "AN_culture_matrix.expel_sec"
		trigger = { NOT = { OR = { has_province_modifier = AN_primary_secondary_culture has_province_modifier = AN_unified_secondary_culture has_province_modifier = AN_accepted_secondary_culture } } }
		hidden_effect = {
			province_event = { id = census.5033 days = 0 }
		}
		
	}

	option = { #back
		name = "basic.back"
		hidden_effect = {
			province_event = { id = census.500 days = 0 }
		}
	}
	option = { #exit
		name = "basic.exit"
	}
}



province_event = { #MAJORITY INTEGRATE
	id = census.5011
	title = "census.5011.t"
	desc = "census.5011.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_maj_prov"
		trigger = { NOT = { has_province_flag = AN_int_maj } }
		set_province_flag = AN_int_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_maj_area"
		trigger = { NOT = { has_province_flag = AN_int_maj } }
		
		set_province_flag = AN_int_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_int_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_maj_region"
		trigger = { NOT = { has_province_flag = AN_int_maj } }
		
		set_province_flag = AN_int_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_int_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_maj_global"
		trigger = { NOT = { has_province_flag = AN_int_maj } }
		
		set_province_flag = AN_int_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_int_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_int_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_int_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}


	option = { #back
		name = "basic.back"
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #MINORITY INTEGRATE
	id = census.5021
	title = "census.5021.t"
	desc = "census.5021.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_min_prov"
		trigger = { NOT = { has_province_flag = AN_int_min } }
		set_province_flag = AN_int_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.502 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.integrate_min_area"
		trigger = { NOT = { has_province_flag = AN_int_min } }
		
		set_province_flag = AN_int_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_int_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_min_region"
		trigger = { NOT = { has_province_flag = AN_int_min } }
		
		set_province_flag = AN_int_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_int_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_min_global"
		trigger = { NOT = { has_province_flag = AN_int_min } }
		
		set_province_flag = AN_int_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_int_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_int_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_int_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #back
		name = "basic.back"
		province_event = { id = census.502 days = 0 }
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #Secondary INTEGRATE
	id = census.5031
	title = "census.5031.t"
	desc = "census.5031.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.integrate_sec_prov"
		trigger = { NOT = { has_province_flag = AN_int_sec } }
		set_province_flag = AN_int_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.503 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.integrate_sec_area"
		trigger = { NOT = { has_province_flag = AN_int_sec } }
		
		set_province_flag = AN_int_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_int_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.503 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_sec_region"
		trigger = { NOT = { has_province_flag = AN_int_sec } }
		
		set_province_flag = AN_int_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_int_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_int_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.integrate_min_global"
		trigger = { NOT = { has_province_flag = AN_int_min } }
		
		set_province_flag = AN_int_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_int_sec } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_int_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_int_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_int_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.503 days = 0 }
	}
	
	option = { #back
		name = "basic.back"
		province_event = { id = census.503 days = 0 }
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #MAJORITY PROTECT
	id = census.5012
	title = "census.5012.t"
	desc = "census.5012.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.protect_maj_prov"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}

	option = { #
		name = "AN_culture_matrix.protect_maj_area"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.protect_maj_region"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.protect_maj_global"
		trigger = { NOT = { has_province_flag = AN_protect_maj } }
		
		set_province_flag = AN_protect_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_protect_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}


	option = { #back
		name = "basic.back"
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #MINORITY PROTECT
	id = census.5022
	title = "census.5022.t"
	desc = "census.5022.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.protect_min_prov"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.502 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.protect_min_area"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.protect_min_region"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.protect_min_global"
		trigger = { NOT = { has_province_flag = AN_protect_min } }
		
		set_province_flag = AN_protect_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_protect_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #back
		name = "basic.back"
		province_event = { id = census.502 days = 0 }
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #SECONDARY PROTECT
	id = census.5032
	title = "census.5032.t"
	desc = "census.5032.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.protect_sec_prov"
		trigger = { NOT = { has_province_flag = AN_protect_sec } }
		set_province_flag = AN_protect_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.503 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.protect_sec_area"
		trigger = { NOT = { has_province_flag = AN_protect_sec } }
		
		set_province_flag = AN_protect_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.503 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.protect_sec_region"
		trigger = { NOT = { has_province_flag = AN_protect_sec } }
		
		set_province_flag = AN_protect_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_protect_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_protect_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.503 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.protect_sec_global"
		trigger = { NOT = { has_province_flag = AN_protect_sec } }
		
		set_province_flag = AN_protect_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_protect_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_protect_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_protect_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.503 days = 0 }
	}
	
	option = { #back
		name = "basic.back"
		province_event = { id = census.503 days = 0 }
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #MAJORITY EXPEL
	id = census.5013
	title = "census.5013.t"
	desc = "census.5013.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.expel_maj_prov"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}

	option = { #
		name = "AN_culture_matrix.expel_maj_area"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.expel_maj_region"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	
	option = { #
		name = "AN_culture_matrix.expel_maj_global"
		trigger = { NOT = { has_province_flag = AN_expel_maj } }
		
		set_province_flag = AN_expel_maj
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_province_culture which = PREV }
			set_variable = { which = AN_minority_culture which = AN_province_culture }
			set_variable = { which = AN_secondary_culture which = AN_province_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_expel_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}


	option = { #back
		name = "basic.back"
		hidden_effect = {
			province_event = { id = census.501 days = 0 }
		}
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #MINORITY EXPEL
	id = census.5023
	title = "census.5023.t"
	desc = "census.5023.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.expel_min_prov"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.502 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.expel_min_area"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.expel_min_region"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.502 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.expel_min_global"
		trigger = { NOT = { has_province_flag = AN_expel_min } }
		
		set_province_flag = AN_expel_min
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_minority_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_minority_culture }
			set_variable = { which = AN_secondary_culture which = AN_minority_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_expel_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.502 days = 0 }
	}


	option = { #back
		name = "basic.back"
		province_event = { id = census.502 days = 0 }
	}
	option = { #exit
		name = "basic.exit"
	}
}

province_event = { #SECONDARY EXPEL
	id = census.5033
	title = "census.5033.t"
	desc = "census.5033.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			#AN_check_dev_variables = yes
			set_ttt_bar_data = {
				bg=yes
				id=3
				size=M
				color=3 #for red, 3 for blue
				data=AN_culture_progress
				datatype=which
				max=100
				maxtype=value
				min=0
				mintype=value
			}
		}
	}

	option = { #
		name = "AN_culture_matrix.expel_sec_prov"
		trigger = { NOT = { has_province_flag = AN_expel_sec } }
		set_province_flag = AN_expel_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		province_event = { id = census.503 days = 0 }
	}

	option = { #
		name = "AN_culture_matrix.expel_sec_area"
		trigger = { NOT = { has_province_flag = AN_expel_sec } }
		
		set_province_flag = AN_expel_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		
		area = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.503 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.expel_sec_region"
		trigger = { NOT = { has_province_flag = AN_expel_sec } }
		
		set_province_flag = AN_expel_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		
		region = {
			limit = {
				OR = {
					AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
					AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
				}
			}
			if = { 
				limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_maj
				set_variable = { which = AN_culture_progress value = 0 }
			}
			else_if = {
				limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
				set_province_flag = AN_expel_min
				set_variable = { which = AN_minority_progress value = 0 }
			}
			else = {
				set_province_flag = AN_expel_sec
				set_variable = { which = AN_minority_progress value = 0 }
			}
			AN_check_culture_minorities = yes
		}
		
		province_event = { id = census.503 days = 0 }
	}
	
	option = { #
		name = "AN_culture_matrix.expel_sec_global"
		trigger = { NOT = { has_province_flag = AN_expel_sec } }
		
		set_province_flag = AN_expel_sec
		set_variable = { which = AN_culture_progress value = 0 }
		AN_check_culture_minorities = yes
		
		event_target:AN_DUMMY_PROV = {
			set_variable = { which = AN_secondary_culture which = PREV }
			set_variable = { which = AN_province_culture which = AN_secondary_culture }
			set_variable = { which = AN_minority_culture which = AN_secondary_culture }
		}
		
		owner = {
			every_owned_province = {
				limit = {
					OR = {
						AND = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_maj } }
						AND = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
						AND = { is_variable_equal = { which = AN_secondary_culture which = event_target:AN_DUMMY_PROV } NOT = { has_province_flag = AN_expel_min } }
					}
				}
				if = { 
					limit = { is_variable_equal = { which = AN_province_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_maj
					set_variable = { which = AN_culture_progress value = 0 }
				}
				else_if = {
					limit = { is_variable_equal = { which = AN_minority_culture which = event_target:AN_DUMMY_PROV } }
					set_province_flag = AN_expel_min
					set_variable = { which = AN_minority_progress value = 0 }
				}
				else = {
					set_province_flag = AN_expel_sec
					set_variable = { which = AN_minority_progress value = 0 }
				}
				AN_check_culture_minorities = yes
			}
		}
		
		province_event = { id = census.503 days = 0 }
	}


	option = { #back
		name = "basic.back"
		province_event = { id = census.503 days = 0 }
	}
	option = { #exit
		name = "basic.exit"
	}
}