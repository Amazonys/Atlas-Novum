namespace = AN_settings

## Initialize Atlas Novum
country_event = {
	id = AN_settings.0
	title = "AN_settings.0.t"
	desc = "AN_settings.0.d"
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	trigger = { ai = no NOT = { has_global_flag = AN_init }}

	immediate = { set_global_flag = AN_init }

	option = { #Preset Setup Toggle
		name = "AN_settings.0.a"
		country_event = { id = AN_settings.0 days = 0 }
		
	}
	option = { #Custom Setup
		name = "AN_settings.0.b"
		country_event = { id = AN_settings.1 days = 0 }
	}
	option = { #START
		name = "AN_settings.0.c"
		trigger_switch = {
			on_trigger = has_global_flag
			AN_luck = {
			
			}
			AN_fate = {
			
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_climate_historical = {
			
			}
			AN_climate_inverse = {
			
			}
			AN_climate_ice_age = {
			
			}
			AN_climate_hothouse = {
			
			}
			AN_climate_static = {
			
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_disease_on = {
			
			}
			AN_disease_off = {
			
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_disease_mortality_low = {
			
			}
			AN_disease_mortality_mid = {
			
			}
			AN_disease_mortality_high = {
			
			}
			AN_disease_mortality_apocalyptic = {
			
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_disease_spread_low = {
			
			}
			AN_disease_spread_mid = {
			
			}
			AN_disease_spread_high = {
			
			}
			AN_disease_spread_apocalyptic = {
			
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_tag_dest_on = {
			
			}
			AN_tag_dest_ai_only = {
			
			}
			AN_tag_dest_off = {
			
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_nw_passage_on = {
			
			}
			AN_nw_passage_off = {
			
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_wonders_historical = {
			
			}
			AN_wonders_legendary = {
			
			}
			AN_wonders_mythical = {
			
			}
		}
		
		trigger_switch = {
			on_trigger = has_global_flag
			AN_tabula_rasa = {
				
			}
			AN_seiuncta_beringia = { 
				
			}
			AN_anahuac_inhospitalis = {
				
			}
			AN_invia_darien = {
				
			}
			AN_nul_insulae = {
				
			}
			AN_exculto_populo = {
				
			}
		}
		trigger_switch = {
			on_trigger = has_global_flag
			AN_absit_roma = {
				
			}
			AN_new_zion = {
			
			}
			AN_hawaii_nui = {
			
			}
			AN_vinlandic_perseverance = {
				
			}
			AN_ard_majhulah = {
				
			}
			AN_eighth_voyage = {
				
			}
			AN_third_odyssey = {
				
			}
			AN_sunset_invasion = {
				
			}
			AN_cthonic_awakening = {
				
			}
		}
	}
}

## Settings
country_event = {
	id = AN_settings.1
	title = "AN_settings.1.t"
	desc = "AN_settings.1.d"
	picture = DIPLOMACY_eventPicture


	is_triggered_only = yes

	option = { #settings
		name = "AN_settings.1.a"
		country_event = { id = AN_settings.2 days = 0 }
	}
	#option = { #manual
	#	name = "AN_settings.1.b"
	#	country_event = { id = AN_settings.3 days = 0 }
	#}
	option = {
		name = "basic.exit"
	}
}

##Settings
country_event = {
	id = AN_settings.2
	title = "AN_settings.2.t"
	desc = "AN_settings.2.desc"
	picture = DIPLOMACY_eventPicture


	is_triggered_only = yes

	option = { #functions
		name = "AN_settings.2.a"
		country_event = { id = AN_settings.21 days = 0 }
	}
	option = { #custom_rulesets
		name = "AN_settings.2.b"
		trigger = { is_year = 1444 }
		country_event = { id = AN_settings.22 days = 0 }
	}

	option = {
		name = "basic.back"
		country_event = { id = AN_settings.1 days = 0 }
	}
	option = {
		name = "basic.exit"
	}
}

##Functions
country_event = {
	id = AN_settings.21
	title = "AN_settings.21.t"
	desc = "AN_settings.21.desc"
	picture = DIPLOMACY_eventPicture


	is_triggered_only = yes

	option = { #Enable Subject Recoloring
		name = "AN_settings.21.a"
		trigger = { NOT = { has_global_flag = AN_overlord_colors } }
		hidden_effect = {
			set_global_flag = AN_overlord_colors
			every_country = {
				AN_check_country_colors = yes
			}
		}
		country_event = { id = AN_settings.21 days = 0 }
	}
	
	option = { #Disable Subject Recoloring
		name = "AN_settings.21.ab"
		trigger = { has_global_flag = AN_overlord_colors }
		hidden_effect = {
			clr_global_flag = AN_overlord_colors
			every_country = {
				AN_check_country_colors = yes
			}
		}
		country_event = { id = AN_settings.21 days = 0 }
	}

	option = {
		name = "basic.back"
		country_event = { id = AN_settings.2 days = 0 }
	}
	option = {
		name = "basic.exit"
	}
}

#Custom Rulesets / Tag Removal
country_event = {
	id = AN_settings.22
	title = "AN_settings.22.t"
	desc = "AN_settings.22.d"
	picture = DIPLOMACY_eventPicture


	is_triggered_only = yes


	option = {
		name = "AN_settings.22.a"
		trigger = { 
			NOT = { 
				OR = { 
					has_global_flag = AN_tabula_rasa
					has_global_flag = AN_seiuncta_beringia
					has_global_flag = AN_nul_insulae
					has_global_flag = AN_exculto_populo
					has_global_flag = AN_non_incolae
				}
			}
		}
		set_global_flag = AN_tabula_rasa
		hidden_effect = {
			every_country = {
				limit = {
					ai = yes
					capital_scope = {
						OR = {
							continent = europe
							continent = asia
							continent = africa
						}
					}
				}
				every_owned_province = {
					change_trade_goods = unknown
					decolonize = THIS
				}
			}
		}
		country_event = { id = AN_settings.22 days = 0 }
	}

	option = {
		name = "AN_settings.22.b"
		trigger = { 
			NOT = { 
				OR = { 
					has_global_flag = AN_tabula_rasa
					has_global_flag = AN_seiuncta_beringia
					has_global_flag = AN_nul_insulae
					has_global_flag = AN_exculto_populo
					has_global_flag = AN_non_incolae
				}
			}
		}
		set_global_flag = AN_seiuncta_beringia
		hidden_effect = {
			every_country = {
				limit = {
					ai = yes
					capital_scope = {
						OR = {
							continent = north_america
							continent = south_america
						}
					}
				}
				every_owned_province = {
					change_trade_goods = unknown
					decolonize = THIS
				}
			}
		}
		country_event = { id = AN_settings.22 days = 0 }
	}

	option = {
		name = "AN_settings.22.c"
		trigger = { 
			NOT = { 
				OR = { 
					has_global_flag = AN_tabula_rasa
					has_global_flag = AN_seiuncta_beringia
					has_global_flag = AN_nul_insulae
					has_global_flag = AN_exculto_populo
					has_global_flag = AN_non_incolae
				}
			}
		}
		set_global_flag = AN_nul_insulae
		hidden_effect = {
			every_country = {
				limit = {
					ai = yes
					capital_scope = {
						continent = oceania
					}
				}
				every_owned_province = {
					change_trade_goods = unknown
					decolonize = THIS
				}
			}
		}
		country_event = { id = AN_settings.22 days = 0 }
	}

	option = {
		name = "AN_settings.22.d1"
		trigger = { 
			NOT = { 
				OR = { 
					has_global_flag = AN_tabula_rasa
					has_global_flag = AN_seiuncta_beringia
					has_global_flag = AN_nul_insulae
					has_global_flag = AN_exculto_populo
					has_global_flag = AN_non_incolae
				}
			}
		}
		set_global_flag = AN_exculto_populo
		hidden_effect = {
			every_country = {
				limit = {
					ai = yes
					OR = {
						government = native
						government = tribal
					}
				}
				every_owned_province = {
					change_trade_goods = unknown
					decolonize = THIS
				}
			}
		}
		country_event = { id = AN_settings.22 days = 0 }
	}

	option = {
		name = "AN_settings.22.e"
		trigger = { 
			NOT = { 
				OR = { 
					has_global_flag = AN_tabula_rasa
					has_global_flag = AN_seiuncta_beringia
					has_global_flag = AN_nul_insulae
					has_global_flag = AN_exculto_populo
					has_global_flag = AN_non_incolae
				}
			}
		}
		set_global_flag = AN_non_incolae
		hidden_effect = {
			save_event_target_as = AN_tag_select
			every_country = {
				limit = {
					ai = yes
					capital_scope = {
						NOT = { continent = event_target:AN_tag_select }
					}
				}
				every_owned_province = {
					change_trade_goods = unknown
					decolonize = THIS
				}
			}
		}
		country_event = { id = AN_settings.22 days = 0 }
	}

	option = {
		name = "basic.back"
		country_event = { id = AN_settings.2 days = 0 }
	}
	option = {
		name = "basic.exit"
	}
}