###### COURT #####
### Court Auth
custom_window = {
    name = regal_auth_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_regal_auth_0 
    tooltip = estate_court_regal_auth_0 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = {  
		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { clr_country_flag = no_estate_select }
				estate_court_regal_auth_1 = { set_country_flag = estate_court_regal_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_2 = { set_country_flag = estate_court_regal_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_3 = { set_country_flag = estate_court_regal_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_4 = { set_country_flag = estate_court_regal_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_5 = { set_country_flag = estate_court_regal_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_6 = { set_country_flag = estate_court_regal_auth_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_7 = { set_country_flag = estate_court_regal_auth_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_regal_auth_0
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_regal_auth_1 
    tooltip = estate_court_regal_auth_1 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: II-VI"
			OR = {
				has_estate_privilege = estate_court_prestige_1
				has_estate_privilege = estate_court_prestige_3
				has_estate_privilege = estate_court_prestige_4
				has_estate_privilege = estate_court_prestige_5
				has_estate_privilege = estate_court_prestige_6
				has_estate_privilege = estate_court_prestige_7
				has_estate_privilege = estate_court_prestige_8
				has_estate_privilege = estate_court_prestige_9
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: II-V"
			OR = {
				has_estate_privilege = estate_court_politics_1
				has_estate_privilege = estate_court_politics_2
				has_estate_privilege = estate_court_politics_3
				has_estate_privilege = estate_court_politics_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_1
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YAdvisory Apparatus§!: IV-V£down£"
				OR = {
					has_estate_privilege = estate_court_advisors_3
					has_estate_privilege = estate_court_advisors_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { set_country_flag = estate_court_regal_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_1 = { clr_country_flag = no_estate_select }
				estate_court_regal_auth_2 = { set_country_flag = estate_court_regal_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_3 = { set_country_flag = estate_court_regal_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_4 = { set_country_flag = estate_court_regal_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_5 = { set_country_flag = estate_court_regal_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_6 = { set_country_flag = estate_court_regal_auth_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_7 = { set_country_flag = estate_court_regal_auth_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_regal_auth_1
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_regal_auth_2 
    tooltip = estate_court_regal_auth_2 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = {  
		if = {
			limit = { government = monarchy }
			NOT = { has_reform = absolute_monarchy_reform }
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: I-V"
			OR = {
				has_estate_privilege = estate_court_prerog_0
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: I-V"
			OR = {
				has_estate_privilege = estate_court_appoint_0
				has_estate_privilege = estate_court_appoint_1
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: I-III"
			OR = {
				has_estate_privilege = estate_court_fam_service_0
				has_estate_privilege = estate_court_fam_service_1
				has_estate_privilege = estate_court_fam_service_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: III-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_2
				has_estate_privilege = estate_bureaucracy_prov_justice_3
				has_estate_privilege = estate_bureaucracy_prov_justice_4
				has_estate_privilege = estate_bureaucracy_prov_justice_5
				has_estate_privilege = estate_bureaucracy_prov_justice_6
			}
		}		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { set_country_flag = estate_court_regal_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_1 = { set_country_flag = estate_court_regal_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_2 = { clr_country_flag = no_estate_select }
				estate_court_regal_auth_3 = { set_country_flag = estate_court_regal_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_4 = { set_country_flag = estate_court_regal_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_5 = { set_country_flag = estate_court_regal_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_6 = { set_country_flag = estate_court_regal_auth_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_7 = { set_country_flag = estate_court_regal_auth_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_regal_auth_2
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_regal_auth_3 
    tooltip = estate_court_regal_auth_3 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = {  
		if = {
			limit = { government = monarchy }
			NOT = { has_reform = absolute_monarchy_reform }
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: II-VI"
			OR = {
				has_estate_privilege = estate_court_prestige_1
				has_estate_privilege = estate_court_prestige_3
				has_estate_privilege = estate_court_prestige_4
				has_estate_privilege = estate_court_prestige_5
				has_estate_privilege = estate_court_prestige_6
				has_estate_privilege = estate_court_prestige_7
				has_estate_privilege = estate_court_prestige_8
				has_estate_privilege = estate_court_prestige_9
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: I-III"
			OR = {
				has_estate_privilege = estate_court_politics_0
				has_estate_privilege = estate_court_politics_1
				has_estate_privilege = estate_court_politics_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: IV-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_3
				has_estate_privilege = estate_bureaucracy_prov_justice_4
				has_estate_privilege = estate_bureaucracy_prov_justice_5
				has_estate_privilege = estate_bureaucracy_prov_justice_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { set_country_flag = estate_court_regal_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_1 = { set_country_flag = estate_court_regal_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_2 = { set_country_flag = estate_court_regal_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_3 = { clr_country_flag = no_estate_select }
				estate_court_regal_auth_4 = { set_country_flag = estate_court_regal_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_5 = { set_country_flag = estate_court_regal_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_6 = { set_country_flag = estate_court_regal_auth_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_7 = { set_country_flag = estate_court_regal_auth_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_regal_auth_3
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_regal_auth_4 
    tooltip = estate_court_regal_auth_4 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_prestige_4
				has_estate_privilege = estate_court_prestige_5
				has_estate_privilege = estate_court_prestige_6
				has_estate_privilege = estate_court_prestige_7
				has_estate_privilege = estate_court_prestige_8
				has_estate_privilege = estate_court_prestige_9
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: III-V"
			OR = {
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: V-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_4
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}			
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { set_country_flag = estate_court_regal_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_1 = { set_country_flag = estate_court_regal_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_2 = { set_country_flag = estate_court_regal_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_3 = { set_country_flag = estate_court_regal_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_4 = { clr_country_flag = no_estate_select }
				estate_court_regal_auth_5 = { set_country_flag = estate_court_regal_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_6 = { set_country_flag = estate_court_regal_auth_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_7 = { set_country_flag = estate_court_regal_auth_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_regal_auth_4
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_regal_auth_5 
    tooltip = estate_court_regal_auth_5 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_prestige_5
				has_estate_privilege = estate_court_prestige_6
				has_estate_privilege = estate_court_prestige_7
				has_estate_privilege = estate_court_prestige_8
				has_estate_privilege = estate_court_prestige_9
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VI-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { set_country_flag = estate_court_regal_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_1 = { set_country_flag = estate_court_regal_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_2 = { set_country_flag = estate_court_regal_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_3 = { set_country_flag = estate_court_regal_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_4 = { set_country_flag = estate_court_regal_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_5 = { clr_country_flag = no_estate_select }
				estate_court_regal_auth_6 = { set_country_flag = estate_court_regal_auth_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_7 = { set_country_flag = estate_court_regal_auth_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_regal_auth_5
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_regal_auth_6 
    tooltip = estate_court_regal_auth_6 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_prestige_5
				has_estate_privilege = estate_court_prestige_6
				has_estate_privilege = estate_court_prestige_7
				has_estate_privilege = estate_court_prestige_8
				has_estate_privilege = estate_court_prestige_9
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VII-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: III-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}	
		NOT = { has_estate_privilege = estate_court_fam_service_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { set_country_flag = estate_court_regal_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_1 = { set_country_flag = estate_court_regal_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_2 = { set_country_flag = estate_court_regal_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_3 = { set_country_flag = estate_court_regal_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_4 = { set_country_flag = estate_court_regal_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_5 = { set_country_flag = estate_court_regal_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_6 = { clr_country_flag = no_estate_select }
				estate_court_regal_auth_7 = { set_country_flag = estate_court_regal_auth_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_regal_auth_6
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_regal_auth_7 
    tooltip = estate_court_regal_auth_7 
    potential = { FROM = { ai = no has_country_flag = regal_auth_window } }
    trigger = { 
		if = {
			limit = { government = monarchy }
			has_reform = absolute_monarchy_reform
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_prestige_6
				has_estate_privilege = estate_court_prestige_7
				has_estate_privilege = estate_court_prestige_8
				has_estate_privilege = estate_court_prestige_9
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VII-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		has_estate_privilege = estate_court_prerog_6
		has_estate_privilege = estate_court_appoint_6
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}			
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £military£§YArmy Organization§!: I-II"
				OR = {
					has_estate_privilege = estate_military_army_org_0
					has_estate_privilege = estate_military_army_org_1
				}
			}	
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_lands_4 }
		NOT = { has_estate_privilege = estate_nobles_rural_gov_0 }
		NOT = { has_estate_privilege = estate_nobles_privs_0 }
		NOT = { has_estate_privilege = estate_nobles_appoint_5 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £burghers£§YUrban Governance§!: IV-V£up£"
				OR = {
					has_estate_privilege = estate_burghers_urban_gov_3
					has_estate_privilege = estate_burghers_urban_gov_4
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_assembly_4 }
		NOT = { has_estate_privilege = estate_burghers_privateer_5 }		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_regal_auth_0 = { set_country_flag = estate_court_regal_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_1 = { set_country_flag = estate_court_regal_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_2 = { set_country_flag = estate_court_regal_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_3 = { set_country_flag = estate_court_regal_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_4 = { set_country_flag = estate_court_regal_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_5 = { set_country_flag = estate_court_regal_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_6 = { set_country_flag = estate_court_regal_auth_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_regal_auth_7 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_regal_auth_7
		clr_country_flag = regal_auth_window #clr_country_flag = no_estate_select
	} #Effect
}

### Crown Rev
custom_window = {
    name = crown_rev_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_crown_revenue_0 
    tooltip = estate_court_crown_revenue_0 
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: I-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_0
				has_estate_privilege = estate_court_regal_auth_1
				has_estate_privilege = estate_court_regal_auth_2
				has_estate_privilege = estate_court_regal_auth_3
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: I-II"
			OR = {
				has_estate_privilege = estate_court_hierarchy_0
				has_estate_privilege = estate_court_hierarchy_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YAdvisory Apparatus§!: IV-V£down£"
				OR = {
					has_estate_privilege = estate_court_advisors_3
					has_estate_privilege = estate_court_advisors_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_crown_revenue_0 = { clr_country_flag = no_estate_select }
				estate_court_crown_revenue_1 = { set_country_flag = estate_court_crown_revenue_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_2 = { set_country_flag = estate_court_crown_revenue_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_3 = { set_country_flag = estate_court_crown_revenue_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_4 = { set_country_flag = estate_court_crown_revenue_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_5 = { set_country_flag = estate_court_crown_revenue_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_6 = { set_country_flag = estate_court_crown_revenue_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_crown_revenue_0
		clr_country_flag = crown_rev_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_crown_revenue_1 
    tooltip = estate_court_crown_revenue_1 
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: II-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_1
				has_estate_privilege = estate_court_regal_auth_3
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: III-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_2
				has_estate_privilege = estate_court_politics_3
				has_estate_privilege = estate_court_politics_4
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: I-II"
			OR = {
				has_estate_privilege = estate_court_hierarchy_0
				has_estate_privilege = estate_court_hierarchy_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: II-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_1
				has_estate_privilege = estate_bureaucracy_rev_collect_2
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YAdvisory Apparatus§!: IV-V£down£"
				OR = {
					has_estate_privilege = estate_court_advisors_3
					has_estate_privilege = estate_court_advisors_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_crown_revenue_0 = { set_country_flag = estate_court_crown_revenue_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_1 = { clr_country_flag = no_estate_select }
				estate_court_crown_revenue_2 = { set_country_flag = estate_court_crown_revenue_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_3 = { set_country_flag = estate_court_crown_revenue_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_4 = { set_country_flag = estate_court_crown_revenue_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_5 = { set_country_flag = estate_court_crown_revenue_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_6 = { set_country_flag = estate_court_crown_revenue_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_crown_revenue_1
		clr_country_flag = crown_rev_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_crown_revenue_2 
    tooltip = estate_court_crown_revenue_2 
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: III-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: IV-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_3
				has_estate_privilege = estate_court_politics_4
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: III-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_2
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_crown_revenue_0 = { set_country_flag = estate_court_crown_revenue_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_1 = { set_country_flag = estate_court_crown_revenue_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_2 = { clr_country_flag = no_estate_select }
				estate_court_crown_revenue_3 = { set_country_flag = estate_court_crown_revenue_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_4 = { set_country_flag = estate_court_crown_revenue_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_5 = { set_country_flag = estate_court_crown_revenue_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_6 = { set_country_flag = estate_court_crown_revenue_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_crown_revenue_2
		clr_country_flag = crown_rev_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_crown_revenue_3 
    tooltip = estate_court_crown_revenue_3 
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: III-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: V-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_4
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: IV-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: II-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_hierarchy_1
				has_estate_privilege = estate_bureaucracy_hierarchy_2
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_crown_revenue_0 = { set_country_flag = estate_court_crown_revenue_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_1 = { set_country_flag = estate_court_crown_revenue_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_2 = { set_country_flag = estate_court_crown_revenue_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_3 = { clr_country_flag = no_estate_select }
				estate_court_crown_revenue_4 = { set_country_flag = estate_court_crown_revenue_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_5 = { set_country_flag = estate_court_crown_revenue_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_6 = { set_country_flag = estate_court_crown_revenue_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_crown_revenue_3
		clr_country_flag = crown_rev_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_crown_revenue_4 
    tooltip = estate_court_crown_revenue_4 
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } }
    trigger = {  
		has_institution = feudalism
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VI-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: V-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: II-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_hierarchy_1
				has_estate_privilege = estate_bureaucracy_hierarchy_2
			}
		}
		NOT = { has_estate_privilege = estate_nobles_rural_gov_5 }
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
		NOT = { has_estate_privilege = estate_nobles_hierarchy_6 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_crown_revenue_0 = { set_country_flag = estate_court_crown_revenue_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_1 = { set_country_flag = estate_court_crown_revenue_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_2 = { set_country_flag = estate_court_crown_revenue_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_3 = { set_country_flag = estate_court_crown_revenue_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_4 = { clr_country_flag = no_estate_select }
				estate_court_crown_revenue_5 = { set_country_flag = estate_court_crown_revenue_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_6 = { set_country_flag = estate_court_crown_revenue_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_crown_revenue_4
		clr_country_flag = crown_rev_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_crown_revenue_5 
    tooltip = estate_court_crown_revenue_5 
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } }
    trigger = {  
		has_institution = feudalism
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VII-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		has_estate_privilege = estate_court_hierarchy_3
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: VI-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £military£§YRecruitment & Service§!: I-II"
				OR = {
					has_estate_privilege = estate_military_service_0
					has_estate_privilege = estate_military_service_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YMilitary Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_mil_auth_0
					has_estate_privilege = estate_nobles_mil_auth_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_crown_revenue_0 = { set_country_flag = estate_court_crown_revenue_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_1 = { set_country_flag = estate_court_crown_revenue_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_2 = { set_country_flag = estate_court_crown_revenue_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_3 = { set_country_flag = estate_court_crown_revenue_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_4 = { set_country_flag = estate_court_crown_revenue_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_5 = { clr_country_flag = no_estate_select }
				estate_court_crown_revenue_6 = { set_country_flag = estate_court_crown_revenue_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_crown_revenue_5
		clr_country_flag = crown_rev_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_crown_revenue_6 
    tooltip = estate_court_crown_revenue_6 
    potential = { FROM = { ai = no has_country_flag = crown_rev_window } }
    trigger = {  
		has_institution = feudalism		
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II; IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VII-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}
		has_estate_privilege = estate_court_hierarchy_3
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: VI-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { has_estate_privilege = estate_nobles_rural_gov_5 }
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
		NOT = { has_estate_privilege = estate_nobles_hierarchy_6 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_crown_revenue_0 = { set_country_flag = estate_court_crown_revenue_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_1 = { set_country_flag = estate_court_crown_revenue_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_2 = { set_country_flag = estate_court_crown_revenue_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_3 = { set_country_flag = estate_court_crown_revenue_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_4 = { set_country_flag = estate_court_crown_revenue_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_5 = { set_country_flag = estate_court_crown_revenue_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_crown_revenue_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_crown_revenue_6
		clr_country_flag = crown_rev_window #clr_country_flag = no_estate_select
	} #Effect
}

### Court Prestige
custom_window = {
    name = court_prestige_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_prestige_0 
    tooltip = estate_court_prestige_0 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		if = {
			limit = { government = monarchy }
			NOT = { has_reform = consent_elite_reform }
			NOT = { has_reform = rule_influence_reform }
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: I-II"
				OR = {
					has_reform = tribal_elite_reform
					has_reform = feudal_elite_reform
				}
			}
		}
		NOT = { has_reform = high_society_reform }
		OR = {
			NOT = { prestige = -50 }
			NOT = { splendor = 200 }
		}
		has_estate_privilege = estate_court_patronage_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { clr_country_flag = no_estate_select }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_0
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_1 
    tooltip = estate_court_prestige_1 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		NOT = { has_reform = feudal_elite_reform }
		NOT = { prestige = 0 }
		OR = {
			NOT = { prestige = 0 }
			NOT = { splendor = 400 }
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: I-II"
			OR = {
				has_estate_privilege = estate_court_patronage_0
				has_estate_privilege = estate_court_patronage_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { clr_country_flag = no_estate_select }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_1
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_2 
    tooltip = estate_court_prestige_2 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		OR = {
			NOT = { prestige = -50 }
			NOT = { splendor = 200 }
		}
		has_estate_privilege = estate_court_patronage_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { clr_country_flag = no_estate_select }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_2
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_3 
    tooltip = estate_court_prestige_3 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = { 
		OR = {
			NOT = { prestige = 0 }
			NOT = { splendor = 400 }
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: I-II"
			OR = {
				has_estate_privilege = estate_court_patronage_0
				has_estate_privilege = estate_court_patronage_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { clr_country_flag = no_estate_select }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_3
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_4 
    tooltip = estate_court_prestige_4 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		OR = {
			prestige = 0
			splendor = 400 
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: III-V"
			OR = {
				has_estate_privilege = estate_court_patronage_2
				has_estate_privilege = estate_court_patronage_3
				has_estate_privilege = estate_court_patronage_4
			}
		}		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { clr_country_flag = no_estate_select }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_4
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_5 
    tooltip = estate_court_prestige_5 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		OR = {
			prestige = 30
			splendor = 800 
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_patronage_3
				has_estate_privilege = estate_court_patronage_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { clr_country_flag = no_estate_select }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_5
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_6 
    tooltip = estate_court_prestige_6 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		OR = {
			prestige = 60
			splendor = 1200 
		}
		in_golden_age = no
		has_had_golden_age = no
		has_estate_privilege = estate_court_patronage_4
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { clr_country_flag = no_estate_select }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_6
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_7 
    tooltip = estate_court_prestige_7 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		OR = {
			prestige = 90
			splendor = 1600 
		}
		in_golden_age = no
		has_had_golden_age = no
		has_estate_privilege = estate_court_patronage_4
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { clr_country_flag = no_estate_select }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_7
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_8 
    tooltip = estate_court_prestige_8 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		prestige = 60
		splendor = 1200 
		OR = {
			in_golden_age = yes
			has_had_golden_age = yes
		}
		has_estate_privilege = estate_court_patronage_4
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { clr_country_flag = no_estate_select }
				estate_court_prestige_9 = { set_country_flag = estate_court_prestige_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prestige_8
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prestige_9 
    tooltip = estate_court_prestige_9 
    potential = { FROM = { ai = no has_country_flag = court_prestige_window } }
    trigger = {  
		prestige = 90
		splendor = 1600 
		OR = {
			in_golden_age = yes
			has_had_golden_age = yes
		}
		has_estate_privilege = estate_court_patronage_4
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prestige_0 = { set_country_flag = estate_court_prestige_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_1 = { set_country_flag = estate_court_prestige_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_2 = { set_country_flag = estate_court_prestige_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_3 = { set_country_flag = estate_court_prestige_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_4 = { set_country_flag = estate_court_prestige_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_5 = { set_country_flag = estate_court_prestige_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_6 = { set_country_flag = estate_court_prestige_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_7 = { set_country_flag = estate_court_prestige_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_8 = { set_country_flag = estate_court_prestige_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prestige_9 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_prestige_9
		clr_country_flag = court_prestige_window #clr_country_flag = no_estate_select
	} #Effect
}

### Court Advisors
custom_window = {
    name = court_advisors_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_advisors_0 
    tooltip = estate_court_advisors_0 
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } }
    trigger = {  
		OR = {
			NOT = {
				employed_advisor = {
					category = ADM
				}
			}
			NOT = {
				employed_advisor = {
					category = DIP
				}
			}
			NOT = {
				employed_advisor = {
					category = MIL
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: I-II"
			OR = {
				has_estate_privilege = estate_court_appoint_0
				has_estate_privilege = estate_court_appoint_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_advisors_0 = { clr_country_flag = no_estate_select }
				estate_court_advisors_1 = { set_country_flag = estate_court_advisors_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_2 = { set_country_flag = estate_court_advisors_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_3 = { set_country_flag = estate_court_advisors_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_4 = { set_country_flag = estate_court_advisors_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_5 = { set_country_flag = estate_court_advisors_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_6 = { set_country_flag = estate_court_advisors_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_advisors_0
		clr_country_flag = court_advisors_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_advisors_1 
    tooltip = estate_court_advisors_1 
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } }
    trigger = {  
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Administrative Advisor of 2 skill is currently employed."
				employed_advisor = {
					category = ADM
					skill = 2
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Diplomatic Advisor of 2 skill is currently employed."
				employed_advisor = {
					category = DIP
					skill = 2
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Military Advisor of 2 skill is currently employed."
				employed_advisor = {
					category = MIL
					skill = 2
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_1
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_advisors_0 = { set_country_flag = estate_court_advisors_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_1 = { clr_country_flag = no_estate_select }
				estate_court_advisors_2 = { set_country_flag = estate_court_advisors_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_3 = { set_country_flag = estate_court_advisors_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_4 = { set_country_flag = estate_court_advisors_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_5 = { set_country_flag = estate_court_advisors_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_6 = { set_country_flag = estate_court_advisors_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_advisors_1
		clr_country_flag = court_advisors_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_advisors_2 
    tooltip = estate_court_advisors_2 
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } }
    trigger = {  
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Administrative Advisor of 3 skill is currently employed."
				employed_advisor = {
					category = ADM
					skill = 3
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Diplomatic Advisor of 3 skill is currently employed."
				employed_advisor = {
					category = DIP
					skill = 3
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Military Advisor of 3 skill is currently employed."
				employed_advisor = {
					category = MIL
					skill = 3
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_advisors_0 = { set_country_flag = estate_court_advisors_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_1 = { set_country_flag = estate_court_advisors_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_2 = { clr_country_flag = no_estate_select }
				estate_court_advisors_3 = { set_country_flag = estate_court_advisors_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_4 = { set_country_flag = estate_court_advisors_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_5 = { set_country_flag = estate_court_advisors_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_6 = { set_country_flag = estate_court_advisors_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_advisors_2
		clr_country_flag = court_advisors_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_advisors_3 
    tooltip = estate_court_advisors_3 
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } }
    trigger = {  
		has_institution = bureaucracy
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Administrative Advisor of 4 skill is currently employed."
				employed_advisor = {
					category = ADM
					skill = 4
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Diplomatic Advisor of 4 skill is currently employed."
				employed_advisor = {
					category = DIP
					skill = 4
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Military Advisor of 4 skill is currently employed."
				employed_advisor = {
					category = MIL
					skill = 4
				}
			}
		}
		OR = {
			NOT = { adm = 4 }
			NOT = { dip = 4 }
			NOT = { mil = 4 }
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_advisors_0 = { set_country_flag = estate_court_advisors_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_1 = { set_country_flag = estate_court_advisors_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_2 = { set_country_flag = estate_court_advisors_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_3 = { clr_country_flag = no_estate_select }
				estate_court_advisors_4 = { set_country_flag = estate_court_advisors_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_5 = { set_country_flag = estate_court_advisors_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_6 = { set_country_flag = estate_court_advisors_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_advisors_3
		clr_country_flag = court_advisors_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_advisors_4 
    tooltip = estate_court_advisors_4 
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } }
    trigger = { 
		has_institution = bureaucracy
		if = {
			limit = { government = monarchy }
			NOT = { has_reform = absolute_monarchy_reform }
		}
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Administrative Advisor of 5 skill is currently employed."
				employed_advisor = {
					category = ADM
					skill = 5
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Diplomatic Advisor of 5 skill is currently employed."
				employed_advisor = {
					category = DIP
					skill = 5
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Military Advisor of 5 skill is currently employed."
				employed_advisor = {
					category = MIL
					skill = 5
				}
			}
			}
		OR = {
			NOT = { adm = 5 }
			NOT = { dip = 5 }
			NOT = { mil = 5 }
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_advisors_0 = { set_country_flag = estate_court_advisors_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_1 = { set_country_flag = estate_court_advisors_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_2 = { set_country_flag = estate_court_advisors_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_3 = { set_country_flag = estate_court_advisors_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_4 = { clr_country_flag = no_estate_select }
				estate_court_advisors_5 = { set_country_flag = estate_court_advisors_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_6 = { set_country_flag = estate_court_advisors_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_advisors_4
		clr_country_flag = court_advisors_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_advisors_5 
    tooltip = estate_court_advisors_5 
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } }
    trigger = {  
		has_institution = bureaucracy
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Administrative Advisor of 4 skill is currently employed."
				employed_advisor = {
					category = ADM
					skill = 4
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Diplomatic Advisor of 4 skill is currently employed."
				employed_advisor = {
					category = DIP
					skill = 4
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Military Advisor of 4 skill is currently employed."
				employed_advisor = {
					category = MIL
					skill = 4
				}
			}
		}
		adm = 4
		dip = 4
		mil = 4
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_advisors_0 = { set_country_flag = estate_court_advisors_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_1 = { set_country_flag = estate_court_advisors_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_2 = { set_country_flag = estate_court_advisors_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_3 = { set_country_flag = estate_court_advisors_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_4 = { set_country_flag = estate_court_advisors_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_5 = { clr_country_flag = no_estate_select }
				estate_court_advisors_6 = { set_country_flag = estate_court_advisors_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_advisors_5
		clr_country_flag = court_advisors_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_advisors_6 
    tooltip = estate_court_advisors_6 
    potential = { FROM = { ai = no has_country_flag = court_advisors_window } }
    trigger = {  		
		has_institution = bureaucracy
		if = {
			limit = { government = monarchy }
			NOT = { has_reform = absolute_monarchy_reform }
		}
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Administrative Advisor of 5 skill is currently employed."
				employed_advisor = {
					category = ADM
					skill = 5
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Diplomatic Advisor of 5 skill is currently employed."
				employed_advisor = {
					category = DIP
					skill = 5
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Military Advisor of 5 skill is currently employed."
				employed_advisor = {
					category = MIL
					skill = 5
				}
			}
		}
		adm = 5
		dip = 5
		mil = 5
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_advisors_0 = { set_country_flag = estate_court_advisors_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_1 = { set_country_flag = estate_court_advisors_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_2 = { set_country_flag = estate_court_advisors_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_3 = { set_country_flag = estate_court_advisors_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_4 = { set_country_flag = estate_court_advisors_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_5 = { set_country_flag = estate_court_advisors_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_advisors_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_advisors_6
		clr_country_flag = court_advisors_window #clr_country_flag = no_estate_select
	} #Effect
}
#

### Court Politics
custom_window = {
    name = court_politics_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_politics_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_politics_0 
    tooltip = estate_court_politics_0 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { clr_country_flag = no_estate_select }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_0
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_1 
    tooltip = estate_court_politics_1 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		#has_estate_privilege = estate_court_politics_0
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: I-II"
			OR = {
				has_estate_privilege = estate_court_regal_auth_0
				has_estate_privilege = estate_court_regal_auth_1
				has_estate_privilege = estate_court_regal_auth_2
				has_estate_privilege = estate_court_regal_auth_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { clr_country_flag = no_estate_select }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_1
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_2 
    tooltip = estate_court_politics_2 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		#has_estate_privilege = estate_court_politics_1
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: I-II"
			OR = {
				has_estate_privilege = estate_court_regal_auth_0
				has_estate_privilege = estate_court_regal_auth_1
				has_estate_privilege = estate_court_regal_auth_2
				has_estate_privilege = estate_court_regal_auth_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { clr_country_flag = no_estate_select }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_2
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_3 
    tooltip = estate_court_politics_3 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		#has_estate_privilege = estate_court_politics_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: II-V"
			OR = {
				has_estate_privilege = estate_court_regal_auth_1
				has_estate_privilege = estate_court_regal_auth_3
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { clr_country_flag = no_estate_select }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_3
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_4 
    tooltip = estate_court_politics_4 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		#has_estate_privilege = estate_court_politics_3
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: II-V"
			OR = {
				has_estate_privilege = estate_court_regal_auth_1
				has_estate_privilege = estate_court_regal_auth_3
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { clr_country_flag = no_estate_select }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_4
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_5 
    tooltip = estate_court_politics_5 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		#has_estate_privilege = estate_court_politics_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-V"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: II-V"
			OR = {
				has_estate_privilege = estate_court_patronage_1
				has_estate_privilege = estate_court_patronage_2
				has_estate_privilege = estate_court_patronage_3
				has_estate_privilege = estate_court_patronage_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { clr_country_flag = no_estate_select }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_5
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_6 
    tooltip = estate_court_politics_6 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		stability = 1
		#has_estate_privilege = estate_court_politics_5
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-V"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: III-V"
			OR = {
				has_estate_privilege = estate_court_patronage_2
				has_estate_privilege = estate_court_patronage_3
				has_estate_privilege = estate_court_patronage_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { clr_country_flag = no_estate_select }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_6
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_7 
    tooltip = estate_court_politics_7 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		NOT = { has_reform = tribal_elite_reform }
		stability = 1
		#has_estate_privilege = estate_court_politics_6
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_patronage_2
				has_estate_privilege = estate_court_patronage_3
				has_estate_privilege = estate_court_patronage_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { clr_country_flag = no_estate_select }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_7
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_8 
    tooltip = estate_court_politics_8 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		stability = 2
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-V"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: III-V"
			OR = {
				has_estate_privilege = estate_court_patronage_2
				has_estate_privilege = estate_court_patronage_3
				has_estate_privilege = estate_court_patronage_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { clr_country_flag = no_estate_select }
				estate_court_politics_9 = { set_country_flag = estate_court_politics_9 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_politics_8
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_politics_9 
    tooltip = estate_court_politics_9 
    potential = { FROM = { ai = no has_country_flag = court_politics_window } }
    trigger = {  
		stability = 2
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Patronage§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_patronage_3
				has_estate_privilege = estate_court_patronage_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_politics_0 = { set_country_flag = estate_court_politics_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_1 = { set_country_flag = estate_court_politics_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_2 = { set_country_flag = estate_court_politics_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_3 = { set_country_flag = estate_court_politics_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_4 = { set_country_flag = estate_court_politics_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_5 = { set_country_flag = estate_court_politics_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_6 = { set_country_flag = estate_court_politics_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_7 = { set_country_flag = estate_court_politics_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_8 = { set_country_flag = estate_court_politics_8 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_politics_9 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_politics_9
		clr_country_flag = court_politics_window #clr_country_flag = no_estate_select
	} #Effect
}

#### Privs
### Court Hier
custom_window = {
    name = court_hier_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_hier_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_hierarchy_0 
    tooltip = estate_court_hierarchy_0 
    potential = { FROM = { ai = no has_country_flag = court_hier_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: I-II"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_0
				has_estate_privilege = estate_court_crown_revenue_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: I-II"
			OR = {
				has_estate_privilege = estate_court_advisors_0
				has_estate_privilege = estate_court_advisors_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: I-IV"
			OR = {
				has_estate_privilege = estate_court_prerog_0
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: I-IV"
			OR = {
				has_estate_privilege = estate_court_appoint_0
				has_estate_privilege = estate_court_appoint_1
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
			}
		}
		NOT = { has_estate_privilege = estate_court_titles_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_hierarchy_0 = { clr_country_flag = no_estate_select }
				estate_court_hierarchy_1 = { set_country_flag = estate_court_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_2 = { set_country_flag = estate_court_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_3 = { set_country_flag = estate_court_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_hierarchy_0
		clr_country_flag = court_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_hierarchy_1 
    tooltip = estate_court_hierarchy_1 
    potential = { FROM = { ai = no has_country_flag = court_hier_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: II-III"
			OR = {
				has_estate_privilege = estate_court_advisors_1
				has_estate_privilege = estate_court_advisors_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: II-V"
			OR = {
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: II-V"
			OR = {
				has_estate_privilege = estate_court_appoint_1
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has granted £court£§YRevenue & Tribute§!: VI"
				OR = {
					has_estate_privilege = estate_court_crown_revenue_5
					has_estate_privilege = estate_court_crown_revenue_6
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_hierarchy_0 = { set_country_flag = estate_court_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_1 = { clr_country_flag = no_estate_select }
				estate_court_hierarchy_2 = { set_country_flag = estate_court_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_3 = { set_country_flag = estate_court_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_hierarchy_1
		clr_country_flag = court_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_hierarchy_2 
    tooltip = estate_court_hierarchy_2 
    potential = { FROM = { ai = no has_country_flag = court_hier_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has granted £court£§YRevenue & Tribute§!: I-II; VI£up£"
				OR = {
					has_estate_privilege = estate_court_crown_revenue_0
					has_estate_privilege = estate_court_crown_revenue_1
					has_estate_privilege = estate_court_crown_revenue_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_hierarchy_0 = { set_country_flag = estate_court_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_1 = { set_country_flag = estate_court_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_2 = { clr_country_flag = no_estate_select }
				estate_court_hierarchy_3 = { set_country_flag = estate_court_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_hierarchy_2
		clr_country_flag = court_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_hierarchy_3 
    tooltip = estate_court_hierarchy_3 
    potential = { FROM = { ai = no has_country_flag = court_hier_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has granted £court£§YRevenue & Tribute§!: I-III"
				OR = {
					has_estate_privilege = estate_court_crown_revenue_0
					has_estate_privilege = estate_court_crown_revenue_1
					has_estate_privilege = estate_court_crown_revenue_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_titles_4 }
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_hierarchy_0 = { set_country_flag = estate_court_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_1 = { set_country_flag = estate_court_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_2 = { set_country_flag = estate_court_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_hierarchy_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_hierarchy_3
		clr_country_flag = court_hier_window #clr_country_flag = no_estate_select
	} #Effect
}

#Court Prerog
custom_window = {
    name = court_prerog_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_prerog_0 
    tooltip = estate_court_prerog_0 
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } }
    trigger = { 
		legitimacy_equivalent = 30
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = total_absolutism_reform }		
		has_estate_privilege = estate_court_hierarchy_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prerog_0 = { clr_country_flag = no_estate_select }
				estate_court_prerog_1 = { set_country_flag = estate_court_prerog_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_2 = { set_country_flag = estate_court_prerog_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_3 = { set_country_flag = estate_court_prerog_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_4 = { set_country_flag = estate_court_prerog_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_5 = { set_country_flag = estate_court_prerog_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_6 = { set_country_flag = estate_court_prerog_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prerog_0
		clr_country_flag = court_prerog_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prerog_1 
    tooltip = estate_court_prerog_1 
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } }
    trigger = {  
		legitimacy_equivalent = 40
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = total_absolutism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: I-II"
			OR = {
				has_estate_privilege = estate_court_hierarchy_0
				has_estate_privilege = estate_court_hierarchy_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prerog_0 = { set_country_flag = estate_court_prerog_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_1 = { clr_country_flag = no_estate_select }
				estate_court_prerog_2 = { set_country_flag = estate_court_prerog_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_3 = { set_country_flag = estate_court_prerog_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_4 = { set_country_flag = estate_court_prerog_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_5 = { set_country_flag = estate_court_prerog_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_6 = { set_country_flag = estate_court_prerog_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prerog_1
		clr_country_flag = court_prerog_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prerog_2 
    tooltip = estate_court_prerog_2 
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } }
    trigger = {  
		legitimacy_equivalent = 50
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = total_absolutism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: I-II"
			OR = {
				has_estate_privilege = estate_court_hierarchy_0
				has_estate_privilege = estate_court_hierarchy_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prerog_0 = { set_country_flag = estate_court_prerog_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_1 = { set_country_flag = estate_court_prerog_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_2 = { clr_country_flag = no_estate_select }
				estate_court_prerog_3 = { set_country_flag = estate_court_prerog_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_4 = { set_country_flag = estate_court_prerog_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_5 = { set_country_flag = estate_court_prerog_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_6 = { set_country_flag = estate_court_prerog_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prerog_2
		clr_country_flag = court_prerog_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prerog_3 
    tooltip = estate_court_prerog_3 
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } }
    trigger = {  
		legitimacy_equivalent = 60
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = total_absolutism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-III"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prerog_0 = { set_country_flag = estate_court_prerog_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_1 = { set_country_flag = estate_court_prerog_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_2 = { set_country_flag = estate_court_prerog_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_3 = { clr_country_flag = no_estate_select }
				estate_court_prerog_4 = { set_country_flag = estate_court_prerog_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_5 = { set_country_flag = estate_court_prerog_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_6 = { set_country_flag = estate_court_prerog_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prerog_3
		clr_country_flag = court_prerog_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prerog_4 
    tooltip = estate_court_prerog_4 
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } }
    trigger = {  
		legitimacy_equivalent = 70
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prerog_0 = { set_country_flag = estate_court_prerog_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_1 = { set_country_flag = estate_court_prerog_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_2 = { set_country_flag = estate_court_prerog_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_3 = { set_country_flag = estate_court_prerog_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_4 = { clr_country_flag = no_estate_select }
				estate_court_prerog_5 = { set_country_flag = estate_court_prerog_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_6 = { set_country_flag = estate_court_prerog_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prerog_4
		clr_country_flag = court_prerog_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prerog_5 
    tooltip = estate_court_prerog_5 
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } }
    trigger = {  
		legitimacy_equivalent = 80
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prerog_0 = { set_country_flag = estate_court_prerog_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_1 = { set_country_flag = estate_court_prerog_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_2 = { set_country_flag = estate_court_prerog_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_3 = { set_country_flag = estate_court_prerog_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_4 = { set_country_flag = estate_court_prerog_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_5 = { clr_country_flag = no_estate_select }
				estate_court_prerog_6 = { set_country_flag = estate_court_prerog_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_prerog_5
		clr_country_flag = court_prerog_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_prerog_6 
    tooltip = estate_court_prerog_6 
    potential = { FROM = { ai = no has_country_flag = court_prerog_window } }
    trigger = {  
		legitimacy_equivalent = 90
		has_institution = enlightenment
		NOT = { has_reform = full_constitutionalism_reform }
		has_estate_privilege = estate_court_hierarchy_3
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_prerog_0 = { set_country_flag = estate_court_prerog_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_1 = { set_country_flag = estate_court_prerog_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_2 = { set_country_flag = estate_court_prerog_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_3 = { set_country_flag = estate_court_prerog_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_4 = { set_country_flag = estate_court_prerog_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_5 = { set_country_flag = estate_court_prerog_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_prerog_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_prerog_6
		clr_country_flag = court_prerog_window #clr_country_flag = no_estate_select
	} #Effect
}

#Court Appoint
custom_window = {
    name = court_appoint_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_appoint_0 
    tooltip = estate_court_appoint_0 
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } }
    trigger = {  
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = total_absolutism_reform }
		has_estate_privilege = estate_court_hierarchy_0
		has_estate_privilege = estate_court_prerog_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_appoint_0 = { clr_country_flag = no_estate_select }
				estate_court_appoint_1 = { set_country_flag = estate_court_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_2 = { set_country_flag = estate_court_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_3 = { set_country_flag = estate_court_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_4 = { set_country_flag = estate_court_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_5 = { set_country_flag = estate_court_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_6 = { set_country_flag = estate_court_appoint_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_appoint_0
		clr_country_flag = court_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_appoint_1 
    tooltip = estate_court_appoint_1 
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } }
    trigger = {  
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = total_absolutism_reform }
		has_estate_privilege = estate_court_hierarchy_0
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_appoint_0 = { set_country_flag = estate_court_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_1 = { clr_country_flag = no_estate_select }
				estate_court_appoint_2 = { set_country_flag = estate_court_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_3 = { set_country_flag = estate_court_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_4 = { set_country_flag = estate_court_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_5 = { set_country_flag = estate_court_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_6 = { set_country_flag = estate_court_appoint_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_appoint_1
		clr_country_flag = court_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_appoint_2 
    tooltip = estate_court_appoint_2 
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } }
    trigger = {  
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = total_absolutism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_appoint_0 = { set_country_flag = estate_court_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_1 = { set_country_flag = estate_court_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_2 = { clr_country_flag = no_estate_select }
				estate_court_appoint_3 = { set_country_flag = estate_court_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_4 = { set_country_flag = estate_court_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_5 = { set_country_flag = estate_court_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_6 = { set_country_flag = estate_court_appoint_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_appoint_2
		clr_country_flag = court_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_appoint_3 
    tooltip = estate_court_appoint_3 
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_appoint_0 = { set_country_flag = estate_court_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_1 = { set_country_flag = estate_court_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_2 = { set_country_flag = estate_court_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_3 = { clr_country_flag = no_estate_select }
				estate_court_appoint_4 = { set_country_flag = estate_court_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_5 = { set_country_flag = estate_court_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_6 = { set_country_flag = estate_court_appoint_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_appoint_3
		clr_country_flag = court_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_appoint_4 
    tooltip = estate_court_appoint_4 
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_appoint_0 = { set_country_flag = estate_court_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_1 = { set_country_flag = estate_court_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_2 = { set_country_flag = estate_court_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_3 = { set_country_flag = estate_court_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_4 = { clr_country_flag = no_estate_select }
				estate_court_appoint_5 = { set_country_flag = estate_court_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_6 = { set_country_flag = estate_court_appoint_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_appoint_4
		clr_country_flag = court_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_appoint_5 
    tooltip = estate_court_appoint_5 
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_appoint_0 = { set_country_flag = estate_court_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_1 = { set_country_flag = estate_court_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_2 = { set_country_flag = estate_court_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_3 = { set_country_flag = estate_court_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_4 = { set_country_flag = estate_court_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_5 = { clr_country_flag = no_estate_select }
				estate_court_appoint_6 = { set_country_flag = estate_court_appoint_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_appoint_5
		clr_country_flag = court_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_appoint_6 
    tooltip = estate_court_appoint_6 
    potential = { FROM = { ai = no has_country_flag = court_appoint_window } }
    trigger = {  
		NOT = { has_reform = full_constitutionalism_reform }
		has_estate_privilege = estate_court_hierarchy_3
		has_estate_privilege = estate_court_prerog_6	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_appoint_0 = { set_country_flag = estate_court_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_1 = { set_country_flag = estate_court_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_2 = { set_country_flag = estate_court_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_3 = { set_country_flag = estate_court_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_4 = { set_country_flag = estate_court_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_5 = { set_country_flag = estate_court_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_appoint_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_appoint_6
		clr_country_flag = court_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}

#Court Titles
custom_window = {
    name = court_titles_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_titles_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_titles_0 
    tooltip = estate_court_titles_0 
    potential = { FROM = { ai = no has_country_flag = court_titles_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VI-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_titles_0 = { clr_country_flag = no_estate_select }
				estate_court_titles_1 = { set_country_flag = estate_court_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_2 = { set_country_flag = estate_court_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_3 = { set_country_flag = estate_court_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_4 = { set_country_flag = estate_court_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_titles_0
		clr_country_flag = court_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_titles_1 
    tooltip = estate_court_titles_1 
    potential = { FROM = { ai = no has_country_flag = court_titles_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: II-V"
			OR = {
				has_estate_privilege = estate_court_prestige_1
				has_estate_privilege = estate_court_prestige_3
				has_estate_privilege = estate_court_prestige_4
				has_estate_privilege = estate_court_prestige_5
				has_estate_privilege = estate_court_prestige_6
				has_estate_privilege = estate_court_prestige_8
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: VI-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_titles_0 = { set_country_flag = estate_court_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_1 = { clr_country_flag = no_estate_select }
				estate_court_titles_2 = { set_country_flag = estate_court_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_3 = { set_country_flag = estate_court_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_4 = { set_country_flag = estate_court_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_titles_1
		clr_country_flag = court_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_titles_2 
    tooltip = estate_court_titles_2 
    potential = { FROM = { ai = no has_country_flag = court_titles_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_prestige_1
				has_estate_privilege = estate_court_prestige_3
				has_estate_privilege = estate_court_prestige_4
				has_estate_privilege = estate_court_prestige_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Politics§!: V-IIX£up£"
			OR = {
				has_estate_privilege = estate_court_politics_4
				has_estate_privilege = estate_court_politics_5
				has_estate_privilege = estate_court_politics_6
				has_estate_privilege = estate_court_politics_7
			}
		}	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_titles_0 = { set_country_flag = estate_court_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_1 = { set_country_flag = estate_court_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_2 = { clr_country_flag = no_estate_select }
				estate_court_titles_3 = { set_country_flag = estate_court_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_4 = { set_country_flag = estate_court_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_titles_2
		clr_country_flag = court_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_titles_3 
    tooltip = estate_court_titles_3 
    potential = { FROM = { ai = no has_country_flag = court_titles_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: II-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_1
				has_estate_privilege = estate_court_regal_auth_3
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: I-III"
			OR = {
				has_estate_privilege = estate_court_prestige_0
				has_estate_privilege = estate_court_prestige_1
				has_estate_privilege = estate_court_prestige_2
				has_estate_privilege = estate_court_prestige_3
				has_estate_privilege = estate_court_prestige_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: VII-IIX£down£"
				OR = {
					has_estate_privilege = estate_court_politics_8
					has_estate_privilege = estate_court_politics_9
				}
			}	
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_titles_0 = { set_country_flag = estate_court_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_1 = { set_country_flag = estate_court_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_2 = { set_country_flag = estate_court_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_3 = { clr_country_flag = no_estate_select }
				estate_court_titles_4 = { set_country_flag = estate_court_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_titles_3
		clr_country_flag = court_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_titles_4 
    tooltip = estate_court_titles_4 
    potential = { FROM = { ai = no has_country_flag = court_titles_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPrestige & Splendor§!: I-III"
			OR = {
				has_estate_privilege = estate_court_prestige_0
				has_estate_privilege = estate_court_prestige_1
				has_estate_privilege = estate_court_prestige_2
				has_estate_privilege = estate_court_prestige_3
				has_estate_privilege = estate_court_prestige_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: VII-IIX£down£"
				OR = {
					has_estate_privilege = estate_court_politics_8
					has_estate_privilege = estate_court_politics_9
				}
			}	
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_titles_0 = { set_country_flag = estate_court_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_1 = { set_country_flag = estate_court_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_2 = { set_country_flag = estate_court_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_3 = { set_country_flag = estate_court_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_titles_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_titles_4
		clr_country_flag = court_titles_window #clr_country_flag = no_estate_select
	} #Effect
}

#Court Foreign
custom_window = {
    name = court_foreign_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_foreign_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_foreign_0 
    tooltip = estate_court_foreign_0 
    potential = { FROM = { ai = no has_country_flag = court_foreign_window } }
    trigger = {  
		NOT = { has_reform = high_society_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: I-II"
			OR = {
				has_estate_privilege = estate_court_fam_service_0
				has_estate_privilege = estate_court_fam_service_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_foreign_0 = { clr_country_flag = no_estate_select }
				estate_court_foreign_1 = { set_country_flag = estate_court_foreign_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_2 = { set_country_flag = estate_court_foreign_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_3 = { set_country_flag = estate_court_foreign_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_foreign_0
		clr_country_flag = court_foreign_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_foreign_1 
    tooltip = estate_court_foreign_1 
    potential = { FROM = { ai = no has_country_flag = court_foreign_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: I-III"
			OR = {
				has_estate_privilege = estate_court_fam_service_0
				has_estate_privilege = estate_court_fam_service_1
				has_estate_privilege = estate_court_fam_service_2
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YFamilial Appointment§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_appoint_4
					has_estate_privilege = estate_nobles_appoint_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_foreign_0 = { set_country_flag = estate_court_foreign_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_1 = { clr_country_flag = no_estate_select }
				estate_court_foreign_2 = { set_country_flag = estate_court_foreign_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_3 = { set_country_flag = estate_court_foreign_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_foreign_1
		clr_country_flag = court_foreign_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_foreign_2 
    tooltip = estate_court_foreign_2 
    potential = { FROM = { ai = no has_country_flag = court_foreign_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_fam_service_3
				has_estate_privilege = estate_court_fam_service_4
				has_estate_privilege = estate_court_fam_service_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YFamilial Appointment§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_appoint_3
				has_estate_privilege = estate_nobles_appoint_4
				has_estate_privilege = estate_nobles_appoint_5
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_foreign_0 = { set_country_flag = estate_court_foreign_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_1 = { set_country_flag = estate_court_foreign_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_2 = { clr_country_flag = no_estate_select }
				estate_court_foreign_3 = { set_country_flag = estate_court_foreign_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_foreign_2
		clr_country_flag = court_foreign_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_foreign_3 
    tooltip = estate_court_foreign_3 
    potential = { FROM = { ai = no has_country_flag = court_foreign_window } }
    trigger = {  
		NOT = { has_reform = full_constitutionalism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_fam_service_4
				has_estate_privilege = estate_court_fam_service_5
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_foreign_0 = { set_country_flag = estate_court_foreign_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_1 = { set_country_flag = estate_court_foreign_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_2 = { set_country_flag = estate_court_foreign_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_foreign_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_foreign_3
		clr_country_flag = court_foreign_window #clr_country_flag = no_estate_select
	} #Effect
}

#Fam Service
custom_window = {
    name = court_fam_service_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_fam_service_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_fam_service_0 
    tooltip = estate_court_fam_service_0 
    potential = { FROM = { ai = no has_country_flag = court_fam_service_window } }
    trigger = {  
		has_institution = empiricism
		NOT = { has_reform = high_society_reform }
		OR = {
			has_estate_privilege = estate_bureaucracy_politicization_3
			has_estate_privilege = estate_nobles_appoint_0
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YForeign Affairs§!: I-II"
			OR = {
				has_estate_privilege = estate_court_foreign_0
				has_estate_privilege = estate_court_foreign_1
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YSale of Commission§!: III-IV"
			OR = {
				has_estate_privilege = estate_military_commission_2
				has_estate_privilege = estate_military_commission_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_fam_service_0 = { clr_country_flag = no_estate_select }
				estate_court_fam_service_1 = { set_country_flag = estate_court_fam_service_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_2 = { set_country_flag = estate_court_fam_service_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_3 = { set_country_flag = estate_court_fam_service_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_4 = { set_country_flag = estate_court_fam_service_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_5 = { set_country_flag = estate_court_fam_service_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_fam_service_0
		clr_country_flag = court_fam_service_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_fam_service_1 
    tooltip = estate_court_fam_service_1 
    potential = { FROM = { ai = no has_country_flag = court_fam_service_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YForeign Affairs§!: I-II"
			OR = {
				has_estate_privilege = estate_court_foreign_0
				has_estate_privilege = estate_court_foreign_1
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_4
				has_estate_privilege = estate_bureaucracy_recruit_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YFamilial Appointment§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_appoint_0
				has_estate_privilege = estate_nobles_appoint_1
				has_estate_privilege = estate_nobles_appoint_2
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_fam_service_0 = { set_country_flag = estate_court_fam_service_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_1 = { clr_country_flag = no_estate_select }
				estate_court_fam_service_2 = { set_country_flag = estate_court_fam_service_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_3 = { set_country_flag = estate_court_fam_service_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_4 = { set_country_flag = estate_court_fam_service_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_5 = { set_country_flag = estate_court_fam_service_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_fam_service_1
		clr_country_flag = court_fam_service_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_fam_service_2 
    tooltip = estate_court_fam_service_2 
    potential = { FROM = { ai = no has_country_flag = court_fam_service_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YForeign Affairs§!: I-III"
			OR = {
				has_estate_privilege = estate_court_foreign_0
				has_estate_privilege = estate_court_foreign_1
				has_estate_privilege = estate_court_foreign_2
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Politicization§!: II-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_office_1
				has_estate_privilege = estate_bureaucracy_office_2
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YSale of Office§!: II-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_office_1
				has_estate_privilege = estate_bureaucracy_office_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_3
				has_estate_privilege = estate_bureaucracy_recruit_4
				has_estate_privilege = estate_bureaucracy_recruit_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YFamilial Appointment§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_appoint_0
				has_estate_privilege = estate_nobles_appoint_1
				has_estate_privilege = estate_nobles_appoint_2
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_fam_service_0 = { set_country_flag = estate_court_fam_service_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_1 = { set_country_flag = estate_court_fam_service_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_2 = { clr_country_flag = no_estate_select }
				estate_court_fam_service_3 = { set_country_flag = estate_court_fam_service_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_4 = { set_country_flag = estate_court_fam_service_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_5 = { set_country_flag = estate_court_fam_service_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_fam_service_2
		clr_country_flag = court_fam_service_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_fam_service_3 
    tooltip = estate_court_fam_service_3 
    potential = { FROM = { ai = no has_country_flag = court_fam_service_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: I-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_0
				has_estate_privilege = estate_bureaucracy_recruit_1
				has_estate_privilege = estate_bureaucracy_recruit_2
				has_estate_privilege = estate_bureaucracy_recruit_3
				has_estate_privilege = estate_bureaucracy_recruit_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_fam_service_0 = { set_country_flag = estate_court_fam_service_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_1 = { set_country_flag = estate_court_fam_service_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_2 = { set_country_flag = estate_court_fam_service_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_3 = { clr_country_flag = no_estate_select }
				estate_court_fam_service_4 = { set_country_flag = estate_court_fam_service_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_5 = { set_country_flag = estate_court_fam_service_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_fam_service_3
		clr_country_flag = court_fam_service_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_fam_service_4 
    tooltip = estate_court_fam_service_4 
    potential = { FROM = { ai = no has_country_flag = court_fam_service_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: I-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_0
				has_estate_privilege = estate_bureaucracy_recruit_1
				has_estate_privilege = estate_bureaucracy_recruit_2
				has_estate_privilege = estate_bureaucracy_recruit_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YSale of Commission§!: I-III"
			OR = {
				has_estate_privilege = estate_military_commission_0
				has_estate_privilege = estate_military_commission_1
				has_estate_privilege = estate_military_commission_2
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_fam_service_0 = { set_country_flag = estate_court_fam_service_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_1 = { set_country_flag = estate_court_fam_service_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_2 = { set_country_flag = estate_court_fam_service_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_3 = { set_country_flag = estate_court_fam_service_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_4 = { clr_country_flag = no_estate_select }
				estate_court_fam_service_5 = { set_country_flag = estate_court_fam_service_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_fam_service_4
		clr_country_flag = court_fam_service_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_fam_service_5 
    tooltip = estate_court_fam_service_5 
    potential = { FROM = { ai = no has_country_flag = court_fam_service_window } }
    trigger = {  
		NOT = { has_reform = full_constitutionalism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: I-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_0
				has_estate_privilege = estate_bureaucracy_recruit_1
				has_estate_privilege = estate_bureaucracy_recruit_2
				has_estate_privilege = estate_bureaucracy_recruit_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YSale of Commission§!: I-II"
			OR = {
				has_estate_privilege = estate_military_commission_0
				has_estate_privilege = estate_military_commission_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_fam_service_0 = { set_country_flag = estate_court_fam_service_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_1 = { set_country_flag = estate_court_fam_service_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_2 = { set_country_flag = estate_court_fam_service_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_3 = { set_country_flag = estate_court_fam_service_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_4 = { set_country_flag = estate_court_fam_service_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_fam_service_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_fam_service_5
		clr_country_flag = court_fam_service_window #clr_country_flag = no_estate_select
	} #Effect
}

#Court Patronage
custom_window = {
    name = court_patronage_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_patronage_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_patronage_0 
    tooltip = estate_court_patronage_0 
    potential = { FROM = { ai = no has_country_flag = court_patronage_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_patronage_0 = { clr_country_flag = no_estate_select }
				estate_court_patronage_1 = { set_country_flag = estate_court_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_2 = { set_country_flag = estate_court_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_3 = { set_country_flag = estate_court_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_4 = { set_country_flag = estate_court_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_patronage_0
		clr_country_flag = court_patronage_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_patronage_1 
    tooltip = estate_court_patronage_1 
    potential = { FROM = { ai = no has_country_flag = court_patronage_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_patronage_0 = { set_country_flag = estate_court_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_1 = { clr_country_flag = no_estate_select }
				estate_court_patronage_2 = { set_country_flag = estate_court_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_3 = { set_country_flag = estate_court_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_4 = { set_country_flag = estate_court_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_patronage_1
		clr_country_flag = court_patronage_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_patronage_2 
    tooltip = estate_court_patronage_2 
    potential = { FROM = { ai = no has_country_flag = court_patronage_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_patronage_0 = { set_country_flag = estate_court_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_1 = { set_country_flag = estate_court_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_2 = { clr_country_flag = no_estate_select }
				estate_court_patronage_3 = { set_country_flag = estate_court_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_4 = { set_country_flag = estate_court_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_patronage_2
		clr_country_flag = court_patronage_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_patronage_3 
    tooltip = estate_court_patronage_3 
    potential = { FROM = { ai = no has_country_flag = court_patronage_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_patronage_0 = { set_country_flag = estate_court_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_1 = { set_country_flag = estate_court_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_2 = { set_country_flag = estate_court_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_3 = { clr_country_flag = no_estate_select }
				estate_court_patronage_4 = { set_country_flag = estate_court_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_patronage_3
		clr_country_flag = court_patronage_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_patronage_4 
    tooltip = estate_court_patronage_4 
    potential = { FROM = { ai = no has_country_flag = court_patronage_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_patronage_0 = { set_country_flag = estate_court_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_1 = { set_country_flag = estate_court_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_2 = { set_country_flag = estate_court_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_3 = { set_country_flag = estate_court_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_patronage_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_patronage_4
		clr_country_flag = court_patronage_window #clr_country_flag = no_estate_select
	} #Effect
}

#Court Mint
custom_window = {
    name = court_mint_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_mint_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_mint_0 
    tooltip = estate_court_mint_0 
    potential = { FROM = { ai = no has_country_flag = court_mint_window } }
    trigger = {  
		has_estate_privilege = estate_bureaucracy_central_admin_0
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: III-VI£down£"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_2
					has_estate_privilege = estate_bureaucracy_local_admin_3
					has_estate_privilege = estate_bureaucracy_local_admin_4
					has_estate_privilege = estate_bureaucracy_local_admin_5
				}
			}
			AND = {
				has_estate_privilege = estate_bureaucracy_oversight_0
				has_estate_privilege = estate_bureaucracy_econ_reg_0
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_mint_0 = { clr_country_flag = no_estate_select }
				estate_court_mint_1 = { set_country_flag = estate_court_mint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_mint_2 = { set_country_flag = estate_court_mint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_mint_0
		clr_country_flag = court_mint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_mint_1 
    tooltip = estate_court_mint_1 
    potential = { FROM = { ai = no has_country_flag = court_mint_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_court_advisors_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_mint_2 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_mint_0 = { set_country_flag = estate_court_mint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_mint_1 = { clr_country_flag = no_estate_select }
				estate_court_mint_2 = { set_country_flag = estate_court_mint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_mint_1
		clr_country_flag = court_mint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_mint_2 
    tooltip = estate_court_mint_2 
    potential = { FROM = { ai = no has_country_flag = court_mint_window } }
    trigger = {  
		NOT = { has_reform = subsist_econ_reform }
		has_estate_privilege = estate_bureaucracy_mint_0
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YRevenue & Tribute§!: I-II"
				OR = {
					has_estate_privilege = estate_court_crown_revenue_0
					has_estate_privilege = estate_court_crown_revenue_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_advisors_0 }
		NOT = { has_estate_privilege = estate_court_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_mint_0 = { set_country_flag = estate_court_mint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_mint_1 = { set_country_flag = estate_court_mint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_mint_2 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_mint_2
		clr_country_flag = court_mint_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = court_charters_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_charters_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_charters_0 
    tooltip = estate_court_charters_0 
    potential = { FROM = { ai = no has_country_flag = court_charters_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YTrade Charters§!: I-II"
			OR = {
				has_estate_privilege = estate_burghers_charters_0
				has_estate_privilege = estate_burghers_charters_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_charters_0 = { clr_country_flag = no_estate_select }
				estate_court_charters_1 = { set_country_flag = estate_court_charters_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_2 = { set_country_flag = estate_court_charters_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_3 = { set_country_flag = estate_court_charters_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_4 = { set_country_flag = estate_court_charters_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_5 = { set_country_flag = estate_court_charters_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_6 = { set_country_flag = estate_court_charters_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_charters_0
		clr_country_flag = court_charters_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_charters_1 
    tooltip = estate_court_charters_1 
    potential = { FROM = { ai = no has_country_flag = court_charters_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_2
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YTrade Charters§!: II-III"
			OR = {
				has_estate_privilege = estate_burghers_charters_1
				has_estate_privilege = estate_burghers_charters_2
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_charters_0 = { set_country_flag = estate_court_charters_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_1 = { clr_country_flag = no_estate_select }
				estate_court_charters_2 = { set_country_flag = estate_court_charters_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_3 = { set_country_flag = estate_court_charters_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_4 = { set_country_flag = estate_court_charters_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_5 = { set_country_flag = estate_court_charters_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_6 = { set_country_flag = estate_court_charters_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_charters_1
		clr_country_flag = court_charters_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_charters_2 
    tooltip = estate_court_charters_2 
    potential = { FROM = { ai = no has_country_flag = court_charters_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_2
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YTrade Charters§!: III-IV"
			OR = {
				has_estate_privilege = estate_burghers_charters_2
				has_estate_privilege = estate_burghers_charters_3
				has_estate_privilege = estate_burghers_charters_5
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_charters_0 = { set_country_flag = estate_court_charters_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_1 = { set_country_flag = estate_court_charters_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_2 = { clr_country_flag = no_estate_select }
				estate_court_charters_3 = { set_country_flag = estate_court_charters_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_4 = { set_country_flag = estate_court_charters_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_5 = { set_country_flag = estate_court_charters_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_6 = { set_country_flag = estate_court_charters_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_charters_2
		clr_country_flag = court_charters_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_charters_3 
    tooltip = estate_court_charters_3 
    potential = { FROM = { ai = no has_country_flag = court_charters_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YMerchant Marine§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_burghers_marine_3
				has_estate_privilege = estate_burghers_marine_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YTrade Charters§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_burghers_charters_3
				has_estate_privilege = estate_burghers_charters_4
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_charters_0 = { set_country_flag = estate_court_charters_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_1 = { set_country_flag = estate_court_charters_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_2 = { set_country_flag = estate_court_charters_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_3 = { clr_country_flag = no_estate_select }
				estate_court_charters_4 = { set_country_flag = estate_court_charters_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_5 = { set_country_flag = estate_court_charters_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_6 = { set_country_flag = estate_court_charters_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_charters_3
		clr_country_flag = court_charters_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_charters_4 
    tooltip = estate_court_charters_4 
    potential = { FROM = { ai = no has_country_flag = court_charters_window } }
    trigger = {  
		NOT = { has_reform = full_constitutionalism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: VI-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YMerchant Marine§!: V-VI£up£"
			OR = {
				has_estate_privilege = estate_burghers_marine_4
				has_estate_privilege = estate_burghers_marine_6
			}
		}
		has_estate_privilege = estate_burghers_charters_4
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_charters_0 = { set_country_flag = estate_court_charters_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_1 = { set_country_flag = estate_court_charters_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_2 = { set_country_flag = estate_court_charters_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_3 = { set_country_flag = estate_court_charters_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_4 = { clr_country_flag = no_estate_select }
				estate_court_charters_5 = { set_country_flag = estate_court_charters_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_6 = { set_country_flag = estate_court_charters_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_charters_4
		clr_country_flag = court_charters_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_charters_5 
    tooltip = estate_court_charters_5 
    potential = { FROM = { ai = no has_country_flag = court_charters_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_2
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: III-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YMerchant Marine§!: IV-V£down£"
			OR = {
				has_estate_privilege = estate_burghers_marine_3
				has_estate_privilege = estate_burghers_marine_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YTrade Charters§!: IV-V£down£"
			OR = {
				has_estate_privilege = estate_burghers_charters_5
				has_estate_privilege = estate_burghers_charters_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_charters_0 = { set_country_flag = estate_court_charters_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_1 = { set_country_flag = estate_court_charters_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_2 = { set_country_flag = estate_court_charters_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_3 = { set_country_flag = estate_court_charters_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_4 = { set_country_flag = estate_court_charters_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_5 = { clr_country_flag = no_estate_select }
				estate_court_charters_6 = { set_country_flag = estate_court_charters_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_charters_5
		clr_country_flag = court_charters_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_charters_6 
    tooltip = estate_court_charters_6 
    potential = { FROM = { ai = no has_country_flag = court_charters_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_2
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YMerchant Marine§!: V-VI£down£"
			OR = {
				has_estate_privilege = estate_burghers_marine_5
				has_estate_privilege = estate_burghers_marine_6
			}
		}
		has_estate_privilege = estate_burghers_charters_6}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_charters_0 = { set_country_flag = estate_court_charters_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_1 = { set_country_flag = estate_court_charters_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_2 = { set_country_flag = estate_court_charters_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_3 = { set_country_flag = estate_court_charters_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_4 = { set_country_flag = estate_court_charters_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_5 = { set_country_flag = estate_court_charters_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_charters_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_charters_6
		clr_country_flag = court_charters_window #clr_country_flag = no_estate_select
	} #Effect
}

#Court Salt
custom_window = {
    name = court_salt_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = court_salt_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_court_salt_0 
    tooltip = estate_court_salt_0 
    potential = { FROM = { ai = no has_country_flag = court_salt_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_salt_0 = { clr_country_flag = no_estate_select }
				estate_court_salt_1 = { set_country_flag = estate_court_salt_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_2 = { set_country_flag = estate_court_salt_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_3 = { set_country_flag = estate_court_salt_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_salt_0
		clr_country_flag = court_salt_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_salt_1 
    tooltip = estate_court_salt_1 
    potential = { FROM = { ai = no has_country_flag = court_salt_window } }
    trigger = {  
		has_institution = bureaucracy		
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£ §YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: III-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_2
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: III-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_2
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_salt_0 = { set_country_flag = estate_court_salt_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_1 = { clr_country_flag = no_estate_select }
				estate_court_salt_2 = { set_country_flag = estate_court_salt_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_3 = { set_country_flag = estate_court_salt_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_salt_1
		clr_country_flag = court_salt_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_salt_2 
    tooltip = estate_court_salt_2 
    potential = { FROM = { ai = no has_country_flag = court_salt_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£ §YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: III-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_2
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: III-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: III-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_2
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_salt_0 = { set_country_flag = estate_court_salt_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_1 = { set_country_flag = estate_court_salt_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_2 = { clr_country_flag = no_estate_select }
				estate_court_salt_3 = { set_country_flag = estate_court_salt_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_court_salt_2
		clr_country_flag = court_salt_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_court_salt_3 
    tooltip = estate_court_salt_3 
    potential = { FROM = { ai = no has_country_flag = court_salt_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: IV-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_court_salt_0 = { set_country_flag = estate_court_salt_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_1 = { set_country_flag = estate_court_salt_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_2 = { set_country_flag = estate_court_salt_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_court_salt_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_court_salt_3
		clr_country_flag = court_salt_window #clr_country_flag = no_estate_select
	} #Effect
}