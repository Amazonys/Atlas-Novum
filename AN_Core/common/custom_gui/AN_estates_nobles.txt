###Nobles
custom_window = {
    name = rural_gov_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = rural_gov_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_rural_gov_0 
    tooltip = estate_nobles_rural_gov_0 
	potential = { FROM = { ai = no has_country_flag = rural_gov_window } }
    trigger = {  
		has_institution = feudalism
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		NOT = { has_reform = political_absolutism_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YAdministrative Division§!: IV-VI"
				OR = {
					has_reform = prov_div_reform
					has_reform = fed_div_reform
					has_reform = unitary_reform	
				}
			}
		}
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VI-IIX"
				OR = {
					has_reform = plutocrat_elite_reform
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform	
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II-IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform	
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: IV-V"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_3
					has_estate_privilege = estate_bureaucracy_central_admin_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: V-VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_4
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_6
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: VI-VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_5
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_3
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_urban_gov_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_rural_gov_0 = { clr_country_flag = no_estate_select }
				estate_nobles_rural_gov_1 = { set_country_flag = estate_nobles_rural_gov_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_2 = { set_country_flag = estate_nobles_rural_gov_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_3 = { set_country_flag = estate_nobles_rural_gov_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_4 = { set_country_flag = estate_nobles_rural_gov_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_5 = { set_country_flag = estate_nobles_rural_gov_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_rural_gov_0
		clr_country_flag = rural_gov_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_rural_gov_1 
    tooltip = estate_nobles_rural_gov_1 
	potential = { FROM = { ai = no has_country_flag = rural_gov_window } }
    trigger = {  
		NOT = { has_reform = political_absolutism_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YAdministrative Division§!: V-VI"
				OR = {
					has_reform = fed_div_reform
					has_reform = unitary_reform	
				}
			}
		}
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform	
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II; IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = full_constitutionalism_reform	
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: V-VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_4
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_6
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: VI-VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_5
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_3
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_rural_gov_0 = { set_country_flag = estate_nobles_rural_gov_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_1 = { clr_country_flag = no_estate_select }
				estate_nobles_rural_gov_2 = { set_country_flag = estate_nobles_rural_gov_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_3 = { set_country_flag = estate_nobles_rural_gov_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_4 = { set_country_flag = estate_nobles_rural_gov_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_5 = { set_country_flag = estate_nobles_rural_gov_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_rural_gov_1
		clr_country_flag = rural_gov_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_rural_gov_2 
    tooltip = estate_nobles_rural_gov_2 
	potential = { FROM = { ai = no has_country_flag = rural_gov_window } }
    trigger = {  
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = unitary_reform	}
		NOT = { has_reform = majority_participation_reform }
		NOT = { has_reform = total_absolutism_reform }
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I; VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_rural_gov_0 = { set_country_flag = estate_nobles_rural_gov_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_1 = { set_country_flag = estate_nobles_rural_gov_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_2 = { clr_country_flag = no_estate_select }
				estate_nobles_rural_gov_3 = { set_country_flag = estate_nobles_rural_gov_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_4 = { set_country_flag = estate_nobles_rural_gov_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_5 = { set_country_flag = estate_nobles_rural_gov_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_rural_gov_2
		clr_country_flag = rural_gov_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_rural_gov_3 
    tooltip = estate_nobles_rural_gov_3 
	potential = { FROM = { ai = no has_country_flag = rural_gov_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = no_div_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YEconomic Structure§!: I-III"
				OR = {
					has_reform = subsist_econ_reform
					has_reform = traditional_econ_reform
					has_reform = feudal_tenure_econ_reform	
				}
			}
		}
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I; VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = { has_estate_privilege = estate_nobles_mil_auth_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: I; V"
				OR = {
					has_estate_privilege = estate_nobles_privs_0
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_rural_gov_0 = { set_country_flag = estate_nobles_rural_gov_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_1 = { set_country_flag = estate_nobles_rural_gov_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_2 = { set_country_flag = estate_nobles_rural_gov_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_3 = { clr_country_flag = no_estate_select }
				estate_nobles_rural_gov_4 = { set_country_flag = estate_nobles_rural_gov_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_5 = { set_country_flag = estate_nobles_rural_gov_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_rural_gov_3
		clr_country_flag = rural_gov_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_rural_gov_4 
    tooltip = estate_nobles_rural_gov_4 
	potential = { FROM = { ai = no has_country_flag = rural_gov_window } }
    trigger = {  
		has_institution = enlightenment
		NOT = { has_reform = devolution_priv_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YAdministrative Division§!: I-III"
				OR = {
					has_reform = no_div_reform
					has_reform = nonstandard_div_reform
					has_reform = regionalism_reform	
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YEconomic Structure§!: I-III"
				OR = {
					has_reform = subsist_econ_reform
					has_reform = traditional_econ_reform
					has_reform = feudal_tenure_econ_reform	
				}
			}
		}
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YTenancy Rights§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_3
				has_estate_privilege = estate_nobles_tenancy_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £nobles£§YMilitary Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_mil_auth_0
					has_estate_privilege = estate_nobles_mil_auth_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £nobles£§YNoble Privileges§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_privs_0
					has_estate_privilege = estate_nobles_privs_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_oblig_6 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_rural_gov_0 = { set_country_flag = estate_nobles_rural_gov_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_1 = { set_country_flag = estate_nobles_rural_gov_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_2 = { set_country_flag = estate_nobles_rural_gov_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_3 = { set_country_flag = estate_nobles_rural_gov_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_4 = { clr_country_flag = no_estate_select }
				estate_nobles_rural_gov_5 = { set_country_flag = estate_nobles_rural_gov_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_rural_gov_4
		clr_country_flag = rural_gov_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_rural_gov_5 
    tooltip = estate_nobles_rural_gov_5 
	potential = { FROM = { ai = no has_country_flag = rural_gov_window } }
    trigger = {  
		has_institution = enlightenment
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: V-VI"
			OR = {
				has_reform = fed_div_reform
				has_reform = unitary_reform
			}
		}
		NOT = { has_reform = devolution_priv_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YEconomic Structure§!: I-III"
				OR = {
					has_reform = subsist_econ_reform
					has_reform = traditional_econ_reform
					has_reform = feudal_tenure_econ_reform	
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: I-II; IV"
				OR = {
					has_reform = tribal_elite_reform
					has_reform = feudal_elite_reform
					has_reform = caste_elite_reform	
				}
			}
		}
		NOT = { has_reform = patchwork_realm_reform }
		has_estate_privilege = estate_bureaucracy_central_admin_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YTenancy Rights§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_3
				has_estate_privilege = estate_nobles_tenancy_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £nobles£§YMilitary Authority§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_mil_auth_0
					has_estate_privilege = estate_nobles_mil_auth_1
					has_estate_privilege = estate_nobles_mil_auth_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £nobles£§YNoble Obligations§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_oblig_5
					has_estate_privilege = estate_nobles_oblig_6
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_rural_gov_0 = { set_country_flag = estate_nobles_rural_gov_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_1 = { set_country_flag = estate_nobles_rural_gov_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_2 = { set_country_flag = estate_nobles_rural_gov_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_3 = { set_country_flag = estate_nobles_rural_gov_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_4 = { set_country_flag = estate_nobles_rural_gov_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_rural_gov_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_rural_gov_5
		clr_country_flag = rural_gov_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = tenancy_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = tenancy_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_tenancy_0 
    tooltip = estate_nobles_tenancy_0 
	potential = { FROM = { ai = no has_country_flag = tenancy_window } }
    trigger = {  
		has_institution = feudalism
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: I; VII-IIX"
				OR = {
					has_reform = tribal_elite_reform
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform	
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: III-IV"
				OR = {
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_oblig_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_tenancy_0 = { clr_country_flag = no_estate_select }
				estate_nobles_tenancy_1 = { set_country_flag = estate_nobles_tenancy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_2 = { set_country_flag = estate_nobles_tenancy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_3 = { set_country_flag = estate_nobles_tenancy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_4 = { set_country_flag = estate_nobles_tenancy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_tenancy_0
		clr_country_flag = tenancy_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_tenancy_1 
    tooltip = estate_nobles_tenancy_1 
	potential = { FROM = { ai = no has_country_flag = tenancy_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform	
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: III-IV"
				OR = {
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_oblig_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_tenancy_0 = { set_country_flag = estate_nobles_tenancy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_1 = { clr_country_flag = no_estate_select }
				estate_nobles_tenancy_2 = { set_country_flag = estate_nobles_tenancy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_3 = { set_country_flag = estate_nobles_tenancy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_4 = { set_country_flag = estate_nobles_tenancy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_tenancy_1
		clr_country_flag = tenancy_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_tenancy_2 
    tooltip = estate_nobles_tenancy_2 
	potential = { FROM = { ai = no has_country_flag = tenancy_window } }
    trigger = {  
		NOT = { has_reform = no_div_reform }
		NOT = { has_reform = majority_participation_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: III-IV"
				OR = {
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I; VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_rural_gov_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_tenancy_0 = { set_country_flag = estate_nobles_tenancy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_1 = { set_country_flag = estate_nobles_tenancy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_2 = { clr_country_flag = no_estate_select }
				estate_nobles_tenancy_3 = { set_country_flag = estate_nobles_tenancy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_4 = { set_country_flag = estate_nobles_tenancy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_tenancy_2
		clr_country_flag = tenancy_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_tenancy_3 
    tooltip = estate_nobles_tenancy_3 
	potential = { FROM = { ai = no has_country_flag = tenancy_window } }
    trigger = {  
		NOT = { has_reform = no_div_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I; VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_0
					has_estate_privilege = estate_nobles_rural_gov_1
					has_estate_privilege = estate_nobles_rural_gov_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_tenancy_0 = { set_country_flag = estate_nobles_tenancy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_1 = { set_country_flag = estate_nobles_tenancy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_2 = { set_country_flag = estate_nobles_tenancy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_3 = { clr_country_flag = no_estate_select }
				estate_nobles_tenancy_4 = { set_country_flag = estate_nobles_tenancy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_tenancy_3
		clr_country_flag = tenancy_window #clr_country_flag = no_estate_select
	} #Effect
}
 custom_button = {
    name = estate_nobles_tenancy_4 
    tooltip = estate_nobles_tenancy_4 
	potential = { FROM = { ai = no has_country_flag = tenancy_window } }
    trigger = {  
		has_institution = enlightenment
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: I-II"
			OR = {
				has_reform = fed_div_reform
				has_reform = unitary_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YCivil Society§!: VII-IIX"
			OR = {
				has_reform = petit_bourgeoisie_reform
				has_reform = majority_participation_reform
			}
		}
		NOT = { has_reform = devolution_priv_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YEconomic Structure§!: I-III"
				OR = {
					has_reform = subsist_econ_reform
					has_reform = traditional_econ_reform
					has_reform = feudal_tenure_econ_reform
				}
			}
		}
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£ §YRevenue & Tribute§!: V-VI£down£"
				OR = {
					has_estate_privilege = estate_court_crown_revenue_4
					has_estate_privilege = estate_court_crown_revenue_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YMilitary Authority§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_mil_auth_0
					has_estate_privilege = estate_nobles_mil_auth_1
					has_estate_privilege = estate_nobles_mil_auth_2
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_tenancy_0 = { set_country_flag = estate_nobles_tenancy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_1 = { set_country_flag = estate_nobles_tenancy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_2 = { set_country_flag = estate_nobles_tenancy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_3 = { set_country_flag = estate_nobles_tenancy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_tenancy_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_tenancy_4
		clr_country_flag = tenancy_window #clr_country_flag = no_estate_select
	} #Effect
}
 
#
custom_window = {
    name = mil_auth_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = mil_auth_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_mil_auth_0 
    tooltip = estate_nobles_mil_auth_0 
	potential = { FROM = { ai = no has_country_flag = mil_auth_window } }
    trigger = {  
		has_institution = feudalism
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = unitary_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II-IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YFunding & Furnishing§!: I-II"
			OR = {
				has_estate_privilege = estate_military_funding_0
				has_estate_privilege = estate_military_funding_1
				has_estate_privilege = estate_military_funding_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YArmy Organization§!: I-II"
			OR = {
				has_estate_privilege = estate_military_army_org_0
				has_estate_privilege = estate_military_army_org_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_mil_auth_0 = { clr_country_flag = no_estate_select }
				estate_nobles_mil_auth_1 = { set_country_flag = estate_nobles_mil_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_2 = { set_country_flag = estate_nobles_mil_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_3 = { set_country_flag = estate_nobles_mil_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_4 = { set_country_flag = estate_nobles_mil_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_5 = { set_country_flag = estate_nobles_mil_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_mil_auth_0
		clr_country_flag = mil_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_mil_auth_1 
    tooltip = estate_nobles_mil_auth_1 
	potential = { FROM = { ai = no has_country_flag = mil_auth_window } }
    trigger = {  
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = unitary_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II-IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YArmy Organization§!: I-II"
			OR = {
				has_estate_privilege = estate_military_army_org_0
				has_estate_privilege = estate_military_army_org_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
				has_estate_privilege = estate_nobles_rural_gov_2
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £military£§YFunding & Furnishing§!: IV-V"
				OR = {
					has_estate_privilege = estate_military_funding_4
					has_estate_privilege = estate_military_funding_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_mil_auth_0 = { set_country_flag = estate_nobles_mil_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_1 = { clr_country_flag = no_estate_select }
				estate_nobles_mil_auth_2 = { set_country_flag = estate_nobles_mil_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_3 = { set_country_flag = estate_nobles_mil_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_4 = { set_country_flag = estate_nobles_mil_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_5 = { set_country_flag = estate_nobles_mil_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_mil_auth_1
		clr_country_flag = mil_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_mil_auth_2 
    tooltip = estate_nobles_mil_auth_2 
	potential = { FROM = { ai = no has_country_flag = mil_auth_window } }
    trigger = {  
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = unitary_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II-IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YFunding & Furnishing§!: II-III"
			OR = {
				has_estate_privilege = estate_military_funding_2
				has_estate_privilege = estate_military_funding_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YArmy Organization§!: II-III"
			OR = {
				has_estate_privilege = estate_military_army_org_1
				has_estate_privilege = estate_military_army_org_2
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_mil_auth_0 = { set_country_flag = estate_nobles_mil_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_1 = { set_country_flag = estate_nobles_mil_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_2 = { clr_country_flag = no_estate_select }
				estate_nobles_mil_auth_3 = { set_country_flag = estate_nobles_mil_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_4 = { set_country_flag = estate_nobles_mil_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_5 = { set_country_flag = estate_nobles_mil_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_mil_auth_2
		clr_country_flag = mil_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_mil_auth_3 
    tooltip = estate_nobles_mil_auth_3 
	potential = { FROM = { ai = no has_country_flag = mil_auth_window } }
    trigger = {  		
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £military£§YFunding & Furnishing§!: I-II"
				OR = {
					has_estate_privilege = estate_military_funding_0
					has_estate_privilege = estate_military_funding_1
					has_estate_privilege = estate_military_funding_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £military£§YArmy Organization§!: I-II"
				OR = {
					has_estate_privilege = estate_military_army_org_0
					has_estate_privilege = estate_military_army_org_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_privs_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_mil_auth_0 = { set_country_flag = estate_nobles_mil_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_1 = { set_country_flag = estate_nobles_mil_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_2 = { set_country_flag = estate_nobles_mil_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_3 = { clr_country_flag = no_estate_select }
				estate_nobles_mil_auth_4 = { set_country_flag = estate_nobles_mil_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_5 = { set_country_flag = estate_nobles_mil_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_mil_auth_3
		clr_country_flag = mil_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_mil_auth_4 
    tooltip = estate_nobles_mil_auth_4 
	potential = { FROM = { ai = no has_country_flag = mil_auth_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £military£§YArmy Organization§!: I-II"
				OR = {
					has_estate_privilege = estate_military_army_org_0
					has_estate_privilege = estate_military_army_org_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £military£§YOfficer Education§!: I-II"
				OR = {
					has_estate_privilege = estate_military_officer_ed_0
					has_estate_privilege = estate_military_officer_ed_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_military_commission_0 }
		NOT = { has_estate_privilege = estate_nobles_privs_0 }
		NOT = { has_estate_privilege = estate_nobles_appoint_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_mil_auth_0 = { set_country_flag = estate_nobles_mil_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_1 = { set_country_flag = estate_nobles_mil_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_2 = { set_country_flag = estate_nobles_mil_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_3 = { set_country_flag = estate_nobles_mil_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_4 = { clr_country_flag = no_estate_select }
				estate_nobles_mil_auth_5 = { set_country_flag = estate_nobles_mil_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_mil_auth_4
		clr_country_flag = mil_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_mil_auth_5 
    tooltip = estate_nobles_mil_auth_5 
	potential = { FROM = { ai = no has_country_flag = mil_auth_window } }
    trigger = {  
		has_institution = empiricism
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YArmy Organization§!: IV-V"
			OR = {
				has_estate_privilege = estate_military_army_org_3
				has_estate_privilege = estate_military_army_org_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YOfficer Education§!: IV-V"
			OR = {
				has_estate_privilege = estate_military_officer_ed_3
				has_estate_privilege = estate_military_officer_ed_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YSale of Commission§!: III-IV"
			OR = {
				has_estate_privilege = estate_military_commission_2
				has_estate_privilege = estate_military_commission_3
			}
		}
		NOT = { has_estate_privilege = estate_nobles_privs_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YFamilial Appointment§!: IV-VI"
				OR = {
					has_estate_privilege = estate_nobles_appoint_3
					has_estate_privilege = estate_nobles_appoint_4
					has_estate_privilege = estate_nobles_appoint_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_mil_auth_0 = { set_country_flag = estate_nobles_mil_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_1 = { set_country_flag = estate_nobles_mil_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_2 = { set_country_flag = estate_nobles_mil_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_3 = { set_country_flag = estate_nobles_mil_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_4 = { set_country_flag = estate_nobles_mil_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_mil_auth_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_mil_auth_5
		clr_country_flag = mil_auth_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = noble_priv_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_priv_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_privs_0 
    tooltip = estate_nobles_privs_0 
	potential = { FROM = { ai = no has_country_flag = noble_priv_window } }
    trigger = {  
		has_institution = feudalism
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = unitary_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II-IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_0
				has_estate_privilege = estate_bureaucracy_prov_justice_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YTenancy Rights§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_0
				has_estate_privilege = estate_nobles_tenancy_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_0
				has_estate_privilege = estate_nobles_mil_auth_1
				has_estate_privilege = estate_nobles_mil_auth_2
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_privs_0 = { clr_country_flag = no_estate_select }
				estate_nobles_privs_1 = { set_country_flag = estate_nobles_privs_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_2 = { set_country_flag = estate_nobles_privs_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_3 = { set_country_flag = estate_nobles_privs_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_4 = { set_country_flag = estate_nobles_privs_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_privs_0
		clr_country_flag = noble_priv_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_privs_1 
    tooltip = estate_nobles_privs_1 
	potential = { FROM = { ai = no has_country_flag = noble_priv_window } }
    trigger = {  
		NOT = { has_reform = political_absolutism_reform }
		NOT = { has_reform = unitary_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II-IV"
				OR = {
					has_reform = total_absolutism_reform
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: I-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_0
				has_estate_privilege = estate_bureaucracy_prov_justice_1
				has_estate_privilege = estate_bureaucracy_prov_justice_2
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£ §YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£ §YTenancy Rights§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_3
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_privs_0 = { set_country_flag = estate_nobles_privs_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_1 = { clr_country_flag = no_estate_select }
				estate_nobles_privs_2 = { set_country_flag = estate_nobles_privs_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_3 = { set_country_flag = estate_nobles_privs_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_4 = { set_country_flag = estate_nobles_privs_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_privs_1
		clr_country_flag = noble_priv_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_privs_2 
    tooltip = estate_nobles_privs_2 
	potential = { FROM = { ai = no has_country_flag = noble_priv_window } }
    trigger = {  
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: II; VII-IIX"
				OR = {
					has_reform = feudal_elite_reform
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: III-IV"
				OR = {
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I; VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£ §YRural Governance§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_0
					has_estate_privilege = estate_nobles_rural_gov_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_privs_0 = { set_country_flag = estate_nobles_privs_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_1 = { set_country_flag = estate_nobles_privs_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_2 = { clr_country_flag = no_estate_select }
				estate_nobles_privs_3 = { set_country_flag = estate_nobles_privs_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_4 = { set_country_flag = estate_nobles_privs_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_privs_2
		clr_country_flag = noble_priv_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_privs_3 
    tooltip = estate_nobles_privs_3 
	potential = { FROM = { ai = no has_country_flag = noble_priv_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£ §YRural Governance§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_3
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
					has_estate_privilege = estate_bureaucracy_prov_justice_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£ §YTenancy Rights§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_0
					has_estate_privilege = estate_nobles_tenancy_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_privs_0 = { set_country_flag = estate_nobles_privs_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_1 = { set_country_flag = estate_nobles_privs_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_2 = { set_country_flag = estate_nobles_privs_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_3 = { clr_country_flag = no_estate_select }
				estate_nobles_privs_4 = { set_country_flag = estate_nobles_privs_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_privs_3
		clr_country_flag = noble_priv_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_privs_4 
    tooltip = estate_nobles_privs_4 
	potential = { FROM = { ai = no has_country_flag = noble_priv_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: V-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_4
				has_estate_privilege = estate_bureaucracy_prov_justice_5
				has_estate_privilege = estate_bureaucracy_prov_justice_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£ §YRural Governance§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£ §YTenancy Rights§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_3
				has_estate_privilege = estate_nobles_tenancy_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£ §YMilitary Authority§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_mil_auth_0
					has_estate_privilege = estate_nobles_mil_auth_1
					has_estate_privilege = estate_nobles_mil_auth_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_fish_game_4 }
		NOT = { has_estate_privilege = estate_nobles_forestry_4 }
		NOT = { has_estate_privilege = estate_nobles_processing_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_privs_0 = { set_country_flag = estate_nobles_privs_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_1 = { set_country_flag = estate_nobles_privs_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_2 = { set_country_flag = estate_nobles_privs_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_3 = { set_country_flag = estate_nobles_privs_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_privs_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_privs_4
		clr_country_flag = noble_priv_window #clr_country_flag = no_estate_select
	} #Effect
}
 
#
custom_window = {
    name = noble_oblig_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_oblig_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_oblig_0 
    tooltip = estate_nobles_oblig_0 
	potential = { FROM = { ai = no has_country_flag = noble_oblig_window } }
    trigger = {  
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: V-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_3
				has_estate_privilege = estate_nobles_mil_auth_4
				has_estate_privilege = estate_nobles_mil_auth_5
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_privs_0
					has_estate_privilege = estate_nobles_privs_1
					has_estate_privilege = estate_nobles_privs_2
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_oblig_0 = { clr_country_flag = no_estate_select }
				estate_nobles_oblig_1 = { set_country_flag = estate_nobles_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_2 = { set_country_flag = estate_nobles_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_3 = { set_country_flag = estate_nobles_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_4 = { set_country_flag = estate_nobles_oblig_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_5 = { set_country_flag = estate_nobles_oblig_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_6 = { set_country_flag = estate_nobles_oblig_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_oblig_0
		clr_country_flag = noble_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_oblig_1 
    tooltip = estate_nobles_oblig_1 
	potential = { FROM = { ai = no has_country_flag = noble_oblig_window } }
    trigger = {  
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_3
				has_estate_privilege = estate_nobles_mil_auth_4
				has_estate_privilege = estate_nobles_mil_auth_5
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_0
					has_estate_privilege = estate_bureaucracy_rev_collect_1
					has_estate_privilege = estate_bureaucracy_rev_collect_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_privs_2 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_oblig_0 = { set_country_flag = estate_nobles_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_1 = { clr_country_flag = no_estate_select }
				estate_nobles_oblig_2 = { set_country_flag = estate_nobles_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_3 = { set_country_flag = estate_nobles_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_4 = { set_country_flag = estate_nobles_oblig_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_5 = { set_country_flag = estate_nobles_oblig_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_6 = { set_country_flag = estate_nobles_oblig_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_oblig_1
		clr_country_flag = noble_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_oblig_2 
    tooltip = estate_nobles_oblig_2 
	potential = { FROM = { ai = no has_country_flag = noble_oblig_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_court_crown_revenue_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_oblig_0 = { set_country_flag = estate_nobles_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_1 = { set_country_flag = estate_nobles_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_2 = { clr_country_flag = no_estate_select }
				estate_nobles_oblig_3 = { set_country_flag = estate_nobles_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_4 = { set_country_flag = estate_nobles_oblig_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_5 = { set_country_flag = estate_nobles_oblig_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_6 = { set_country_flag = estate_nobles_oblig_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_oblig_2
		clr_country_flag = noble_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_oblig_3 
    tooltip = estate_nobles_oblig_3 
	potential = { FROM = { ai = no has_country_flag = noble_oblig_window } }
    trigger = {  
		OR = {
			AND = {
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_leg_app_0
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
							#has_estate_privilege = estate_court_politics_0
							#has_estate_privilege = estate_court_politics_1
							#has_estate_privilege = estate_court_politics_8
							#has_estate_privilege = estate_court_politics_9
							has_estate_privilege = estate_court_prerog_0
							has_estate_privilege = estate_court_prerog_1
							has_estate_privilege = estate_court_prerog_2
							has_estate_privilege = estate_court_prerog_3
							has_estate_privilege = estate_nobles_oblig_0
							has_estate_privilege = estate_nobles_oblig_1
							has_estate_privilege = estate_nobles_oblig_2
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Authority§!: I-II"
					OR = {
						has_estate_privilege = estate_court_regal_auth_0
						has_estate_privilege = estate_court_regal_auth_1
						has_estate_privilege = estate_court_regal_auth_2
						has_estate_privilege = estate_court_regal_auth_3
					}
				}
				#custom_trigger_tooltip = {
				#	tooltip = "Has granted £court£§YCourt Politics§!: I-II; VII-IIX£down£"
				#	OR = {
				#		has_estate_privilege = estate_court_politics_0
				#		has_estate_privilege = estate_court_politics_1
				#		has_estate_privilege = estate_court_politics_8
				#		has_estate_privilege = estate_court_politics_9
				#	}
				#}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Prerogative§!: I-IV"
					OR = {
						has_estate_privilege = estate_court_prerog_0
						has_estate_privilege = estate_court_prerog_1
						has_estate_privilege = estate_court_prerog_2
						has_estate_privilege = estate_court_prerog_3
					}
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_leg_app_0
							has_estate_privilege = estate_nobles_oblig_0
							has_estate_privilege = estate_nobles_oblig_1
							has_estate_privilege = estate_nobles_oblig_2
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YNoble Obligations§!: I-II"
					OR = {
						has_estate_privilege = estate_nobles_oblig_0
						has_estate_privilege = estate_nobles_oblig_1
						has_estate_privilege = estate_nobles_oblig_2
					}
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_leg_app_0
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
							#has_estate_privilege = estate_court_politics_0
							#has_estate_privilege = estate_court_politics_1
							#has_estate_privilege = estate_court_politics_8
							#has_estate_privilege = estate_court_politics_9
							has_estate_privilege = estate_court_prerog_0
							has_estate_privilege = estate_court_prerog_1
							has_estate_privilege = estate_court_prerog_2
							has_estate_privilege = estate_court_prerog_3
						}
					}
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_crown_revenue_6 }
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_oblig_0 = { set_country_flag = estate_nobles_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_1 = { set_country_flag = estate_nobles_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_2 = { set_country_flag = estate_nobles_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_3 = { clr_country_flag = no_estate_select }
				estate_nobles_oblig_4 = { set_country_flag = estate_nobles_oblig_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_5 = { set_country_flag = estate_nobles_oblig_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_6 = { set_country_flag = estate_nobles_oblig_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_oblig_3
		clr_country_flag = noble_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_oblig_4 
    tooltip = estate_nobles_oblig_4 
	potential = { FROM = { ai = no has_country_flag = noble_oblig_window } }
    trigger = {  
		OR = {
			AND = {
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_leg_app_0
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
							#has_estate_privilege = estate_court_politics_0
							#has_estate_privilege = estate_court_politics_1
							#has_estate_privilege = estate_court_politics_8
							#has_estate_privilege = estate_court_politics_9
							has_estate_privilege = estate_court_prerog_0
							has_estate_privilege = estate_court_prerog_1
							has_estate_privilege = estate_court_prerog_2
							has_estate_privilege = estate_court_prerog_3
							has_estate_privilege = estate_nobles_oblig_0
							has_estate_privilege = estate_nobles_oblig_1
							has_estate_privilege = estate_nobles_oblig_2
							has_estate_privilege = estate_nobles_oblig_3
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Authority§!: I-II"
					OR = {
						has_estate_privilege = estate_court_regal_auth_0
						has_estate_privilege = estate_court_regal_auth_1
						has_estate_privilege = estate_court_regal_auth_2
						has_estate_privilege = estate_court_regal_auth_3
					}
				}
				#custom_trigger_tooltip = {
				#	tooltip = "Has granted £court£§YCourt Politics§!: I-II; VII-IIX£down£"
				#	OR = {
				#		has_estate_privilege = estate_court_politics_0
				#		has_estate_privilege = estate_court_politics_1
				#		has_estate_privilege = estate_court_politics_8
				#		has_estate_privilege = estate_court_politics_9
				#	}
				#}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Prerogative§!: I-IV"
					OR = {
						has_estate_privilege = estate_court_prerog_0
						has_estate_privilege = estate_court_prerog_1
						has_estate_privilege = estate_court_prerog_2
						has_estate_privilege = estate_court_prerog_3
					}
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_leg_app_0
							has_estate_privilege = estate_nobles_oblig_0
							has_estate_privilege = estate_nobles_oblig_1
							has_estate_privilege = estate_nobles_oblig_2
							has_estate_privilege = estate_nobles_oblig_3
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YNoble Obligations§!: I-II"
					OR = {
						has_estate_privilege = estate_nobles_oblig_0
						has_estate_privilege = estate_nobles_oblig_1
						has_estate_privilege = estate_nobles_oblig_2
						has_estate_privilege = estate_nobles_oblig_3
					}
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_leg_app_0
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
							#has_estate_privilege = estate_court_politics_0
							#has_estate_privilege = estate_court_politics_1
							#has_estate_privilege = estate_court_politics_8
							#has_estate_privilege = estate_court_politics_9
							has_estate_privilege = estate_court_prerog_0
							has_estate_privilege = estate_court_prerog_1
							has_estate_privilege = estate_court_prerog_2
							has_estate_privilege = estate_court_prerog_3
						}
					}
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_rural_gov_5 }
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_oblig_0 = { set_country_flag = estate_nobles_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_1 = { set_country_flag = estate_nobles_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_2 = { set_country_flag = estate_nobles_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_3 = { set_country_flag = estate_nobles_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_4 = { clr_country_flag = no_estate_select }
				estate_nobles_oblig_5 = { set_country_flag = estate_nobles_oblig_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_6 = { set_country_flag = estate_nobles_oblig_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_oblig_4
		clr_country_flag = noble_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_oblig_5 
    tooltip = estate_nobles_oblig_5 
	potential = { FROM = { ai = no has_country_flag = noble_oblig_window } }
    trigger = {  
		OR = {
			AND = {
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_leg_app_0
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
							#has_estate_privilege = estate_court_politics_0
							#has_estate_privilege = estate_court_politics_1
							#has_estate_privilege = estate_court_politics_8
							#has_estate_privilege = estate_court_politics_9
							has_estate_privilege = estate_court_prerog_0
							has_estate_privilege = estate_court_prerog_1
							has_estate_privilege = estate_court_prerog_2
							has_estate_privilege = estate_court_prerog_3
							has_estate_privilege = estate_nobles_oblig_0
							has_estate_privilege = estate_nobles_oblig_1
							has_estate_privilege = estate_nobles_oblig_2
							has_estate_privilege = estate_nobles_oblig_3
							has_estate_privilege = estate_nobles_oblig_4
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Authority§!: I-II"
					OR = {
						has_estate_privilege = estate_court_regal_auth_0
						has_estate_privilege = estate_court_regal_auth_1
						has_estate_privilege = estate_court_regal_auth_2
						has_estate_privilege = estate_court_regal_auth_3
					}
				}
				#custom_trigger_tooltip = {
				#	tooltip = "Has granted £court£§YCourt Politics§!: I-II; VII-IIX£down£"
				#	OR = {
				#		has_estate_privilege = estate_court_politics_0
				#		has_estate_privilege = estate_court_politics_1
				#		has_estate_privilege = estate_court_politics_8
				#		has_estate_privilege = estate_court_politics_9
				#	}
				#}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Prerogative§!: I-IV"
					OR = {
						has_estate_privilege = estate_court_prerog_0
						has_estate_privilege = estate_court_prerog_1
						has_estate_privilege = estate_court_prerog_2
						has_estate_privilege = estate_court_prerog_3
					}
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_leg_app_0
							has_estate_privilege = estate_nobles_oblig_0
							has_estate_privilege = estate_nobles_oblig_1
							has_estate_privilege = estate_nobles_oblig_2
							has_estate_privilege = estate_nobles_oblig_3
							has_estate_privilege = estate_nobles_oblig_4
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YNoble Obligations§!: I-III"
					OR = {
						has_estate_privilege = estate_nobles_oblig_0
						has_estate_privilege = estate_nobles_oblig_1
						has_estate_privilege = estate_nobles_oblig_2
						has_estate_privilege = estate_nobles_oblig_3
						has_estate_privilege = estate_nobles_oblig_4
					}
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_leg_app_0
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
							#has_estate_privilege = estate_court_politics_0
							#has_estate_privilege = estate_court_politics_1
							#has_estate_privilege = estate_court_politics_8
							#has_estate_privilege = estate_court_politics_9
							has_estate_privilege = estate_court_prerog_0
							has_estate_privilege = estate_court_prerog_1
							has_estate_privilege = estate_court_prerog_2
							has_estate_privilege = estate_court_prerog_3
						}
					}
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_oblig_0 = { set_country_flag = estate_nobles_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_1 = { set_country_flag = estate_nobles_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_2 = { set_country_flag = estate_nobles_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_3 = { set_country_flag = estate_nobles_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_4 = { set_country_flag = estate_nobles_oblig_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_5 = { clr_country_flag = no_estate_select }
				estate_nobles_oblig_6 = { set_country_flag = estate_nobles_oblig_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_oblig_5
		clr_country_flag = noble_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_oblig_6 
    tooltip = estate_nobles_oblig_6 
	potential = { FROM = { ai = no has_country_flag = noble_oblig_window } }
    trigger = {  
		has_institution = bureaucracy
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		OR = {
			AND = {
				OR = {
					custom_trigger_tooltip = {
						tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_central_admin_1
						}
					}
					has_estate_privilege = estate_bureaucracy_leg_app_0
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
							#has_estate_privilege = estate_court_politics_0
							#has_estate_privilege = estate_court_politics_1
							#has_estate_privilege = estate_court_politics_8
							#has_estate_privilege = estate_court_politics_9
							has_estate_privilege = estate_court_prerog_0
							has_estate_privilege = estate_court_prerog_1
							has_estate_privilege = estate_court_prerog_2
							has_estate_privilege = estate_court_prerog_3
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Authority§!: I-II"
					OR = {
						has_estate_privilege = estate_court_regal_auth_0
						has_estate_privilege = estate_court_regal_auth_1
						has_estate_privilege = estate_court_regal_auth_2
						has_estate_privilege = estate_court_regal_auth_3
					}
				}
				#custom_trigger_tooltip = {
				#	tooltip = "Has granted £court£§YCourt Politics§!: I-II; VII-IIX£down£"
				#	OR = {
				#		has_estate_privilege = estate_court_politics_0
				#		has_estate_privilege = estate_court_politics_1
				#		has_estate_privilege = estate_court_politics_8
				#		has_estate_privilege = estate_court_politics_9
				#	}
				#}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Prerogative§!: I-IV"
					OR = {
						has_estate_privilege = estate_court_prerog_0
						has_estate_privilege = estate_court_prerog_1
						has_estate_privilege = estate_court_prerog_2
						has_estate_privilege = estate_court_prerog_3
					}
				}
				custom_trigger_tooltip = {
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_bureaucracy_central_admin_0
							has_estate_privilege = estate_bureaucracy_central_admin_1
							has_estate_privilege = estate_bureaucracy_leg_app_0
						}
					}
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_oblig_0 = { set_country_flag = estate_nobles_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_1 = { set_country_flag = estate_nobles_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_2 = { set_country_flag = estate_nobles_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_3 = { set_country_flag = estate_nobles_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_4 = { set_country_flag = estate_nobles_oblig_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_5 = { set_country_flag = estate_nobles_oblig_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_oblig_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_oblig_6
		clr_country_flag = noble_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}

###Privs
custom_window = {
    name = noble_hier_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_hier_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_hierarchy_0 
    tooltip = estate_nobles_hierarchy_0 
	potential = { FROM = { ai = no has_country_flag = noble_hier_window } }
    trigger = {  
		OR = {
			has_estate_privilege = estate_bureaucracy_leg_app_0
			AND = {				
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Hierarchy§!: I-II"
					OR = {
						has_estate_privilege = estate_court_hierarchy_0
						has_estate_privilege = estate_court_hierarchy_1
					}
				}
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YInheritance Protections§!: I-II"
					OR = {
						has_estate_privilege = estate_nobles_inherit_0
						has_estate_privilege = estate_nobles_inherit_1
					}
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: VII-IIX£down£"
				OR = {
					has_estate_privilege = estate_court_politics_8
					has_estate_privilege = estate_court_politics_9
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Titles§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_titles_0
					has_estate_privilege = estate_nobles_titles_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YInheritance Protections§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_inherit_3
					has_estate_privilege = estate_nobles_inherit_4
					has_estate_privilege = estate_nobles_inherit_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_hierarchy_0 = { clr_country_flag = no_estate_select }
				estate_nobles_hierarchy_1 = { set_country_flag = estate_nobles_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_2 = { set_country_flag = estate_nobles_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_3 = { set_country_flag = estate_nobles_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_4 = { set_country_flag = estate_nobles_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_5 = { set_country_flag = estate_nobles_hierarchy_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_6 = { set_country_flag = estate_nobles_hierarchy_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_hierarchy_0
		clr_country_flag = noble_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_hierarchy_1 
    tooltip = estate_nobles_hierarchy_1 
	potential = { FROM = { ai = no has_country_flag = noble_hier_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Titles§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_titles_0
				has_estate_privilege = estate_nobles_titles_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: VII-IIX£down£"
				OR = {
					has_estate_privilege = estate_court_politics_8
					has_estate_privilege = estate_court_politics_9
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_hierarchy_3 }
		NOT = { has_estate_privilege = estate_nobles_titles_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YInheritance Protections§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_inherit_3
					has_estate_privilege = estate_nobles_inherit_4
					has_estate_privilege = estate_nobles_inherit_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_hierarchy_0 = { set_country_flag = estate_nobles_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_1 = { clr_country_flag = no_estate_select }
				estate_nobles_hierarchy_2 = { set_country_flag = estate_nobles_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_3 = { set_country_flag = estate_nobles_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_4 = { set_country_flag = estate_nobles_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_5 = { set_country_flag = estate_nobles_hierarchy_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_6 = { set_country_flag = estate_nobles_hierarchy_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_hierarchy_1
		clr_country_flag = noble_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_hierarchy_2 
    tooltip = estate_nobles_hierarchy_2 
	potential = { FROM = { ai = no has_country_flag = noble_hier_window } }
    trigger = {  
		OR = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YRural Governance§!: I-II"
					OR = {
						has_estate_privilege = estate_nobles_rural_gov_0
						has_estate_privilege = estate_nobles_rural_gov_1
					}
				}
				custom_trigger_tooltip = { 
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_court_politics_0
							has_estate_privilege = estate_court_politics_1
							has_estate_privilege = estate_court_politics_2
							has_estate_privilege = estate_court_politics_9
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Politics§!: I-III; IIX£down£"
					OR = {
						has_estate_privilege = estate_court_politics_0
						has_estate_privilege = estate_court_politics_1
						has_estate_privilege = estate_court_politics_2
						has_estate_privilege = estate_court_politics_9
					}
				}
				custom_trigger_tooltip = { 
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_nobles_rural_gov_0
							has_estate_privilege = estate_nobles_rural_gov_1
						}
					}
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_inherit_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_hierarchy_0 = { set_country_flag = estate_nobles_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_1 = { set_country_flag = estate_nobles_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_2 = { clr_country_flag = no_estate_select }
				estate_nobles_hierarchy_3 = { set_country_flag = estate_nobles_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_4 = { set_country_flag = estate_nobles_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_5 = { set_country_flag = estate_nobles_hierarchy_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_6 = { set_country_flag = estate_nobles_hierarchy_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_hierarchy_2
		clr_country_flag = noble_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_hierarchy_3 
    tooltip = estate_nobles_hierarchy_3 
	potential = { FROM = { ai = no has_country_flag = noble_hier_window } }
    trigger = {  
		OR = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YRural Governance§!: I-III"
					OR = {
						has_estate_privilege = estate_nobles_rural_gov_0
						has_estate_privilege = estate_nobles_rural_gov_1
						has_estate_privilege = estate_nobles_rural_gov_2
					}
				}
				custom_trigger_tooltip = { 
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_court_politics_0
							has_estate_privilege = estate_court_politics_1
							has_estate_privilege = estate_court_politics_2
							has_estate_privilege = estate_court_politics_7
							has_estate_privilege = estate_court_politics_9
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Politics§!: I-III; VII-IIX£down£"
					OR = {
						has_estate_privilege = estate_court_politics_0
						has_estate_privilege = estate_court_politics_1
						has_estate_privilege = estate_court_politics_2
						has_estate_privilege = estate_court_politics_7
						has_estate_privilege = estate_court_politics_9
					}
				}
				custom_trigger_tooltip = { 
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_nobles_rural_gov_0
							has_estate_privilege = estate_nobles_rural_gov_1
							has_estate_privilege = estate_nobles_rural_gov_2
						}
					}
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_3
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_inherit_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_hierarchy_0 = { set_country_flag = estate_nobles_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_1 = { set_country_flag = estate_nobles_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_2 = { set_country_flag = estate_nobles_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_3 = { clr_country_flag = no_estate_select }
				estate_nobles_hierarchy_4 = { set_country_flag = estate_nobles_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_5 = { set_country_flag = estate_nobles_hierarchy_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_6 = { set_country_flag = estate_nobles_hierarchy_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_hierarchy_3
		clr_country_flag = noble_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_hierarchy_4 
    tooltip = estate_nobles_hierarchy_4 
	potential = { FROM = { ai = no has_country_flag = noble_hier_window } }
    trigger = {  
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		OR = {
			has_estate_privilege = estate_court_regal_auth_7
			custom_trigger_tooltip = {
				tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
				OR = {
					has_estate_privilege = estate_court_advisors_3
					has_estate_privilege = estate_court_advisors_4
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YTenancy Rights§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_0
				has_estate_privilege = estate_nobles_tenancy_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Obligations§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_oblig_5
				has_estate_privilege = estate_nobles_oblig_6
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: I-III"
				OR = {
					has_estate_privilege = estate_court_politics_0
					has_estate_privilege = estate_court_politics_1
					has_estate_privilege = estate_court_politics_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_hierarchy_0 }
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_hierarchy_0 = { set_country_flag = estate_nobles_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_1 = { set_country_flag = estate_nobles_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_2 = { set_country_flag = estate_nobles_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_3 = { set_country_flag = estate_nobles_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_4 = { clr_country_flag = no_estate_select }
				estate_nobles_hierarchy_5 = { set_country_flag = estate_nobles_hierarchy_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_6 = { set_country_flag = estate_nobles_hierarchy_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_hierarchy_4
		clr_country_flag = noble_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_hierarchy_5 
    tooltip = estate_nobles_hierarchy_5 
	potential = { FROM = { ai = no has_country_flag = noble_hier_window } }
    trigger = {  
		OR = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YRural Governance§!: I-III"
					OR = {
						has_estate_privilege = estate_nobles_rural_gov_0
						has_estate_privilege = estate_nobles_rural_gov_1
						has_estate_privilege = estate_nobles_rural_gov_2
					}
				}
				custom_trigger_tooltip = { 
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_court_politics_0
							has_estate_privilege = estate_court_politics_1
							has_estate_privilege = estate_court_politics_2
							has_estate_privilege = estate_court_politics_7
							has_estate_privilege = estate_court_politics_9
						}
					}
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Politics§!: I-III; VII-IIX£down£"
					OR = {
						has_estate_privilege = estate_court_politics_0
						has_estate_privilege = estate_court_politics_1
						has_estate_privilege = estate_court_politics_2
						has_estate_privilege = estate_court_politics_7
						has_estate_privilege = estate_court_politics_9
					}
				}
				custom_trigger_tooltip = { 
					tooltip = "§RNone of the other conditions are true.§!"
					NOT = {
						OR = {
							has_estate_privilege = estate_nobles_rural_gov_0
							has_estate_privilege = estate_nobles_rural_gov_1
							has_estate_privilege = estate_nobles_rural_gov_2
						}
					}
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_0 }
		NOT = { has_estate_privilege = estate_nobles_titles_4 }
		NOT = { has_estate_privilege = estate_nobles_inherit_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_hierarchy_0 = { set_country_flag = estate_nobles_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_1 = { set_country_flag = estate_nobles_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_2 = { set_country_flag = estate_nobles_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_3 = { set_country_flag = estate_nobles_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_4 = { set_country_flag = estate_nobles_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_5 = { clr_country_flag = no_estate_select }
				estate_nobles_hierarchy_6 = { set_country_flag = estate_nobles_hierarchy_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_hierarchy_5
		clr_country_flag = noble_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_hierarchy_6 
    tooltip = estate_nobles_hierarchy_6 
	potential = { FROM = { ai = no has_country_flag = noble_hier_window } }
    trigger = {  
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YInheritance Protections§!: III-V£up£"
			OR = {
				has_estate_privilege = estate_nobles_inherit_2
				has_estate_privilege = estate_nobles_inherit_3
				has_estate_privilege = estate_nobles_inherit_4
			}
		}
		has_estate_privilege = estate_nobles_appoint_5
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: I-III"
				OR = {
					has_estate_privilege = estate_court_politics_0
					has_estate_privilege = estate_court_politics_1
					has_estate_privilege = estate_court_politics_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_hierarchy_0 }
		NOT = { has_estate_privilege = estate_nobles_rural_gov_5 }
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = { has_estate_privilege = estate_nobles_titles_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_hierarchy_0 = { set_country_flag = estate_nobles_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_1 = { set_country_flag = estate_nobles_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_2 = { set_country_flag = estate_nobles_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_3 = { set_country_flag = estate_nobles_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_4 = { set_country_flag = estate_nobles_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_5 = { set_country_flag = estate_nobles_hierarchy_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_hierarchy_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_hierarchy_6
		clr_country_flag = noble_hier_window #clr_country_flag = no_estate_select
	} #Effect
}  
 

#
custom_window = {
    name = noble_titles_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_titles_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_titles_0 
    tooltip = estate_nobles_titles_0 
	potential = { FROM = { ai = no has_country_flag = noble_titles_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Titles§!: IV-V"
				OR = {
					has_estate_privilege = estate_court_titles_3
					has_estate_privilege = estate_court_titles_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YAristocratic Hierarchy§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_hierarchy_0
					has_estate_privilege = estate_nobles_hierarchy_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_titles_0 = { clr_country_flag = no_estate_select }
				estate_nobles_titles_1 = { set_country_flag = estate_nobles_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_2 = { set_country_flag = estate_nobles_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_3 = { set_country_flag = estate_nobles_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_4 = { set_country_flag = estate_nobles_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_titles_0
		clr_country_flag = noble_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_titles_1 
    tooltip = estate_nobles_titles_1 
	potential = { FROM = { ai = no has_country_flag = noble_titles_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_court_titles_4 }
		NOT = { has_estate_privilege = estate_nobles_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_titles_0 = { set_country_flag = estate_nobles_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_1 = { clr_country_flag = no_estate_select }
				estate_nobles_titles_2 = { set_country_flag = estate_nobles_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_3 = { set_country_flag = estate_nobles_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_4 = { set_country_flag = estate_nobles_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_titles_1
		clr_country_flag = noble_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_titles_2 
    tooltip = estate_nobles_titles_2 
	potential = { FROM = { ai = no has_country_flag = noble_titles_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Titles§!: I; V"
				OR = {
					has_estate_privilege = estate_court_titles_0
					has_estate_privilege = estate_court_titles_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YAristocratic Hierarchy§!: I; V£up£"
				OR = {
					has_estate_privilege = estate_nobles_hierarchy_0
					has_estate_privilege = estate_nobles_hierarchy_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_titles_0 = { set_country_flag = estate_nobles_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_1 = { set_country_flag = estate_nobles_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_2 = { clr_country_flag = no_estate_select }
				estate_nobles_titles_3 = { set_country_flag = estate_nobles_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_4 = { set_country_flag = estate_nobles_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_titles_2
		clr_country_flag = noble_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_titles_3 
    tooltip = estate_nobles_titles_3 
	potential = { FROM = { ai = no has_country_flag = noble_titles_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_court_titles_0 }
		NOT = { has_estate_privilege = estate_nobles_hierarchy_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_titles_0 = { set_country_flag = estate_nobles_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_1 = { set_country_flag = estate_nobles_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_2 = { set_country_flag = estate_nobles_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_3 = { clr_country_flag = no_estate_select }
				estate_nobles_titles_4 = { set_country_flag = estate_nobles_titles_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_titles_3
		clr_country_flag = noble_titles_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_titles_4 
    tooltip = estate_nobles_titles_4 
	potential = { FROM = { ai = no has_country_flag = noble_titles_window } }
    trigger = {  
		NOT = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform 
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Titles§!: I-II"
				OR = {
					has_estate_privilege = estate_court_titles_0
					has_estate_privilege = estate_court_titles_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YAristocratic Hierarchy§!: IV-V£up£"
				OR = {
					has_estate_privilege = estate_nobles_hierarchy_3
					has_estate_privilege = estate_nobles_hierarchy_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_titles_0 = { set_country_flag = estate_nobles_titles_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_1 = { set_country_flag = estate_nobles_titles_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_2 = { set_country_flag = estate_nobles_titles_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_3 = { set_country_flag = estate_nobles_titles_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_titles_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_titles_4
		clr_country_flag = noble_titles_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = noble_inherit_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_inherit_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_inherit_0 
    tooltip = estate_nobles_inherit_0 
	potential = { FROM = { ai = no has_country_flag = noble_inherit_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		OR = {
			AND = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_local_admin_0
				has_estate_privilege = estate_bureaucracy_leg_app_0
				has_estate_privilege = estate_bureaucracy_prov_justice_0
			}
			AND = {
				has_estate_privilege = estate_nobles_rural_gov_5
				has_estate_privilege = estate_nobles_privs_4
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YNoble Obligations§!: I-II£up£"
					OR = {
						has_estate_privilege = estate_nobles_oblig_0
						has_estate_privilege = estate_nobles_oblig_1
					}
				}
				NOT = {
					custom_trigger_tooltip = {
						tooltip = "Has not granted £nobles£§YMilitary Authority§!: I-III"
						OR = {
							has_estate_privilege = estate_nobles_mil_auth_0
							has_estate_privilege = estate_nobles_mil_auth_1
							has_estate_privilege = estate_nobles_mil_auth_2
						}
					}
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_inherit_0 = { clr_country_flag = no_estate_select }
				estate_nobles_inherit_1 = { set_country_flag = estate_nobles_inherit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_2 = { set_country_flag = estate_nobles_inherit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_3 = { set_country_flag = estate_nobles_inherit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_4 = { set_country_flag = estate_nobles_inherit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_5 = { set_country_flag = estate_nobles_inherit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_inherit_0
		clr_country_flag = noble_inherit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_inherit_1 
    tooltip = estate_nobles_inherit_1 
	potential = { FROM = { ai = no has_country_flag = noble_inherit_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { 
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		has_estate_privilege = estate_nobles_rural_gov_0
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_0
				has_estate_privilege = estate_nobles_mil_auth_1
				has_estate_privilege = estate_nobles_mil_auth_2
			}
		}
		NOT = { has_estate_privilege = estate_nobles_privs_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_oblig_5
					has_estate_privilege = estate_nobles_oblig_6
				}
			}
		}		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_inherit_0 = { set_country_flag = estate_nobles_inherit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_1 = { clr_country_flag = no_estate_select }
				estate_nobles_inherit_2 = { set_country_flag = estate_nobles_inherit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_3 = { set_country_flag = estate_nobles_inherit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_4 = { set_country_flag = estate_nobles_inherit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_5 = { set_country_flag = estate_nobles_inherit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_inherit_1
		clr_country_flag = noble_inherit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_inherit_2 
    tooltip = estate_nobles_inherit_2 
	potential = { FROM = { ai = no has_country_flag = noble_inherit_window } }
    trigger = {  
		has_estate_privilege = estate_bureaucracy_prov_justice_1
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
				has_estate_privilege = estate_nobles_privs_2
			}
		}
		NOT = { has_estate_privilege = estate_nobles_rural_gov_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_inherit_0 = { set_country_flag = estate_nobles_inherit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_1 = { set_country_flag = estate_nobles_inherit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_2 = { clr_country_flag = no_estate_select }
				estate_nobles_inherit_3 = { set_country_flag = estate_nobles_inherit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_4 = { set_country_flag = estate_nobles_inherit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_5 = { set_country_flag = estate_nobles_inherit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_inherit_2
		clr_country_flag = noble_inherit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_inherit_3 
    tooltip = estate_nobles_inherit_3 
	potential = { FROM = { ai = no has_country_flag = noble_inherit_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_leg_app_0
					has_estate_privilege = estate_bureaucracy_leg_app_1
				}
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_inherit_0 = { set_country_flag = estate_nobles_inherit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_1 = { set_country_flag = estate_nobles_inherit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_2 = { set_country_flag = estate_nobles_inherit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_3 = { clr_country_flag = no_estate_select }
				estate_nobles_inherit_4 = { set_country_flag = estate_nobles_inherit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_5 = { set_country_flag = estate_nobles_inherit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_inherit_3
		clr_country_flag = noble_inherit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_inherit_4 
    tooltip = estate_nobles_inherit_4 
	potential = { FROM = { ai = no has_country_flag = noble_inherit_window } }
    trigger = {  
		has_institution = bureaucracy
		has_estate_privilege = estate_nobles_privs_0
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLegislative Apparatus§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_leg_app_0
					has_estate_privilege = estate_bureaucracy_leg_app_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_court_crown_revenue_5 }
		NOT = { has_estate_privilege = estate_nobles_rural_gov_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_inherit_0 = { set_country_flag = estate_nobles_inherit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_1 = { set_country_flag = estate_nobles_inherit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_2 = { set_country_flag = estate_nobles_inherit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_3 = { set_country_flag = estate_nobles_inherit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_4 = { clr_country_flag = no_estate_select }
				estate_nobles_inherit_5 = { set_country_flag = estate_nobles_inherit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_inherit_4
		clr_country_flag = noble_inherit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_inherit_5 
    tooltip = estate_nobles_inherit_5 
	potential = { FROM = { ai = no has_country_flag = noble_inherit_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: V-VI"
			OR = {
				has_reform = fed_div_reform
				has_reform = unitary_reform
			}
		}
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: V-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Obligations§!: I-II£up£"
			OR = {
				has_estate_privilege = estate_nobles_oblig_0
				has_estate_privilege = estate_nobles_oblig_1
			}
		}
		NOT = { has_estate_privilege = estate_nobles_rural_gov_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YMilitary Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_mil_auth_0
					has_estate_privilege = estate_nobles_mil_auth_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_inherit_0 = { set_country_flag = estate_nobles_inherit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_1 = { set_country_flag = estate_nobles_inherit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_2 = { set_country_flag = estate_nobles_inherit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_3 = { set_country_flag = estate_nobles_inherit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_4 = { set_country_flag = estate_nobles_inherit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_inherit_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_inherit_5
		clr_country_flag = noble_inherit_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = noble_patron_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_patron_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_patronage_0 
    tooltip = estate_nobles_patronage_0 
	potential = { FROM = { ai = no has_country_flag = noble_patron_window } }
    trigger = {  
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YFamilial Appointment§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_appoint_4
					has_estate_privilege = estate_nobles_appoint_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_patronage_0 = { clr_country_flag = no_estate_select }
				estate_nobles_patronage_1 = { set_country_flag = estate_nobles_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_2 = { set_country_flag = estate_nobles_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_3 = { set_country_flag = estate_nobles_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_4 = { set_country_flag = estate_nobles_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_patronage_0
		clr_country_flag = noble_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_patronage_1 
    tooltip = estate_nobles_patronage_1 
	potential = { FROM = { ai = no has_country_flag = noble_patron_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_patronage_0 = { set_country_flag = estate_nobles_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_1 = { clr_country_flag = no_estate_select }
				estate_nobles_patronage_2 = { set_country_flag = estate_nobles_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_3 = { set_country_flag = estate_nobles_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_4 = { set_country_flag = estate_nobles_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_patronage_1
		clr_country_flag = noble_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_patronage_2 
    tooltip = estate_nobles_patronage_2 
	potential = { FROM = { ai = no has_country_flag = noble_patron_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_patronage_0 = { set_country_flag = estate_nobles_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_1 = { set_country_flag = estate_nobles_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_2 = { clr_country_flag = no_estate_select }
				estate_nobles_patronage_3 = { set_country_flag = estate_nobles_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_4 = { set_country_flag = estate_nobles_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_patronage_2
		clr_country_flag = noble_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_patronage_3 
    tooltip = estate_nobles_patronage_3 
	potential = { FROM = { ai = no has_country_flag = noble_patron_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_patronage_0 = { set_country_flag = estate_nobles_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_1 = { set_country_flag = estate_nobles_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_2 = { set_country_flag = estate_nobles_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_3 = { clr_country_flag = no_estate_select }
				estate_nobles_patronage_4 = { set_country_flag = estate_nobles_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_patronage_3
		clr_country_flag = noble_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_patronage_4 
    tooltip = estate_nobles_patronage_4 
	potential = { FROM = { ai = no has_country_flag = noble_patron_window } }
    trigger = {  
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YFamilial Appointment§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_appoint_0
					has_estate_privilege = estate_nobles_appoint_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_patronage_0 = { set_country_flag = estate_nobles_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_1 = { set_country_flag = estate_nobles_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_2 = { set_country_flag = estate_nobles_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_3 = { set_country_flag = estate_nobles_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_patronage_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_patronage_4
		clr_country_flag = noble_patron_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = noble_appoint_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_appoint_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_appoint_0 
    tooltip = estate_nobles_appoint_0 
	potential = { FROM = { ai = no has_country_flag = noble_appoint_window } }
    trigger = {  
		has_institution = enlightenment
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: V-VI"
			OR = {
				has_reform = fed_div_reform
				has_reform = unitary_reform
			}
		}
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_4
				has_estate_privilege = estate_bureaucracy_recruit_5
			}
		}
		has_estate_privilege = estate_bureaucracy_office_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_3
				has_estate_privilege = estate_nobles_mil_auth_4
				has_estate_privilege = estate_nobles_mil_auth_5
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_appoint_0 = { clr_country_flag = no_estate_select }
				estate_nobles_appoint_1 = { set_country_flag = estate_nobles_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_2 = { set_country_flag = estate_nobles_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_3 = { set_country_flag = estate_nobles_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_4 = { set_country_flag = estate_nobles_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_5 = { set_country_flag = estate_nobles_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_appoint_0
		clr_country_flag = noble_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_appoint_1 
    tooltip = estate_nobles_appoint_1 
	potential = { FROM = { ai = no has_country_flag = noble_appoint_window } }
    trigger = {  
		has_institution = empiricism
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_3
				has_estate_privilege = estate_bureaucracy_recruit_4
				has_estate_privilege = estate_bureaucracy_recruit_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_3
				has_estate_privilege = estate_nobles_mil_auth_4
				has_estate_privilege = estate_nobles_mil_auth_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_office_0 }
		NOT = { has_estate_privilege = estate_nobles_hierarchy_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_appoint_0 = { set_country_flag = estate_nobles_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_1 = { clr_country_flag = no_estate_select }
				estate_nobles_appoint_2 = { set_country_flag = estate_nobles_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_3 = { set_country_flag = estate_nobles_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_4 = { set_country_flag = estate_nobles_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_5 = { set_country_flag = estate_nobles_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_appoint_1
		clr_country_flag = noble_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_appoint_2 
    tooltip = estate_nobles_appoint_2 
	potential = { FROM = { ai = no has_country_flag = noble_appoint_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_3
				has_estate_privilege = estate_nobles_mil_auth_4
				has_estate_privilege = estate_nobles_mil_auth_5
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRecruitment & Examination§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_recruit_0
					has_estate_privilege = estate_bureaucracy_recruit_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_privs_0
					has_estate_privilege = estate_nobles_privs_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_hierarchy_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_appoint_0 = { set_country_flag = estate_nobles_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_1 = { set_country_flag = estate_nobles_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_2 = { clr_country_flag = no_estate_select }
				estate_nobles_appoint_3 = { set_country_flag = estate_nobles_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_4 = { set_country_flag = estate_nobles_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_5 = { set_country_flag = estate_nobles_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_appoint_2
		clr_country_flag = noble_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_appoint_3 
    tooltip = estate_nobles_appoint_3 
	potential = { FROM = { ai = no has_country_flag = noble_appoint_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRecruitment & Examination§!: V-VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_recruit_4
					has_estate_privilege = estate_bureaucracy_recruit_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_mil_auth_5 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_appoint_0 = { set_country_flag = estate_nobles_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_1 = { set_country_flag = estate_nobles_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_2 = { set_country_flag = estate_nobles_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_3 = { clr_country_flag = no_estate_select }
				estate_nobles_appoint_4 = { set_country_flag = estate_nobles_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_5 = { set_country_flag = estate_nobles_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_appoint_3
		clr_country_flag = noble_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_appoint_4 
    tooltip = estate_nobles_appoint_4 
	potential = { FROM = { ai = no has_country_flag = noble_appoint_window } }
    trigger = {  
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: I-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_0
				has_estate_privilege = estate_bureaucracy_recruit_1
				has_estate_privilege = estate_bureaucracy_recruit_2
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_office_2 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YMilitary Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_mil_auth_4
					has_estate_privilege = estate_nobles_mil_auth_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_appoint_0 = { set_country_flag = estate_nobles_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_1 = { set_country_flag = estate_nobles_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_2 = { set_country_flag = estate_nobles_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_3 = { set_country_flag = estate_nobles_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_4 = { clr_country_flag = no_estate_select }
				estate_nobles_appoint_5 = { set_country_flag = estate_nobles_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_appoint_4
		clr_country_flag = noble_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_appoint_5 
    tooltip = estate_nobles_appoint_5 
	potential = { FROM = { ai = no has_country_flag = noble_appoint_window } }
    trigger = {  
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_0
				has_estate_privilege = estate_bureaucracy_recruit_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YMilitary Authority§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_mil_auth_0
				has_estate_privilege = estate_nobles_mil_auth_1
				has_estate_privilege = estate_nobles_mil_auth_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_office_2 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_appoint_0 = { set_country_flag = estate_nobles_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_1 = { set_country_flag = estate_nobles_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_2 = { set_country_flag = estate_nobles_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_3 = { set_country_flag = estate_nobles_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_4 = { set_country_flag = estate_nobles_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_appoint_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_appoint_5
		clr_country_flag = noble_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = fish_game_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = fish_game_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_fish_game_0 
    tooltip = estate_nobles_fish_game_0 
	potential = { FROM = { ai = no has_country_flag = fish_game_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YTenancy Rights§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_3
				has_estate_privilege = estate_nobles_tenancy_4
			}
		}
		has_estate_privilege = estate_nobles_privs_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Obligations§!: I-II£up£"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_fish_game_0 = { clr_country_flag = no_estate_select }
				estate_nobles_fish_game_1 = { set_country_flag = estate_nobles_fish_game_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_2 = { set_country_flag = estate_nobles_fish_game_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_3 = { set_country_flag = estate_nobles_fish_game_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_4 = { set_country_flag = estate_nobles_fish_game_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_fish_game_0
		clr_country_flag = fish_game_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_fish_game_1
    tooltip = estate_nobles_fish_game_1 
	potential = { FROM = { ai = no has_country_flag = fish_game_window } }
    trigger = {  
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_3
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_0
					has_estate_privilege = estate_nobles_tenancy_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_mil_auth_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_fish_game_0 = { set_country_flag = estate_nobles_fish_game_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_1 = { clr_country_flag = no_estate_select }
				estate_nobles_fish_game_2 = { set_country_flag = estate_nobles_fish_game_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_3 = { set_country_flag = estate_nobles_fish_game_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_4 = { set_country_flag = estate_nobles_fish_game_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_fish_game_1
		clr_country_flag = fish_game_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_fish_game_2 
    tooltip = estate_nobles_fish_game_2 
	potential = { FROM = { ai = no has_country_flag = fish_game_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: I; V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_0
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: I; V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_0
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_fish_game_0 = { set_country_flag = estate_nobles_fish_game_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_1 = { set_country_flag = estate_nobles_fish_game_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_2 = { clr_country_flag = no_estate_select }
				estate_nobles_fish_game_3 = { set_country_flag = estate_nobles_fish_game_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_4 = { set_country_flag = estate_nobles_fish_game_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_fish_game_2
		clr_country_flag = fish_game_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_fish_game_3 
    tooltip = estate_nobles_fish_game_3 
	potential = { FROM = { ai = no has_country_flag = fish_game_window } }
    trigger = {  
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = { has_reform = majority_participation_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_fish_game_0 = { set_country_flag = estate_nobles_fish_game_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_1 = { set_country_flag = estate_nobles_fish_game_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_2 = { set_country_flag = estate_nobles_fish_game_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_3 = { clr_country_flag = no_estate_select }
				estate_nobles_fish_game_4 = { set_country_flag = estate_nobles_fish_game_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_fish_game_3
		clr_country_flag = fish_game_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_fish_game_4
    tooltip = estate_nobles_fish_game_4 
	potential = { FROM = { ai = no has_country_flag = fish_game_window } }
    trigger = {  
		has_institution = feudalism
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: I-IV"
				OR = {
					has_reform = patchwork_realm_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
				has_estate_privilege = estate_nobles_rural_gov_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_3
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_com_law_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YTrade Charters§!: V"
				OR = {
					has_estate_privilege = estate_burghers_charters_4
					has_estate_privilege = estate_burghers_charters_6
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_fish_game_0 = { set_country_flag = estate_nobles_fish_game_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_1 = { set_country_flag = estate_nobles_fish_game_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_2 = { set_country_flag = estate_nobles_fish_game_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_3 = { set_country_flag = estate_nobles_fish_game_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_fish_game_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_fish_game_4
		clr_country_flag = fish_game_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = noble_forest_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_forest_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_forestry_0 
    tooltip = estate_nobles_forestry_0 
	potential = { FROM = { ai = no has_country_flag = noble_forest_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YTenancy Rights§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_3
				has_estate_privilege = estate_nobles_tenancy_4
			}
		}
		has_estate_privilege = estate_nobles_privs_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Obligations§!: I-II£up£"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_forestry_0 = { clr_country_flag = no_estate_select }
				estate_nobles_forestry_1 = { set_country_flag = estate_nobles_forestry_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_2 = { set_country_flag = estate_nobles_forestry_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_3 = { set_country_flag = estate_nobles_forestry_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_4 = { set_country_flag = estate_nobles_forestry_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_forestry_0
		clr_country_flag = noble_forest_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_forestry_1 
    tooltip = estate_nobles_forestry_1 
	potential = { FROM = { ai = no has_country_flag = noble_forest_window } }
    trigger = {  
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_3
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_0
					has_estate_privilege = estate_nobles_tenancy_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_mil_auth_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_forestry_0 = { set_country_flag = estate_nobles_forestry_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_1 = { clr_country_flag = no_estate_select }
				estate_nobles_forestry_2 = { set_country_flag = estate_nobles_forestry_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_3 = { set_country_flag = estate_nobles_forestry_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_4 = { set_country_flag = estate_nobles_forestry_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_forestry_1
		clr_country_flag = noble_forest_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_forestry_2 
    tooltip = estate_nobles_forestry_2 
	potential = { FROM = { ai = no has_country_flag = noble_forest_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: I; V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_0
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: I; V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_0
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_forestry_0 = { set_country_flag = estate_nobles_forestry_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_1 = { set_country_flag = estate_nobles_forestry_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_2 = { clr_country_flag = no_estate_select }
				estate_nobles_forestry_3 = { set_country_flag = estate_nobles_forestry_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_4 = { set_country_flag = estate_nobles_forestry_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_forestry_2
		clr_country_flag = noble_forest_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_forestry_3 
    tooltip = estate_nobles_forestry_3 
	potential = { FROM = { ai = no has_country_flag = noble_forest_window } }
    trigger = {  
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = { has_reform = majority_participation_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_forestry_0 = { set_country_flag = estate_nobles_forestry_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_1 = { set_country_flag = estate_nobles_forestry_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_2 = { set_country_flag = estate_nobles_forestry_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_3 = { clr_country_flag = no_estate_select }
				estate_nobles_forestry_4 = { set_country_flag = estate_nobles_forestry_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_forestry_3
		clr_country_flag = noble_forest_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_forestry_4 
    tooltip = estate_nobles_forestry_4 
	potential = { FROM = { ai = no has_country_flag = noble_forest_window } }
    trigger = {  
		has_institution = feudalism
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: I-IV"
				OR = {
					has_reform = patchwork_realm_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
				has_estate_privilege = estate_nobles_rural_gov_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_3
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_com_law_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YTrade Charters§!: V"
				OR = {
					has_estate_privilege = estate_burghers_charters_4
					has_estate_privilege = estate_burghers_charters_6
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_forestry_0 = { set_country_flag = estate_nobles_forestry_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_1 = { set_country_flag = estate_nobles_forestry_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_2 = { set_country_flag = estate_nobles_forestry_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_3 = { set_country_flag = estate_nobles_forestry_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_forestry_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_forestry_4
		clr_country_flag = noble_forest_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = noble_process_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = noble_process_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_nobles_processing_0 
    tooltip = estate_nobles_processing_0 
	potential = { FROM = { ai = no has_country_flag = noble_process_window } }
    trigger = {  
		NOT = { has_reform = devolution_priv_reform }
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YTenancy Rights§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_tenancy_3
				has_estate_privilege = estate_nobles_tenancy_4
			}
		}
		has_estate_privilege = estate_nobles_privs_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Obligations§!: I-II£up£"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_processing_0 = { clr_country_flag = no_estate_select }
				estate_nobles_processing_1 = { set_country_flag = estate_nobles_processing_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_2 = { set_country_flag = estate_nobles_processing_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_3 = { set_country_flag = estate_nobles_processing_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_4 = { set_country_flag = estate_nobles_processing_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_processing_0
		clr_country_flag = noble_process_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_processing_1 
    tooltip = estate_nobles_processing_1 
	potential = { FROM = { ai = no has_country_flag = noble_process_window } }
    trigger = {  
		NOT = { has_reform = feudal_tenure_econ_reform }
		NOT = { has_reform = feudal_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: IV-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_3
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: I-II"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_0
					has_estate_privilege = estate_nobles_tenancy_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_mil_auth_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_processing_0 = { set_country_flag = estate_nobles_processing_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_1 = { clr_country_flag = no_estate_select }
				estate_nobles_processing_2 = { set_country_flag = estate_nobles_processing_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_3 = { set_country_flag = estate_nobles_processing_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_4 = { set_country_flag = estate_nobles_processing_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_processing_1
		clr_country_flag = noble_process_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_processing_2 
    tooltip = estate_nobles_processing_2 
	potential = { FROM = { ai = no has_country_flag = noble_process_window } }
    trigger = {  
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = { has_reform = majority_participation_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_processing_0 = { set_country_flag = estate_nobles_processing_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_1 = { set_country_flag = estate_nobles_processing_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_2 = { clr_country_flag = no_estate_select }
				estate_nobles_processing_3 = { set_country_flag = estate_nobles_processing_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_4 = { set_country_flag = estate_nobles_processing_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_processing_2
		clr_country_flag = noble_process_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_processing_3 
    tooltip = estate_nobles_processing_3 
	potential = { FROM = { ai = no has_country_flag = noble_process_window } }
    trigger = {  
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = { has_reform = majority_participation_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_4
					has_estate_privilege = estate_nobles_rural_gov_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_tenancy_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_privs_3
					has_estate_privilege = estate_nobles_privs_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_processing_0 = { set_country_flag = estate_nobles_processing_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_1 = { set_country_flag = estate_nobles_processing_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_2 = { set_country_flag = estate_nobles_processing_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_3 = { clr_country_flag = no_estate_select }
				estate_nobles_processing_4 = { set_country_flag = estate_nobles_processing_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_nobles_processing_3
		clr_country_flag = noble_process_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_nobles_processing_4 
    tooltip = estate_nobles_processing_4 
	potential = { FROM = { ai = no has_country_flag = noble_process_window } }
    trigger = {  
		has_institution = feudalism
		OR = {
			has_reform = feudal_tenure_econ_reform
			has_reform = feudal_elite_reform
		}
		NOT = { has_reform = industrial_cap_econ_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform
					has_reform = majority_participation_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: I-IV"
				OR = {
					has_reform = patchwork_realm_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
				has_estate_privilege = estate_nobles_rural_gov_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YTenancy Rights§!: IV-V"
				OR = {
					has_estate_privilege = estate_nobles_tenancy_3
					has_estate_privilege = estate_nobles_tenancy_4
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_com_law_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YTrade Charters§!: V"
				OR = {
					has_estate_privilege = estate_burghers_charters_4
					has_estate_privilege = estate_burghers_charters_6
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_nobles_processing_0 = { set_country_flag = estate_nobles_processing_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_1 = { set_country_flag = estate_nobles_processing_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_2 = { set_country_flag = estate_nobles_processing_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_3 = { set_country_flag = estate_nobles_processing_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_nobles_processing_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_nobles_processing_4
		clr_country_flag = noble_process_window #clr_country_flag = no_estate_select
	} #Effect
}