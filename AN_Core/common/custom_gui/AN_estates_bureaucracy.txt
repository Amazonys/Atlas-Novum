##### BUREAUCRACY #####
### Rev Collect
custom_window = {
    name = rev_collect_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = rev_collect_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_rev_collect_0 
    tooltip = estate_bureaucracy_rev_collect_0 
    potential = { FROM = { ai = no has_country_flag = rev_collect_window } } 
    trigger = {
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: I-III"
			OR = {
				has_reform = subsist_econ_reform
				has_reform = traditional_econ_reform
				has_reform = feudal_tenure_econ_reform
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: I-II"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_0
				has_estate_privilege = estate_court_crown_revenue_1
			}
		}
		has_estate_privilege = estate_bureaucracy_central_admin_0
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_0		
				has_estate_privilege = estate_bureaucracy_local_admin_1
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_0	
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}			
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_rev_collect_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_rev_collect_1 = { set_country_flag = estate_bureaucracy_rev_collect_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_2 = { set_country_flag = estate_bureaucracy_rev_collect_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_3 = { set_country_flag = estate_bureaucracy_rev_collect_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_4 = { set_country_flag = estate_bureaucracy_rev_collect_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_5 = { set_country_flag = estate_bureaucracy_rev_collect_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_6 = { set_country_flag = estate_bureaucracy_rev_collect_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_rev_collect_0
		clr_country_flag = rev_collect_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_rev_collect_1 
    tooltip = estate_bureaucracy_rev_collect_1 
    potential = { FROM = { ai = no has_country_flag = rev_collect_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: I-III"
			OR = {
				has_reform = subsist_econ_reform
				has_reform = traditional_econ_reform
				has_reform = feudal_tenure_econ_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: I-II"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_0
				has_estate_privilege = estate_court_crown_revenue_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_1
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_central_admin_1
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: I-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_0		
				has_estate_privilege = estate_bureaucracy_local_admin_1
				has_estate_privilege = estate_bureaucracy_local_admin_2
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_0
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}			
		}	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_rev_collect_0 = { set_country_flag = estate_bureaucracy_rev_collect_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_rev_collect_2 = { set_country_flag = estate_bureaucracy_rev_collect_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_3 = { set_country_flag = estate_bureaucracy_rev_collect_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_4 = { set_country_flag = estate_bureaucracy_rev_collect_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_5 = { set_country_flag = estate_bureaucracy_rev_collect_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_6 = { set_country_flag = estate_bureaucracy_rev_collect_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_rev_collect_1
		clr_country_flag = rev_collect_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_rev_collect_2 
    tooltip = estate_bureaucracy_rev_collect_2 
	potential = { FROM = { ai = no has_country_flag = rev_collect_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: II-VI"
			OR = {
				has_reform = traditional_econ_reform
				has_reform = feudal_tenure_econ_reform
				has_reform = mercantilist_econ_reform
				has_reform = laissez_faire_econ_reform
				has_reform = industrial_cap_econ_reform
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform				
					has_reform = majority_participation_reform
				}
			}			
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: II-VI"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_1
				has_estate_privilege = estate_court_crown_revenue_2
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: II-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_1
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: I-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_0		
				has_estate_privilege = estate_bureaucracy_local_admin_1
				has_estate_privilege = estate_bureaucracy_local_admin_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_hierarchy_0
				has_estate_privilege = estate_bureaucracy_hierarchy_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_0
				has_estate_privilege = estate_bureaucracy_oversight_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Obligations§!: I-II£up£"
				OR = {
					has_estate_privilege = estate_nobles_oblig_0
					has_estate_privilege = estate_nobles_oblig_1
				}
			}			
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_rev_collect_0 = { set_country_flag = estate_bureaucracy_rev_collect_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_1 = { set_country_flag = estate_bureaucracy_rev_collect_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_rev_collect_3 = { set_country_flag = estate_bureaucracy_rev_collect_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_4 = { set_country_flag = estate_bureaucracy_rev_collect_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_5 = { set_country_flag = estate_bureaucracy_rev_collect_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_6 = { set_country_flag = estate_bureaucracy_rev_collect_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_rev_collect_2
		clr_country_flag = rev_collect_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_rev_collect_3 
    tooltip = estate_bureaucracy_rev_collect_3 
	potential = { FROM = { ai = no has_country_flag = rev_collect_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: II-VI"
			OR = {
				has_reform = traditional_econ_reform
				has_reform = feudal_tenure_econ_reform
				has_reform = mercantilist_econ_reform
				has_reform = laissez_faire_econ_reform
				has_reform = industrial_cap_econ_reform
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YCivil Society§!: VII-IIX"
				OR = {
					has_reform = petit_bourgeoisie_reform				
					has_reform = majority_participation_reform
				}
			}			
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_2
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: III-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: III-VI"
			OR = {						
				has_estate_privilege = estate_bureaucracy_local_admin_2
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: II-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_hierarchy_1
				has_estate_privilege = estate_bureaucracy_hierarchy_2
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: II-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_1
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_rev_collect_0 = { set_country_flag = estate_bureaucracy_rev_collect_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_1 = { set_country_flag = estate_bureaucracy_rev_collect_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_2 = { set_country_flag = estate_bureaucracy_rev_collect_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_3 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_rev_collect_4 = { set_country_flag = estate_bureaucracy_rev_collect_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_5 = { set_country_flag = estate_bureaucracy_rev_collect_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_6 = { set_country_flag = estate_bureaucracy_rev_collect_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_rev_collect_3
		clr_country_flag = rev_collect_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_rev_collect_4 
    tooltip = estate_bureaucracy_rev_collect_4 
    potential = { FROM = { ai = no has_country_flag = rev_collect_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: II-V"
			OR = {
				has_reform = nonstandard_div_reform
				has_reform = regionalism_reform
				has_reform = prov_div_reform
				has_reform = fed_div_reform
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: II-VI"
			OR = {
				has_reform = traditional_econ_reform
				has_reform = feudal_tenure_econ_reform
				has_reform = mercantilist_econ_reform
				has_reform = laissez_faire_econ_reform
				has_reform = industrial_cap_econ_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_3
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: III-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: IV-VI"
			OR = {						
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: II-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_1
				has_estate_privilege = estate_bureaucracy_leg_app_2
				has_estate_privilege = estate_bureaucracy_leg_app_3
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: II-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_1
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_rev_collect_0 = { set_country_flag = estate_bureaucracy_rev_collect_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_1 = { set_country_flag = estate_bureaucracy_rev_collect_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_2 = { set_country_flag = estate_bureaucracy_rev_collect_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_3 = { set_country_flag = estate_bureaucracy_rev_collect_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_4 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_rev_collect_5 = { set_country_flag = estate_bureaucracy_rev_collect_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_6 = { set_country_flag = estate_bureaucracy_rev_collect_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_rev_collect_4
		clr_country_flag = rev_collect_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_rev_collect_5 
    tooltip = estate_bureaucracy_rev_collect_5 
    potential = { FROM = { ai = no has_country_flag = rev_collect_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: IV-VI"
			OR = {
				has_reform = prov_div_reform
				has_reform = fed_div_reform
				has_reform = unitary_reform	
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: II-VI"
			OR = {
				has_reform = traditional_econ_reform
				has_reform = feudal_tenure_econ_reform
				has_reform = mercantilist_econ_reform
				has_reform = laissez_faire_econ_reform
				has_reform = industrial_cap_econ_reform
			}
		}
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_4
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: III-V"
			OR = {
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: V-VI"
			OR = {						
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: III-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_2
				has_estate_privilege = estate_bureaucracy_leg_app_3
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: III-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_2
				has_estate_privilege = estate_bureaucracy_prov_justice_3
				has_estate_privilege = estate_bureaucracy_prov_justice_4
				has_estate_privilege = estate_bureaucracy_prov_justice_5
				has_estate_privilege = estate_bureaucracy_prov_justice_6
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: II-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_1
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Wages§!: II-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_wages_1
				has_estate_privilege = estate_bureaucracy_wages_2
				has_estate_privilege = estate_bureaucracy_wages_3
			}
		}
		NOT = { has_estate_privilege = estate_burghers_urban_gov_3 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_rev_collect_0 = { set_country_flag = estate_bureaucracy_rev_collect_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_1 = { set_country_flag = estate_bureaucracy_rev_collect_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_2 = { set_country_flag = estate_bureaucracy_rev_collect_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_3 = { set_country_flag = estate_bureaucracy_rev_collect_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_4 = { set_country_flag = estate_bureaucracy_rev_collect_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_5 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_rev_collect_6 = { set_country_flag = estate_bureaucracy_rev_collect_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_rev_collect_5
		clr_country_flag = rev_collect_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_rev_collect_6 
    tooltip = estate_bureaucracy_rev_collect_6 
	potential = { FROM = { ai = no has_country_flag = rev_collect_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: IV-VI"
			OR = {
				has_reform = prov_div_reform
				has_reform = fed_div_reform
				has_reform = unitary_reform	
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: III-VI"
			OR = {
				has_reform = feudal_tenure_econ_reform
				has_reform = mercantilist_econ_reform
				has_reform = laissez_faire_econ_reform
				has_reform = industrial_cap_econ_reform
			}
		}
		NOT = { has_reform = patchwork_realm_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YRevenue & Tribute§!: VI"
			OR = {
				has_estate_privilege = estate_court_crown_revenue_5
				has_estate_privilege = estate_court_crown_revenue_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V"
			OR = {
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: V-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£ §YRight of Mint§!: II-III"
			OR = {
				has_estate_privilege = estate_court_mint_1
				has_estate_privilege = estate_court_mint_2
			}
		}
		has_estate_privilege = estate_bureaucracy_central_admin_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: VI"
			OR = {						
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: III-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_2
				has_estate_privilege = estate_bureaucracy_leg_app_3
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: III-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_2
				has_estate_privilege = estate_bureaucracy_prov_justice_3
				has_estate_privilege = estate_bureaucracy_prov_justice_4
				has_estate_privilege = estate_bureaucracy_prov_justice_5
				has_estate_privilege = estate_bureaucracy_prov_justice_6
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Wages§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_wages_2
				has_estate_privilege = estate_bureaucracy_wages_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YPublic Banking§!: II-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_banking_1
				has_estate_privilege = estate_bureaucracy_banking_2
				has_estate_privilege = estate_bureaucracy_banking_3
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-II"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_rural_gov_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_rev_collect_0 = { set_country_flag = estate_bureaucracy_rev_collect_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_1 = { set_country_flag = estate_bureaucracy_rev_collect_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_2 = { set_country_flag = estate_bureaucracy_rev_collect_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_3 = { set_country_flag = estate_bureaucracy_rev_collect_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_4 = { set_country_flag = estate_bureaucracy_rev_collect_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_5 = { set_country_flag = estate_bureaucracy_rev_collect_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_rev_collect_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_rev_collect_6
		clr_country_flag = rev_collect_window #clr_country_flag = no_estate_select
	} #Effect
}

### Central Admin
custom_window = {
    name = central_admin_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = central_admin_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_central_admin_0 
    tooltip = estate_bureaucracy_central_admin_0 
	potential = { FROM = { ai = no has_country_flag = central_admin_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YAdministrative Division§!: IV-VI"
				OR = {
					has_reform = prov_div_reform
					has_reform = fed_div_reform
					has_reform = unitary_reform	
				}
			}	
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_0
				has_estate_privilege = estate_bureaucracy_local_admin_1
			}
		}		
		has_estate_privilege = estate_bureaucracy_hierarchy_0
		has_estate_privilege = estate_bureaucracy_oversight_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_central_admin_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_central_admin_1 = { set_country_flag = estate_bureaucracy_central_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_2 = { set_country_flag = estate_bureaucracy_central_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_3 = { set_country_flag = estate_bureaucracy_central_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_4 = { set_country_flag = estate_bureaucracy_central_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_central_admin_0
		clr_country_flag = central_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_central_admin_1 
    tooltip = estate_bureaucracy_central_admin_1 
	potential = { FROM = { ai = no has_country_flag = central_admin_window } }
    trigger = {  
		NOT = { has_reform = unitary_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: II-V"
			OR = {
				has_estate_privilege = estate_court_advisors_1
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_central_admin_0 = { set_country_flag = estate_bureaucracy_central_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_central_admin_2 = { set_country_flag = estate_bureaucracy_central_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_3 = { set_country_flag = estate_bureaucracy_central_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_4 = { set_country_flag = estate_bureaucracy_central_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_central_admin_1
		clr_country_flag = central_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_central_admin_2 
    tooltip = estate_bureaucracy_central_admin_2 
	potential = { FROM = { ai = no has_country_flag = central_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: II-V"
			OR = {
				has_estate_privilege = estate_court_advisors_1
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: II-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_1
				has_estate_privilege = estate_bureaucracy_rev_collect_2
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: II-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_1
				has_estate_privilege = estate_bureaucracy_local_admin_2
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: II-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_1
				has_estate_privilege = estate_bureaucracy_leg_app_2
				has_estate_privilege = estate_bureaucracy_leg_app_3
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: II-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_1
				has_estate_privilege = estate_bureaucracy_prov_justice_2
				has_estate_privilege = estate_bureaucracy_prov_justice_3
				has_estate_privilege = estate_bureaucracy_prov_justice_4
				has_estate_privilege = estate_bureaucracy_prov_justice_5
				has_estate_privilege = estate_bureaucracy_prov_justice_6
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_central_admin_0 = { set_country_flag = estate_bureaucracy_central_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_1 = { set_country_flag = estate_bureaucracy_central_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_central_admin_3 = { set_country_flag = estate_bureaucracy_central_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_4 = { set_country_flag = estate_bureaucracy_central_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_central_admin_2
		clr_country_flag = central_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_central_admin_3 
    tooltip = estate_bureaucracy_central_admin_3 
	potential = { FROM = { ai = no has_country_flag = central_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YAdministrative Division§!: I-II"
				OR = {
					has_reform = no_div_reform
					has_reform = nonstandard_div_reform
				}
			}
		}
		NOT = { has_reform = subsist_econ_reform }
		OR = {
			AND = {
				has_estate_privilege = estate_bureaucracy_hierarchy_2
				has_estate_privilege = estate_bureaucracy_oversight_1
			}
			AND = {		
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Authority§!: V-VI"
					OR = {
						has_estate_privilege = estate_court_regal_auth_6
						has_estate_privilege = estate_court_regal_auth_7
					}
				}
				#custom_trigger_tooltip = {
				#	tooltip = "Has granted £court£§YCourt Politics§!: VI-IIX£up£"
				#	OR = {
				#		has_estate_privilege = estate_court_politics_5
				#		has_estate_privilege = estate_court_politics_6
				#		has_estate_privilege = estate_court_politics_7
				#	}
				#}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
					OR = {
						has_estate_privilege = estate_court_hierarchy_2
						has_estate_privilege = estate_court_hierarchy_3
					}
				}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Prerogative§!: VI-VII"
					OR = {
						has_estate_privilege = estate_court_prerog_5
						has_estate_privilege = estate_court_prerog_6
					}
				}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YPower of Appointment§!: VI-VII"
					OR = {
						has_estate_privilege = estate_court_appoint_5
						has_estate_privilege = estate_court_appoint_6
					}
				}				
				custom_trigger_tooltip = {
					tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: II-III"
					OR = {
						has_estate_privilege = estate_bureaucracy_hierarchy_1					
						has_estate_privilege = estate_bureaucracy_hierarchy_2					
					}
				}				
				custom_trigger_tooltip = {
					tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: II-III"
					OR = {
						has_estate_privilege = estate_bureaucracy_oversight_1
						has_estate_privilege = estate_bureaucracy_oversight_2
					}
				}				
				NOT = { has_estate_privilege = estate_court_advisors_0 }
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_recruit_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_central_admin_0 = { set_country_flag = estate_bureaucracy_central_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_1 = { set_country_flag = estate_bureaucracy_central_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_2 = { set_country_flag = estate_bureaucracy_central_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_3 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_central_admin_4 = { set_country_flag = estate_bureaucracy_central_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_central_admin_3
		clr_country_flag = central_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_central_admin_4 
    tooltip = estate_bureaucracy_central_admin_4 
	potential = { FROM = { ai = no has_country_flag = central_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: IV-VI"
			OR = {
				has_reform = prov_div_reform					
				has_reform = fed_div_reform
				has_reform = unitary_reform
			}
		}
		NOT = { has_reform = devolution_priv_reform }	
		NOT = { has_reform = subsist_econ_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: V-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_3
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_prov_justice_4
				has_estate_privilege = estate_bureaucracy_prov_justice_5
			}
		}		
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		has_estate_privilege = estate_bureaucracy_oversight_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_3
				has_estate_privilege = estate_bureaucracy_recruit_4
				has_estate_privilege = estate_bureaucracy_recruit_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Wages§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_wages_2
				has_estate_privilege = estate_bureaucracy_wages_3
			}
		}		
		NOT = { has_estate_privilege = estate_court_crown_revenue_6 }
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_tenure_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_office_0 }
		NOT = { has_estate_privilege = estate_church_temp_auth_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YFamilial Appointment§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_appoint_4
					has_estate_privilege = estate_nobles_appoint_5
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YUrban Governance§!: I-II"
				OR = {
					has_estate_privilege = estate_burghers_urban_gov_0
					has_estate_privilege = estate_burghers_urban_gov_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_finance_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_central_admin_0 = { set_country_flag = estate_bureaucracy_central_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_1 = { set_country_flag = estate_bureaucracy_central_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_2 = { set_country_flag = estate_bureaucracy_central_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_3 = { set_country_flag = estate_bureaucracy_central_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_central_admin_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_central_admin_4
		clr_country_flag = central_admin_window #clr_country_flag = no_estate_select
	} #Effect
}

### Local Admin
custom_window = {
    name = local_admin_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = local_admin_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_local_admin_0 
    tooltip = estate_bureaucracy_local_admin_0 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = { 
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_central_admin_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: I-III"
			OR = {
				has_estate_privilege = estate_church_temp_auth_0
				has_estate_privilege = estate_church_temp_auth_1
				has_estate_privilege = estate_church_temp_auth_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YUrban Governance§!: I-IV£up£"
			OR = {
				has_estate_privilege = estate_burghers_urban_gov_0
				has_estate_privilege = estate_burghers_urban_gov_1
				has_estate_privilege = estate_burghers_urban_gov_2
				has_estate_privilege = estate_burghers_urban_gov_3
			}
		}		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_local_admin_1 = { set_country_flag = estate_bureaucracy_local_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_2 = { set_country_flag = estate_bureaucracy_local_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_3 = { set_country_flag = estate_bureaucracy_local_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_4 = { set_country_flag = estate_bureaucracy_local_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_5 = { set_country_flag = estate_bureaucracy_local_admin_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_6 = { set_country_flag = estate_bureaucracy_local_admin_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_7 = { set_country_flag = estate_bureaucracy_local_admin_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_0
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_local_admin_1 
    tooltip = estate_bureaucracy_local_admin_1 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YAdministrative Division§!: IV-VI"
				OR = {
					has_reform = prov_div_reform
					has_reform = fed_div_reform
					has_reform = unitary_reform	
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: II-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_1
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		#custom_trigger_tooltip = {
		#	tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: II-III"
		#	OR = {
		#		has_estate_privilege = estate_bureaucracy_hierarchy_1
		#		has_estate_privilege = estate_bureaucracy_hierarchy_2
		#	}
		#}				
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: VII-IIX£down£"
				OR = {
					has_estate_privilege = estate_court_politics_8
					has_estate_privilege = estate_court_politics_9
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { set_country_flag = estate_bureaucracy_local_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_local_admin_2 = { set_country_flag = estate_bureaucracy_local_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_3 = { set_country_flag = estate_bureaucracy_local_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_4 = { set_country_flag = estate_bureaucracy_local_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_5 = { set_country_flag = estate_bureaucracy_local_admin_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_6 = { set_country_flag = estate_bureaucracy_local_admin_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_7 = { set_country_flag = estate_bureaucracy_local_admin_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_1
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_local_admin_2 
    tooltip = estate_bureaucracy_local_admin_2 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		has_estate_privilege = estate_bureaucracy_central_admin_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Hierarchy§!: III-V"
			OR = {
				has_estate_privilege = estate_church_hierarchy_2
				has_estate_privilege = estate_church_hierarchy_3
				has_estate_privilege = estate_church_hierarchy_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YAristocratic Hierarchy§!: III-V"
			OR = {
				has_estate_privilege = estate_nobles_hierarchy_2
				has_estate_privilege = estate_nobles_hierarchy_3
				has_estate_privilege = estate_nobles_hierarchy_4
				has_estate_privilege = estate_nobles_hierarchy_5
				has_estate_privilege = estate_nobles_hierarchy_6
			}
		}		
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £burghers£§YProfessional Trades§!: III-V£up£"
				OR = {
					has_estate_privilege = estate_burghers_prof_trade_2
					has_estate_privilege = estate_burghers_prof_trade_3
					has_estate_privilege = estate_burghers_prof_trade_4
				}
			}			
			has_estate_privilege = estate_burghers_hierarchy_4
		}
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { set_country_flag = estate_bureaucracy_local_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_1 = { set_country_flag = estate_bureaucracy_local_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_local_admin_3 = { set_country_flag = estate_bureaucracy_local_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_4 = { set_country_flag = estate_bureaucracy_local_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_5 = { set_country_flag = estate_bureaucracy_local_admin_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_6 = { set_country_flag = estate_bureaucracy_local_admin_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_7 = { set_country_flag = estate_bureaucracy_local_admin_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_2
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_local_admin_3 
    tooltip = estate_bureaucracy_local_admin_3 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_reform = unitary_reform }
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: III-IV"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_2
					has_estate_privilege = estate_bureaucracy_central_admin_3
				}
			}	
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £church£§YClerical Hierarchy§!: III-V"
					OR = {
						has_estate_privilege = estate_church_hierarchy_2
						has_estate_privilege = estate_church_hierarchy_3
						has_estate_privilege = estate_church_hierarchy_4
					}
				}
				custom_trigger_tooltip = {
					tooltip = "Has granted £nobles£§YAristocratic Hierarchy§!: III-V"
					OR = {
						has_estate_privilege = estate_nobles_hierarchy_2
						has_estate_privilege = estate_nobles_hierarchy_3
						has_estate_privilege = estate_nobles_hierarchy_4
						has_estate_privilege = estate_nobles_hierarchy_5
						has_estate_privilege = estate_nobles_hierarchy_6
					}
				}				
				OR = {
					custom_trigger_tooltip = {
						tooltip = "Has granted £burghers£§YProfessional Trades§!: III-V£up£"
						OR = {
							has_estate_privilege = estate_burghers_assembly_2
							has_estate_privilege = estate_burghers_assembly_3
							has_estate_privilege = estate_burghers_assembly_4
						}
					}
					has_estate_privilege = estate_burghers_hierarchy_4
				}
				NOT = {
					custom_trigger_tooltip = {
						tooltip = "Has not granted £court£§YCourt Authority§!: I-II£up£"
						OR = {
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
						}
					}
					has_estate_privilege = estate_court_crown_revenue_0
					#custom_trigger_tooltip = {
					#	tooltip = "Has not granted £court£§YCourt Politics§!: I-III"
					#	OR = {
					#		has_estate_privilege = estate_court_politics_0
					#		has_estate_privilege = estate_court_politics_1
					#		has_estate_privilege = estate_court_politics_2
					#	}
					#}
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRevenue Collection§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_0
					has_estate_privilege = estate_bureaucracy_rev_collect_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { set_country_flag = estate_bureaucracy_local_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_1 = { set_country_flag = estate_bureaucracy_local_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_2 = { set_country_flag = estate_bureaucracy_local_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_3 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_local_admin_4 = { set_country_flag = estate_bureaucracy_local_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_5 = { set_country_flag = estate_bureaucracy_local_admin_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_6 = { set_country_flag = estate_bureaucracy_local_admin_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_7 = { set_country_flag = estate_bureaucracy_local_admin_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_3
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_local_admin_4 
    tooltip = estate_bureaucracy_local_admin_4 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: IV-V"
			OR = {
				has_reform = prov_div_reform
				has_reform = fed_div_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
			}
		}
		has_estate_privilege = estate_bureaucracy_central_admin_3
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-II; V"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
					has_estate_privilege = estate_bureaucracy_prov_justice_4
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YUrban Governance§!: I-III£up£"
				OR = {
					has_estate_privilege = estate_burghers_urban_gov_0
					has_estate_privilege = estate_burghers_urban_gov_1
					has_estate_privilege = estate_burghers_urban_gov_2
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { set_country_flag = estate_bureaucracy_local_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_1 = { set_country_flag = estate_bureaucracy_local_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_2 = { set_country_flag = estate_bureaucracy_local_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_3 = { set_country_flag = estate_bureaucracy_local_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_4 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_local_admin_5 = { set_country_flag = estate_bureaucracy_local_admin_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_6 = { set_country_flag = estate_bureaucracy_local_admin_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_7 = { set_country_flag = estate_bureaucracy_local_admin_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_4
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_local_admin_5 
    tooltip = estate_bureaucracy_local_admin_5 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YAdministrative Division§!: I-II; VI"
				OR = {
					has_reform = no_div_reform
					has_reform = nonstandard_div_reform
					has_reform = unitary_reform
				}
			}
		}
		NOT = { has_reform = subsist_econ_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YUrban Governance§!: IV-VI"
			OR = {
				has_estate_privilege = estate_burghers_urban_gov_3
				has_estate_privilege = estate_burghers_urban_gov_4
				has_estate_privilege = estate_burghers_urban_gov_6
				has_estate_privilege = estate_burghers_urban_gov_7
				has_estate_privilege = estate_burghers_urban_gov_8
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-II; V"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
					has_estate_privilege = estate_bureaucracy_prov_justice_4
				}
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_0
					has_estate_privilege = estate_nobles_rural_gov_1
					has_estate_privilege = estate_nobles_rural_gov_2
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { set_country_flag = estate_bureaucracy_local_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_1 = { set_country_flag = estate_bureaucracy_local_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_2 = { set_country_flag = estate_bureaucracy_local_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_3 = { set_country_flag = estate_bureaucracy_local_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_4 = { set_country_flag = estate_bureaucracy_local_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_5 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_local_admin_6 = { set_country_flag = estate_bureaucracy_local_admin_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_7 = { set_country_flag = estate_bureaucracy_local_admin_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_5
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_local_admin_6 
    tooltip = estate_bureaucracy_local_admin_6 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: IV-VI"
			OR = {
				has_reform = prov_div_reform
				has_reform = fed_div_reform
				has_reform = unitary_reform
			}
		}
		NOT = { has_reform = subsist_econ_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
			}
		}
		has_estate_privilege = estate_bureaucracy_central_admin_3
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YUrban Governance§!: I-IV£up£"
				OR = {
					has_estate_privilege = estate_burghers_urban_gov_0
					has_estate_privilege = estate_burghers_urban_gov_1
					has_estate_privilege = estate_burghers_urban_gov_2
					has_estate_privilege = estate_burghers_urban_gov_3
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { set_country_flag = estate_bureaucracy_local_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_1 = { set_country_flag = estate_bureaucracy_local_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_2 = { set_country_flag = estate_bureaucracy_local_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_3 = { set_country_flag = estate_bureaucracy_local_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_4 = { set_country_flag = estate_bureaucracy_local_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_5 = { set_country_flag = estate_bureaucracy_local_admin_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_6 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_local_admin_7 = { set_country_flag = estate_bureaucracy_local_admin_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_6
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_local_admin_7 
    tooltip = estate_bureaucracy_local_admin_7 
	potential = { FROM = { ai = no has_country_flag = local_admin_window } }
    trigger = {  
		has_institution = bureaucracy
		has_reform = unitary_reform
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YPower Structure§!: I-II"
				OR = {
					has_reform = devolution_priv_reform
					has_reform = devolution_appoint_reform
				}
			}
		}
		NOT = { has_reform = subsist_econ_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YUrban Governance§!: IV-VI£down£"
			OR = {
				has_estate_privilege = estate_burghers_urban_gov_6
				has_estate_privilege = estate_burghers_urban_gov_7
				has_estate_privilege = estate_burghers_urban_gov_8
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-II; IV"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
					has_estate_privilege = estate_bureaucracy_prov_justice_3
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-II"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YRural Governance§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_0
					has_estate_privilege = estate_nobles_rural_gov_1
					has_estate_privilege = estate_nobles_rural_gov_2
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_local_admin_0 = { set_country_flag = estate_bureaucracy_local_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_1 = { set_country_flag = estate_bureaucracy_local_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_2 = { set_country_flag = estate_bureaucracy_local_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_3 = { set_country_flag = estate_bureaucracy_local_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_4 = { set_country_flag = estate_bureaucracy_local_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_5 = { set_country_flag = estate_bureaucracy_local_admin_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_6 = { set_country_flag = estate_bureaucracy_local_admin_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_local_admin_7 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_local_admin_7
		clr_country_flag = local_admin_window #clr_country_flag = no_estate_select
	} #Effect
}

###Leg App
custom_window = {
    name = leg_app_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = leg_app_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_leg_app_0 
    tooltip = estate_bureaucracy_leg_app_0 
	potential = { FROM = { ai = no has_country_flag = leg_app_window } }
    trigger = {  
		if = {
			limit = { government = monarchy }
			NOT = {
				custom_trigger_tooltip = {
					tooltip = "Has not enacted §YSource of Legitimacy§!: IV-VI"
					OR = {
						has_reform = investiture_reform
						has_reform = consent_elite_reform
						has_reform = consent_governed_reform
					}
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_central_admin_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_leg_app_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_leg_app_1 = { set_country_flag = estate_bureaucracy_leg_app_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_2 = { set_country_flag = estate_bureaucracy_leg_app_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_3 = { set_country_flag = estate_bureaucracy_leg_app_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_4 = { set_country_flag = estate_bureaucracy_leg_app_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_5 = { set_country_flag = estate_bureaucracy_leg_app_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_6 = { set_country_flag = estate_bureaucracy_leg_app_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_leg_app_0
		clr_country_flag = leg_app_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_leg_app_1 
    tooltip = estate_bureaucracy_leg_app_1 
	potential = { FROM = { ai = no has_country_flag = leg_app_window } }
    trigger = {  
		if = { 
			limit = { government = monarchy }
			custom_trigger_tooltip = {
				tooltip = "Has enacted §YSovereignty§!: III-V"
				OR = {
					has_reform = rule_might_reform
					has_reform = rule_influence_reform
					has_reform = rule_mandate_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: II-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_1
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}				
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Politics§!: VII-IIX£down£"
				OR = {
					has_estate_privilege = estate_court_politics_8
					has_estate_privilege = estate_court_politics_9
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_leg_app_0 = { set_country_flag = estate_bureaucracy_leg_app_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_leg_app_2 = { set_country_flag = estate_bureaucracy_leg_app_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_3 = { set_country_flag = estate_bureaucracy_leg_app_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_4 = { set_country_flag = estate_bureaucracy_leg_app_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_5 = { set_country_flag = estate_bureaucracy_leg_app_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_6 = { set_country_flag = estate_bureaucracy_leg_app_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_leg_app_1
		clr_country_flag = leg_app_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_leg_app_2 
    tooltip = estate_bureaucracy_leg_app_2 
	potential = { FROM = { ai = no has_country_flag = leg_app_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Authority§!: III-VI"
			OR = {
				has_estate_privilege = estate_court_regal_auth_4
				has_estate_privilege = estate_court_regal_auth_5
				has_estate_privilege = estate_court_regal_auth_6
				has_estate_privilege = estate_court_regal_auth_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: II-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_1
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}	
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: II-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_1
				has_estate_privilege = estate_bureaucracy_local_admin_2
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_leg_app_0 = { set_country_flag = estate_bureaucracy_leg_app_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_1 = { set_country_flag = estate_bureaucracy_leg_app_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_leg_app_3 = { set_country_flag = estate_bureaucracy_leg_app_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_4 = { set_country_flag = estate_bureaucracy_leg_app_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_5 = { set_country_flag = estate_bureaucracy_leg_app_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_6 = { set_country_flag = estate_bureaucracy_leg_app_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_leg_app_2
		clr_country_flag = leg_app_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_leg_app_3 
    tooltip = estate_bureaucracy_leg_app_3 
	potential = { FROM = { ai = no has_country_flag = leg_app_window } }
    trigger = {  
		if = {
			limit = { government = monarchy }
			NOT = { has_reform = rule_might_reform }
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_leg_app_0 = { set_country_flag = estate_bureaucracy_leg_app_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_1 = { set_country_flag = estate_bureaucracy_leg_app_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_2 = { set_country_flag = estate_bureaucracy_leg_app_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_3 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_leg_app_4 = { set_country_flag = estate_bureaucracy_leg_app_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_5 = { set_country_flag = estate_bureaucracy_leg_app_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_6 = { set_country_flag = estate_bureaucracy_leg_app_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_leg_app_3
		clr_country_flag = leg_app_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_leg_app_4 
    tooltip = estate_bureaucracy_leg_app_4 
	potential = { FROM = { ai = no has_country_flag = leg_app_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted §YPower Structure§!: III-IV"
			OR = {
				has_reform = representative_assembly_reform
				has_reform = centralized_oligarchy_reform
			}
		}
		if = {
			limit = { government = monarchy }
			NOT = {
				custom_trigger_tooltip = {
					tooltip = "Has not enacted §YSovereignty§!: I-II"
					OR = {
						has_reform = rule_privilege_reform
						has_reform = rule_might_reform
					}
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_advisors_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Prerogative§!: IV-V"
				OR = {
					has_estate_privilege = estate_court_prerog_5
					has_estate_privilege = estate_court_prerog_6
				}
			}
		}
		#NOT = { has_estate_privilege = estate_court_appoint_6 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_leg_app_0 = { set_country_flag = estate_bureaucracy_leg_app_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_1 = { set_country_flag = estate_bureaucracy_leg_app_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_2 = { set_country_flag = estate_bureaucracy_leg_app_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_3 = { set_country_flag = estate_bureaucracy_leg_app_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_4 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_leg_app_5 = { set_country_flag = estate_bureaucracy_leg_app_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_6 = { set_country_flag = estate_bureaucracy_leg_app_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_leg_app_4
		clr_country_flag = leg_app_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_leg_app_5 
    tooltip = estate_bureaucracy_leg_app_5 
	potential = { FROM = { ai = no has_country_flag = leg_app_window } }
    trigger = {  
		has_institution = bureaucracy
		if = {
			limit = { government = monarchy }
			custom_trigger_tooltip = {
				tooltip = "Has granted §YSource of Legitimacy§!: V-VI"
				OR = {
					has_reform = consent_elite_reform				
					has_reform = consent_governed_reform
				}
			}
		}
		has_reform = representative_assembly_reform
		if = {
			limit = { government = monarchy }
			NOT = {
				custom_trigger_tooltip = {
					tooltip = "Has not enacted §YSovereignty§!: I-III"
					OR = {
						has_reform = rule_privilege_reform
						has_reform = rule_might_reform
						has_reform = rule_influence_reform
					}
				}
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: I-III"
			OR = {
				has_estate_privilege = estate_court_prerog_0
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
			}
		}
		#custom_trigger_tooltip = {
		#	tooltip = "Has granted £court£§YPower of Appointment§!: I-III"
		#	OR = {
		#		has_estate_privilege = estate_court_appoint_0
		#		has_estate_privilege = estate_court_appoint_1
		#		has_estate_privilege = estate_court_appoint_2
		#	}
		#}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Authority§!: IV-VI"
				OR = {
					has_estate_privilege = estate_court_regal_auth_5
					has_estate_privilege = estate_court_regal_auth_6
					has_estate_privilege = estate_court_regal_auth_7
				}
			}
		}
		NOT = { has_estate_privilege = estate_court_advisors_6 }
		NOT = { has_estate_privilege = estate_court_fam_service_5 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_0 }
		NOT = { has_estate_privilege = estate_church_temp_auth_0 }
		#NOT = { has_estate_privilege = estate_nobles_appoint_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_leg_app_0 = { set_country_flag = estate_bureaucracy_leg_app_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_1 = { set_country_flag = estate_bureaucracy_leg_app_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_2 = { set_country_flag = estate_bureaucracy_leg_app_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_3 = { set_country_flag = estate_bureaucracy_leg_app_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_4 = { set_country_flag = estate_bureaucracy_leg_app_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_5 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_leg_app_6 = { set_country_flag = estate_bureaucracy_leg_app_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_leg_app_5
		clr_country_flag = leg_app_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_leg_app_6 
    tooltip = estate_bureaucracy_leg_app_6 
	potential = { FROM = { ai = no has_country_flag = leg_app_window } }
    trigger = {  
		has_institution = bureaucracy
		if = {
			limit = { government = monarchy }
			custom_trigger_tooltip = {
				tooltip = "Has granted §YSource of Legitimacy§!: V-VI"
				OR = {
					has_reform = consent_elite_reform				
					has_reform = consent_governed_reform
				}
			}
			NOT = {
				custom_trigger_tooltip = {
					tooltip = "Has not enacted §YSovereignty§!: I-II"
					OR = {
						has_reform = rule_privilege_reform
						has_reform = rule_might_reform
					}
				}
			}
		}		
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		NOT = { has_estate_privilege = estate_court_regal_auth_7 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Prerogative§!: I-III; VII"
				OR = {
					has_estate_privilege = estate_court_prerog_0
					has_estate_privilege = estate_court_prerog_1
					has_estate_privilege = estate_court_prerog_2
					has_estate_privilege = estate_court_prerog_6
				}
			}
		}
		#NOT = {
		#	custom_trigger_tooltip = {
		#		tooltip = "Has not granted £court£§YPower of Appointment§!: I-III; VII"
		#		OR = {
		#			has_estate_privilege = estate_court_appoint_0
		#			has_estate_privilege = estate_court_appoint_1
		#			has_estate_privilege = estate_court_appoint_2
		#			has_estate_privilege = estate_court_appoint_6
		#		}
		#	}
		#}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
	}
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_leg_app_0 = { set_country_flag = estate_bureaucracy_leg_app_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_1 = { set_country_flag = estate_bureaucracy_leg_app_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_2 = { set_country_flag = estate_bureaucracy_leg_app_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_3 = { set_country_flag = estate_bureaucracy_leg_app_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_4 = { set_country_flag = estate_bureaucracy_leg_app_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_5 = { set_country_flag = estate_bureaucracy_leg_app_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_leg_app_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_leg_app_6
		clr_country_flag = leg_app_window #clr_country_flag = no_estate_select
	} #Effect
}

###
custom_window = {
    name = prov_justice_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = prov_justice_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_prov_justice_0 
    tooltip = estate_bureaucracy_prov_justice_0 
	potential = { FROM = { ai = no has_country_flag = prov_justice_window } }
    trigger = {  
		NOT = { has_reform = representative_assembly_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_central_admin_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_0
				has_estate_privilege = estate_bureaucracy_local_admin_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_0
				has_estate_privilege = estate_bureaucracy_oversight_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_privs_0
				has_estate_privilege = estate_nobles_privs_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_prov_justice_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_prov_justice_1 = { set_country_flag = estate_bureaucracy_prov_justice_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_2 = { set_country_flag = estate_bureaucracy_prov_justice_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_3 = { set_country_flag = estate_bureaucracy_prov_justice_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_4 = { set_country_flag = estate_bureaucracy_prov_justice_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_5 = { set_country_flag = estate_bureaucracy_prov_justice_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_6 = { set_country_flag = estate_bureaucracy_prov_justice_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_prov_justice_0
		clr_country_flag = prov_justice_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_prov_justice_1 
    tooltip = estate_bureaucracy_prov_justice_1 
	potential = { FROM = { ai = no has_country_flag = prov_justice_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: II-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_1
				has_estate_privilege = estate_court_prerog_2
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: II-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_1
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: II-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_1
				has_estate_privilege = estate_bureaucracy_local_admin_2
				has_estate_privilege = estate_bureaucracy_local_admin_3
				has_estate_privilege = estate_bureaucracy_local_admin_4
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_6
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_0
				has_estate_privilege = estate_nobles_rural_gov_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_prov_justice_0 = { set_country_flag = estate_bureaucracy_prov_justice_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_prov_justice_2 = { set_country_flag = estate_bureaucracy_prov_justice_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_3 = { set_country_flag = estate_bureaucracy_prov_justice_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_4 = { set_country_flag = estate_bureaucracy_prov_justice_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_5 = { set_country_flag = estate_bureaucracy_prov_justice_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_6 = { set_country_flag = estate_bureaucracy_prov_justice_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_prov_justice_1
		clr_country_flag = prov_justice_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_prov_justice_2 
    tooltip = estate_bureaucracy_prov_justice_2 
	potential = { FROM = { ai = no has_country_flag = prov_justice_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
		NOT = { has_estate_privilege = estate_nobles_privs_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_prov_justice_0 = { set_country_flag = estate_bureaucracy_prov_justice_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_1 = { set_country_flag = estate_bureaucracy_prov_justice_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_prov_justice_3 = { set_country_flag = estate_bureaucracy_prov_justice_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_4 = { set_country_flag = estate_bureaucracy_prov_justice_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_5 = { set_country_flag = estate_bureaucracy_prov_justice_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_6 = { set_country_flag = estate_bureaucracy_prov_justice_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_prov_justice_2
		clr_country_flag = prov_justice_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_prov_justice_3 
    tooltip = estate_bureaucracy_prov_justice_3 
	potential = { FROM = { ai = no has_country_flag = prov_justice_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_4 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_prov_justice_0 = { set_country_flag = estate_bureaucracy_prov_justice_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_1 = { set_country_flag = estate_bureaucracy_prov_justice_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_2 = { set_country_flag = estate_bureaucracy_prov_justice_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_3 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_prov_justice_4 = { set_country_flag = estate_bureaucracy_prov_justice_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_5 = { set_country_flag = estate_bureaucracy_prov_justice_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_6 = { set_country_flag = estate_bureaucracy_prov_justice_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_prov_justice_3
		clr_country_flag = prov_justice_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_prov_justice_4 
    tooltip = estate_bureaucracy_prov_justice_4 
	potential = { FROM = { ai = no has_country_flag = prov_justice_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_reform = devolution_priv_reform }
		OR = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
					OR = {
						has_estate_privilege = estate_bureaucracy_central_admin_3
						has_estate_privilege = estate_bureaucracy_central_admin_4
					}
				}
				has_estate_privilege = estate_bureaucracy_hierarchy_2
			}
			AND = {
				has_estate_privilege = estate_bureaucracy_central_admin_2
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YPower of Appointment§!: VI-VII"
					OR = {
						has_estate_privilege = estate_court_appoint_5
						has_estate_privilege = estate_court_appoint_6
					}
				}
				NOT = {
					custom_trigger_tooltip = {
						tooltip = "Has not granted £court£§YCourt Authority§!: I-II£down£"
						OR = {
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
						}
					}
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_office_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YNoble Privileges§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_privs_0
					has_estate_privilege = estate_nobles_privs_1
					has_estate_privilege = estate_nobles_privs_2
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_prov_justice_0 = { set_country_flag = estate_bureaucracy_prov_justice_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_1 = { set_country_flag = estate_bureaucracy_prov_justice_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_2 = { set_country_flag = estate_bureaucracy_prov_justice_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_3 = { set_country_flag = estate_bureaucracy_prov_justice_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_4 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_prov_justice_5 = { set_country_flag = estate_bureaucracy_prov_justice_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_6 = { set_country_flag = estate_bureaucracy_prov_justice_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_prov_justice_4
		clr_country_flag = prov_justice_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_prov_justice_5 
    tooltip = estate_bureaucracy_prov_justice_5 
	potential = { FROM = { ai = no has_country_flag = prov_justice_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_reform = political_absolutism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: III-V"
			OR = {
				has_estate_privilege = estate_court_appoint_2
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Wages§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_wages_2
				has_estate_privilege = estate_bureaucracy_wages_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YNoble Privileges§!: IV-V"
			OR = {
				has_estate_privilege = estate_nobles_privs_3
				has_estate_privilege = estate_nobles_privs_4
			}
		}
		NOT = { has_estate_privilege = estate_court_regal_auth_7 }
		NOT = { has_estate_privilege = estate_court_crown_revenue_5 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Prerogative§!: I; VII"
				OR = {
					has_estate_privilege = estate_court_prerog_0
					has_estate_privilege = estate_court_prerog_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLegislative Apparatus§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_leg_app_0
					has_estate_privilege = estate_bureaucracy_leg_app_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_office_0 }
		NOT = { has_estate_privilege = estate_military_army_org_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_prov_justice_0 = { set_country_flag = estate_bureaucracy_prov_justice_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_1 = { set_country_flag = estate_bureaucracy_prov_justice_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_2 = { set_country_flag = estate_bureaucracy_prov_justice_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_3 = { set_country_flag = estate_bureaucracy_prov_justice_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_4 = { set_country_flag = estate_bureaucracy_prov_justice_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_5 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_prov_justice_6 = { set_country_flag = estate_bureaucracy_prov_justice_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_prov_justice_5
		clr_country_flag = prov_justice_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_prov_justice_6 
    tooltip = estate_bureaucracy_prov_justice_6 
	potential = { FROM = { ai = no has_country_flag = prov_justice_window } }
    trigger = {  
		has_institution = enlightenment
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YAdministrative Division§!: IV-VI"
			OR = {
				has_reform = prov_div_reform
				has_reform = fed_div_reform
				has_reform = unitary_reform
			}
		}
		if = {
			limit = { government = monarchy }
			NOT = { has_reform = rule_influence_reform }	
		}
		has_estate_privilege = estate_bureaucracy_central_admin_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		has_estate_privilege = estate_bureaucracy_politicization_3
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YMilitary Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_military_oversight_2
				has_estate_privilege = estate_military_oversight_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YMilitary Discipline§!: V-VI"
			OR = {
				has_estate_privilege = estate_military_discipline_4
				has_estate_privilege = estate_military_discipline_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Finance§!: V-VI£down£"
			OR = {
				has_estate_privilege = estate_church_finance_6
				has_estate_privilege = estate_church_finance_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: III"
			OR = {
				has_estate_privilege = estate_church_oblig_2
				has_estate_privilege = estate_church_oblig_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Lands§!: I-II"
			OR = {
				has_estate_privilege = estate_church_lands_0
				has_estate_privilege = estate_church_lands_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YRural Governance§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_rural_gov_4
				has_estate_privilege = estate_nobles_rural_gov_5
			}
		}
		has_estate_privilege = estate_nobles_tenancy_4
		has_estate_privilege = estate_nobles_privs_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YCommercial Law§!: IV-V"
			OR = {
				has_estate_privilege = estate_burghers_com_law_3
				has_estate_privilege = estate_burghers_com_law_6
				has_estate_privilege = estate_burghers_com_law_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YSpeech & Assembly§!: IV-V£up£"
			OR = {
				has_estate_privilege = estate_burghers_assembly_3
				has_estate_privilege = estate_burghers_assembly_4
			}
		}
		has_estate_privilege = estate_burghers_slavery_0
		has_estate_privilege = estate_burghers_privateer_0
		NOT = { has_estate_privilege = estate_military_wages_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-III"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
					has_estate_privilege = estate_church_temp_auth_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Education§!: I; V-VI"
				OR = {
					has_estate_privilege = estate_church_ed_0
					has_estate_privilege = estate_church_ed_4
					has_estate_privilege = estate_church_ed_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_prov_justice_0 = { set_country_flag = estate_bureaucracy_prov_justice_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_1 = { set_country_flag = estate_bureaucracy_prov_justice_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_2 = { set_country_flag = estate_bureaucracy_prov_justice_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_3 = { set_country_flag = estate_bureaucracy_prov_justice_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_4 = { set_country_flag = estate_bureaucracy_prov_justice_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_5 = { set_country_flag = estate_bureaucracy_prov_justice_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_prov_justice_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_prov_justice_6
		clr_country_flag = prov_justice_window #clr_country_flag = no_estate_select
	} #Effect
}

####Privs
###Bureau Hier
custom_window = {
    name = bureau_hier_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_hier_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_hierarchy_0 
    tooltip = estate_bureaucracy_hierarchy_0 
	potential = { FROM = { ai = no has_country_flag = bureau_hier_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_central_admin_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_hierarchy_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_hierarchy_1 = { set_country_flag = estate_bureaucracy_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_hierarchy_2 = { set_country_flag = estate_bureaucracy_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_hierarchy_0
		clr_country_flag = bureau_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_hierarchy_1 
    tooltip = estate_bureaucracy_hierarchy_1 
	potential = { FROM = { ai = no has_country_flag = bureau_hier_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YAdvisory Apparatus§!: II-V"
			OR = {
				has_estate_privilege = estate_court_advisors_1
				has_estate_privilege = estate_court_advisors_2
				has_estate_privilege = estate_court_advisors_3
				has_estate_privilege = estate_court_advisors_4
				has_estate_privilege = estate_court_advisors_5
				has_estate_privilege = estate_court_advisors_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Hierarchy§!: II-IV"
			OR = {
				has_estate_privilege = estate_court_hierarchy_1
				has_estate_privilege = estate_court_hierarchy_2
				has_estate_privilege = estate_court_hierarchy_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YCourt Prerogative§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_prerog_3
				has_estate_privilege = estate_court_prerog_4
				has_estate_privilege = estate_court_prerog_5
				has_estate_privilege = estate_court_prerog_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YPower of Appointment§!: IV-VII"
			OR = {
				has_estate_privilege = estate_court_appoint_3
				has_estate_privilege = estate_court_appoint_4
				has_estate_privilege = estate_court_appoint_5
				has_estate_privilege = estate_court_appoint_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: II-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_1
				has_estate_privilege = estate_bureaucracy_rev_collect_2
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: II-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_1
				has_estate_privilege = estate_bureaucracy_central_admin_2
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Wages§!: II-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_wages_1
				has_estate_privilege = estate_bureaucracy_wages_2
				has_estate_privilege = estate_bureaucracy_wages_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: II-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_1
				has_estate_privilege = estate_bureaucracy_recruit_2
				has_estate_privilege = estate_bureaucracy_recruit_3
				has_estate_privilege = estate_bureaucracy_recruit_4
				has_estate_privilege = estate_bureaucracy_recruit_5
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_hierarchy_0 = { set_country_flag = estate_bureaucracy_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_hierarchy_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_hierarchy_2 = { set_country_flag = estate_bureaucracy_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_hierarchy_1
		clr_country_flag = bureau_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_hierarchy_2 
    tooltip = estate_bureaucracy_hierarchy_2 
	potential = { FROM = { ai = no has_country_flag = bureau_hier_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YCourt Prerogative§!: I-II"
				OR = {
					has_estate_privilege = estate_court_prerog_0
					has_estate_privilege = estate_court_prerog_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YPower of Appointment§!: I-II"
				OR = {
					has_estate_privilege = estate_court_appoint_0
					has_estate_privilege = estate_court_appoint_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_recruit_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_office_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
		NOT = { has_estate_privilege = estate_nobles_appoint_5 }
		NOT = { has_estate_privilege = estate_burghers_urban_gov_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_hierarchy_0 = { set_country_flag = estate_bureaucracy_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_hierarchy_1 = { set_country_flag = estate_bureaucracy_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_hierarchy_2 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_hierarchy_2
		clr_country_flag = bureau_hier_window #clr_country_flag = no_estate_select
	} #Effect
}

#Bureau Oversight
custom_window = {
    name = bureau_oversight_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_oversight_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_oversight_0 
    tooltip = estate_bureaucracy_oversight_0 
	potential = { FROM = { ai = no has_country_flag = bureau_oversight_window } }
    trigger = {  
		has_estate_privilege = estate_bureaucracy_hierarchy_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_oversight_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_oversight_1 = { set_country_flag = estate_bureaucracy_oversight_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_2 = { set_country_flag = estate_bureaucracy_oversight_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_3 = { set_country_flag = estate_bureaucracy_oversight_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_oversight_0
		clr_country_flag = bureau_oversight_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_oversight_1 
    tooltip = estate_bureaucracy_oversight_1 
	potential = { FROM = { ai = no has_country_flag = bureau_oversight_window } }
    trigger = {  
		has_estate_privilege = estate_bureaucracy_central_admin_2
		has_estate_privilege = estate_bureaucracy_hierarchy_1
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: III-IV"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_2
					has_estate_privilege = estate_bureaucracy_local_admin_3
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
					OR = {
						has_estate_privilege = estate_court_regal_auth_5
						has_estate_privilege = estate_court_regal_auth_6
						has_estate_privilege = estate_court_regal_auth_7
					}
				}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
					OR = {
						has_estate_privilege = estate_court_hierarchy_2
						has_estate_privilege = estate_court_hierarchy_3
					}
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_recruit_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_oversight_0 = { set_country_flag = estate_bureaucracy_oversight_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_oversight_2 = { set_country_flag = estate_bureaucracy_oversight_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_3 = { set_country_flag = estate_bureaucracy_oversight_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_oversight_1
		clr_country_flag = bureau_oversight_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_oversight_2 
    tooltip = estate_bureaucracy_oversight_2 
	potential = { FROM = { ai = no has_country_flag = bureau_oversight_window } }
    trigger = {  
		has_institution = bureaucracy
		OR = {
			AND = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				custom_trigger_tooltip = {
					tooltip = "Has granted £bureaucracy£ §YProvision of Justice§!: V-VII"
					OR = {
						has_estate_privilege = estate_bureaucracy_prov_justice_4
						has_estate_privilege = estate_bureaucracy_prov_justice_5
						has_estate_privilege = estate_bureaucracy_prov_justice_6
					}
				}
				has_estate_privilege = estate_bureaucracy_hierarchy_2
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Authority§!: IV-VI"
					OR = {
						has_estate_privilege = estate_court_regal_auth_5
						has_estate_privilege = estate_court_regal_auth_6
						has_estate_privilege = estate_court_regal_auth_7
					}
				}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YAdvisory Apparatus§!: IV-V£up£"
					OR = {
						has_estate_privilege = estate_court_advisors_5
						has_estate_privilege = estate_court_advisors_6
					}
				}
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Hierarchy§!: III-IV"
					OR = {
						has_estate_privilege = estate_court_hierarchy_2
						has_estate_privilege = estate_court_hierarchy_3
					}
				}
				has_estate_privilege = estate_bureaucracy_central_admin_2
				custom_trigger_tooltip = {
					tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: II-III"
					OR = {
						has_estate_privilege = estate_bureaucracy_hierarchy_1
						has_estate_privilege = estate_bureaucracy_hierarchy_2
					}
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_recruit_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_oversight_0 = { set_country_flag = estate_bureaucracy_oversight_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_1 = { set_country_flag = estate_bureaucracy_oversight_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_oversight_3 = { set_country_flag = estate_bureaucracy_oversight_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_oversight_2
		clr_country_flag = bureau_oversight_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_oversight_3 
    tooltip = estate_bureaucracy_oversight_3 
	potential = { FROM = { ai = no has_country_flag = bureau_oversight_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: I-III"
			OR = {
				has_estate_privilege = estate_court_fam_service_0
				has_estate_privilege = estate_court_fam_service_1
				has_estate_privilege = estate_court_fam_service_2
			}
		}
		has_estate_privilege = estate_bureaucracy_central_admin_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
		has_estate_privilege = estate_bureaucracy_office_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £military£§YMilitary Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_military_oversight_2
				has_estate_privilege = estate_military_oversight_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YFamilial Appointment§!: I-III"
			OR = {
				has_estate_privilege = estate_nobles_appoint_0
				has_estate_privilege = estate_nobles_appoint_1
				has_estate_privilege = estate_nobles_appoint_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YProfessional Trades§!: IV-VI£down£"
			OR = {
				has_estate_privilege = estate_burghers_prof_trade_5
				has_estate_privilege = estate_burghers_prof_trade_6
				has_estate_privilege = estate_burghers_prof_trade_7
			}
		}
		NOT = { has_estate_privilege = estate_court_prerog_6 }
		NOT = { has_estate_privilege = estate_court_appoint_6 }
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_1 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRecruitment & Examination§!: I-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_recruit_0
					has_estate_privilege = estate_bureaucracy_recruit_1
					has_estate_privilege = estate_bureaucracy_recruit_2
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YFinancial Instruments§!: I-II"
				OR = {
					has_estate_privilege = estate_burghers_finance_0
					has_estate_privilege = estate_burghers_finance_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YTrade Charters§!: I-II"
				OR = {
					has_estate_privilege = estate_burghers_charters_0
					has_estate_privilege = estate_burghers_charters_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_oversight_0 = { set_country_flag = estate_bureaucracy_oversight_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_1 = { set_country_flag = estate_bureaucracy_oversight_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_2 = { set_country_flag = estate_bureaucracy_oversight_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_oversight_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_oversight_3
		clr_country_flag = bureau_oversight_window #clr_country_flag = no_estate_select
	} #Effect
}

#Politicization
custom_window = {
    name = b_politicization_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = b_politicization_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_politicization_0 
    tooltip = estate_bureaucracy_politicization_0 
	potential = { FROM = { ai = no has_country_flag = b_politicization_window } }
    trigger = {  
		has_estate_privilege = estate_bureaucracy_leg_app_0
		has_estate_privilege = estate_bureaucracy_hierarchy_0
		has_estate_privilege = estate_bureaucracy_oversight_0
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: IV-V"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_3
					has_estate_privilege = estate_bureaucracy_central_admin_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_politicization_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_politicization_1 = { set_country_flag = estate_bureaucracy_politicization_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_2 = { set_country_flag = estate_bureaucracy_politicization_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_3 = { set_country_flag = estate_bureaucracy_politicization_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_politicization_0
		clr_country_flag = b_politicization_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_politicization_1 
    tooltip = estate_bureaucracy_politicization_1 
	potential = { FROM = { ai = no has_country_flag = b_politicization_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: II-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_hierarchy_1
				has_estate_privilege = estate_bureaucracy_hierarchy_2
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_recruit_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_politicization_0 = { set_country_flag = estate_bureaucracy_politicization_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_politicization_2 = { set_country_flag = estate_bureaucracy_politicization_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_3 = { set_country_flag = estate_bureaucracy_politicization_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_politicization_1
		clr_country_flag = b_politicization_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_politicization_2 
    tooltip = estate_bureaucracy_politicization_2 
	potential = { FROM = { ai = no has_country_flag = b_politicization_window } }
    trigger = {  
		has_estate_privilege = estate_bureaucracy_central_admin_3
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		has_estate_privilege = estate_bureaucracy_oversight_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRecruitment & Examination§!: IV-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_recruit_3
				has_estate_privilege = estate_bureaucracy_recruit_4
				has_estate_privilege = estate_bureaucracy_recruit_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Wages§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_wages_2
				has_estate_privilege = estate_bureaucracy_wages_3
			}
		}
		NOT = { has_estate_privilege = estate_court_fam_service_5 }
		NOT = { has_estate_privilege = estate_nobles_appoint_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_politicization_0 = { set_country_flag = estate_bureaucracy_politicization_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_1 = { set_country_flag = estate_bureaucracy_politicization_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_politicization_3 = { set_country_flag = estate_bureaucracy_politicization_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_politicization_2
		clr_country_flag = b_politicization_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_politicization_3 
    tooltip = estate_bureaucracy_politicization_3 
	potential = { FROM = { ai = no has_country_flag = b_politicization_window } }
    trigger = {
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: I-II"
			OR = {
				has_estate_privilege = estate_court_fam_service_0
				has_estate_privilege = estate_court_fam_service_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLegislative Apparatus§!: V-VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_leg_app_4
				has_estate_privilege = estate_bureaucracy_leg_app_5
				has_estate_privilege = estate_bureaucracy_leg_app_6
			}
		}
		has_estate_privilege = estate_bureaucracy_oversight_3
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YFamilial Appointment§!: I-II"
			OR = {
				has_estate_privilege = estate_nobles_appoint_0
				has_estate_privilege = estate_nobles_appoint_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_politicization_0 = { set_country_flag = estate_bureaucracy_politicization_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_1 = { set_country_flag = estate_bureaucracy_politicization_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_2 = { set_country_flag = estate_bureaucracy_politicization_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_politicization_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_politicization_3
		clr_country_flag = b_politicization_window #clr_country_flag = no_estate_select
	} #Effect
}

#Bureau Recruit
custom_window = {
    name = bureau_recruit_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_recruit_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_recruit_0 
    tooltip = estate_bureaucracy_recruit_0 
	potential = { FROM = { ai = no has_country_flag = bureau_recruit_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_central_admin_1
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_0
		has_estate_privilege = estate_bureaucracy_oversight_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_recruit_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_recruit_1 = { set_country_flag = estate_bureaucracy_recruit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_2 = { set_country_flag = estate_bureaucracy_recruit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_3 = { set_country_flag = estate_bureaucracy_recruit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_4 = { set_country_flag = estate_bureaucracy_recruit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_5 = { set_country_flag = estate_bureaucracy_recruit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_recruit_0
		clr_country_flag = bureau_recruit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_recruit_1 
    tooltip = estate_bureaucracy_recruit_1 
	potential = { FROM = { ai = no has_country_flag = bureau_recruit_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_recruit_0 = { set_country_flag = estate_bureaucracy_recruit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_recruit_2 = { set_country_flag = estate_bureaucracy_recruit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_3 = { set_country_flag = estate_bureaucracy_recruit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_4 = { set_country_flag = estate_bureaucracy_recruit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_5 = { set_country_flag = estate_bureaucracy_recruit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_recruit_1
		clr_country_flag = bureau_recruit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_recruit_2 
    tooltip = estate_bureaucracy_recruit_2 
	potential = { FROM = { ai = no has_country_flag = bureau_recruit_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: II-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_1
				has_estate_privilege = estate_bureaucracy_oversight_2
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_0 }
		NOT = { has_estate_privilege = estate_nobles_appoint_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_recruit_0 = { set_country_flag = estate_bureaucracy_recruit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_1 = { set_country_flag = estate_bureaucracy_recruit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_recruit_3 = { set_country_flag = estate_bureaucracy_recruit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_4 = { set_country_flag = estate_bureaucracy_recruit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_5 = { set_country_flag = estate_bureaucracy_recruit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_recruit_2
		clr_country_flag = bureau_recruit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_recruit_3 
    tooltip = estate_bureaucracy_recruit_3 
	potential = { FROM = { ai = no has_country_flag = bureau_recruit_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_reform = devolution_priv_reform }
		has_estate_privilege = estate_bureaucracy_oversight_2
		NOT = { has_estate_privilege = estate_court_fam_service_5 }
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_office_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YFamilial Appointment§!: V-VI"
				OR = {
					has_estate_privilege = estate_nobles_appoint_4
					has_estate_privilege = estate_nobles_appoint_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_recruit_0 = { set_country_flag = estate_bureaucracy_recruit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_1 = { set_country_flag = estate_bureaucracy_recruit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_2 = { set_country_flag = estate_bureaucracy_recruit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_3 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_recruit_4 = { set_country_flag = estate_bureaucracy_recruit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_5 = { set_country_flag = estate_bureaucracy_recruit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_recruit_3
		clr_country_flag = bureau_recruit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_recruit_4 
    tooltip = estate_bureaucracy_recruit_4 
	potential = { FROM = { ai = no has_country_flag = bureau_recruit_window } }
    trigger = {  
		has_institution = bureaucracy
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		has_estate_privilege = estate_bureaucracy_office_2
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £court£§YFamilial Service§!: V-VI"
				OR = {
					has_estate_privilege = estate_court_fam_service_4
					has_estate_privilege = estate_court_fam_service_5
				}
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £nobles£§YFamilial Appointment§!: IV-VI"
				OR = {
					has_estate_privilege = estate_nobles_appoint_3
					has_estate_privilege = estate_nobles_appoint_4
					has_estate_privilege = estate_nobles_appoint_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_recruit_0 = { set_country_flag = estate_bureaucracy_recruit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_1 = { set_country_flag = estate_bureaucracy_recruit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_2 = { set_country_flag = estate_bureaucracy_recruit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_3 = { set_country_flag = estate_bureaucracy_recruit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_4 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_recruit_5 = { set_country_flag = estate_bureaucracy_recruit_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_recruit_4
		clr_country_flag = bureau_recruit_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_recruit_5 
    tooltip = estate_bureaucracy_recruit_5 
	potential = { FROM = { ai = no has_country_flag = bureau_recruit_window } }
    trigger = {  
		has_institution = bureaucracy
		has_estate_privilege = estate_bureaucracy_central_admin_4
		has_estate_privilege = estate_bureaucracy_politicization_3
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_recruit_0 = { set_country_flag = estate_bureaucracy_recruit_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_1 = { set_country_flag = estate_bureaucracy_recruit_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_2 = { set_country_flag = estate_bureaucracy_recruit_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_3 = { set_country_flag = estate_bureaucracy_recruit_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_4 = { set_country_flag = estate_bureaucracy_recruit_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_recruit_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_recruit_5
		clr_country_flag = bureau_recruit_window #clr_country_flag = no_estate_select
	} #Effect
}

#Bureau Tenure
custom_window = {
    name = bureau_tenure_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_tenure_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_tenure_0 
    tooltip = estate_bureaucracy_tenure_0 
	potential = { FROM = { ai = no has_country_flag = bureau_tenure_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_tenure_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_tenure_1 = { set_country_flag = estate_bureaucracy_tenure_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_tenure_2 = { set_country_flag = estate_bureaucracy_tenure_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_tenure_0
		clr_country_flag = bureau_tenure_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_tenure_1 
    tooltip = estate_bureaucracy_tenure_1 
	potential = { FROM = { ai = no has_country_flag = bureau_tenure_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_tenure_0 = { set_country_flag = estate_bureaucracy_tenure_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_tenure_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_tenure_2 = { set_country_flag = estate_bureaucracy_tenure_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_tenure_1
		clr_country_flag = bureau_tenure_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_tenure_2 
    tooltip = estate_bureaucracy_tenure_2 
	potential = { FROM = { ai = no has_country_flag = bureau_tenure_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YBureaucratic Oversight§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_oversight_0
					has_estate_privilege = estate_bureaucracy_oversight_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_tenure_0 = { set_country_flag = estate_bureaucracy_tenure_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_tenure_1 = { set_country_flag = estate_bureaucracy_tenure_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_tenure_2 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_tenure_2
		clr_country_flag = bureau_tenure_window #clr_country_flag = no_estate_select
	} #Effect
}

#Bureau Office
custom_window = {
    name = bureau_office_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_office_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_office_0 
    tooltip = estate_bureaucracy_office_0 
	potential = { FROM = { ai = no has_country_flag = bureau_office_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_0
				has_estate_privilege = estate_bureaucracy_oversight_1
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRecruitment & Examination§!: IV-VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_recruit_3
					has_estate_privilege = estate_bureaucracy_recruit_4
					has_estate_privilege = estate_bureaucracy_recruit_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_office_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_office_1 = { set_country_flag = estate_bureaucracy_office_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_office_2 = { set_country_flag = estate_bureaucracy_office_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_office_0
		clr_country_flag = bureau_office_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_office_1 
    tooltip = estate_bureaucracy_office_1 
	potential = { FROM = { ai = no has_country_flag = bureau_office_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Hierarchy§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_hierarchy_0
				has_estate_privilege = estate_bureaucracy_hierarchy_1
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_recruit_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_office_0 = { set_country_flag = estate_bureaucracy_office_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_office_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_office_2 = { set_country_flag = estate_bureaucracy_office_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_office_1
		clr_country_flag = bureau_office_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_office_2 
    tooltip = estate_bureaucracy_office_2 
	potential = { FROM = { ai = no has_country_flag = bureau_office_window } }
    trigger = {  
		has_estate_privilege = estate_bureaucracy_hierarchy_2 
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRecruitment & Examination§!: II-III"
				OR = {
					has_estate_privilege = estate_bureaucracy_recruit_1
					has_estate_privilege = estate_bureaucracy_recruit_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_wages_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_office_0 = { set_country_flag = estate_bureaucracy_office_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_office_1 = { set_country_flag = estate_bureaucracy_office_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_office_2 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_office_2
		clr_country_flag = bureau_office_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = bureau_wages_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_wages_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_wages_0 
    tooltip = estate_bureaucracy_wages_0 
	potential = { FROM = { ai = no has_country_flag = bureau_wages_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £court£§YFamilial Service§!: V-VI"
			OR = {
				has_estate_privilege = estate_court_fam_service_4
				has_estate_privilege = estate_court_fam_service_5
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_0
		has_estate_privilege = estate_bureaucracy_oversight_0
		custom_trigger_tooltip = {
			tooltip = "Has granted £nobles£§YFamilial Appointment§!: V-VI"
			OR = {
				has_estate_privilege = estate_nobles_appoint_4
				has_estate_privilege = estate_nobles_appoint_5
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_wages_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_wages_1 = { set_country_flag = estate_bureaucracy_wages_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_2 = { set_country_flag = estate_bureaucracy_wages_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_3 = { set_country_flag = estate_bureaucracy_wages_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_wages_0
		clr_country_flag = bureau_wages_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_wages_1 
    tooltip = estate_bureaucracy_wages_1 
	potential = { FROM = { ai = no has_country_flag = bureau_wages_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: II-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_1
				has_estate_privilege = estate_bureaucracy_rev_collect_2
				has_estate_privilege = estate_bureaucracy_rev_collect_3
				has_estate_privilege = estate_bureaucracy_rev_collect_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: II-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_1
				has_estate_privilege = estate_bureaucracy_local_admin_2
				has_estate_privilege = estate_bureaucracy_local_admin_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_wages_0 = { set_country_flag = estate_bureaucracy_wages_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_wages_2 = { set_country_flag = estate_bureaucracy_wages_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_3 = { set_country_flag = estate_bureaucracy_wages_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_wages_1
		clr_country_flag = bureau_wages_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_wages_2 
    tooltip = estate_bureaucracy_wages_2 
	potential = { FROM = { ai = no has_country_flag = bureau_wages_window } }
    trigger = {  
		has_institution = bureaucracy
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: V-VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_4
					has_estate_privilege = estate_bureaucracy_rev_collect_5
					has_estate_privilege = estate_bureaucracy_rev_collect_6
				}
			}
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £court£§YCourt Prerogative§!: IV-V"
					OR = {
						has_estate_privilege = estate_court_prerog_3
						has_estate_privilege = estate_court_prerog_4
					}
				}
				NOT = {
					custom_trigger_tooltip = {
						tooltip = "Has granted £court£§YCourt Authority§!: I-II"
						OR = {
							has_estate_privilege = estate_court_regal_auth_0
							has_estate_privilege = estate_court_regal_auth_1
							has_estate_privilege = estate_court_regal_auth_2
							has_estate_privilege = estate_court_regal_auth_3
						}
					}
				}
				NOT = {
					custom_trigger_tooltip = {
						tooltip = "Has granted £court£§YRevenue & Tribute§!: I-II"
						OR = {
							has_estate_privilege = estate_court_crown_revenue_0
							has_estate_privilege = estate_court_crown_revenue_1
						}
					}
				}
				NOT = { has_estate_privilege = estate_court_advisors_0 }
				#NOT = {
				#	custom_trigger_tooltip = {
				#		tooltip = "Has granted £court£§YCourt Politics§!: I-II; VII-IIX£down£"
				#		OR = {
				#			has_estate_privilege = estate_court_politics_0
				#			has_estate_privilege = estate_court_politics_1
				#			has_estate_privilege = estate_court_politics_8
				#			has_estate_privilege = estate_court_politics_9
				#		}
				#	}
				#}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_hierarchy_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_oversight_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_wages_0 = { set_country_flag = estate_bureaucracy_wages_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_1 = { set_country_flag = estate_bureaucracy_wages_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_wages_3 = { set_country_flag = estate_bureaucracy_wages_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_wages_2
		clr_country_flag = bureau_wages_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_wages_3 
    tooltip = estate_bureaucracy_wages_3 
	potential = { FROM = { ai = no has_country_flag = bureau_wages_window } }
    trigger = {  
		has_institution = bureaucracy
		has_estate_privilege = estate_bureaucracy_central_admin_4
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: VI"
			OR = {
				has_estate_privilege = estate_bureaucracy_local_admin_5
				has_estate_privilege = estate_bureaucracy_local_admin_7
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_wages_0 = { set_country_flag = estate_bureaucracy_wages_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_1 = { set_country_flag = estate_bureaucracy_wages_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_2 = { set_country_flag = estate_bureaucracy_wages_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_wages_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_wages_3
		clr_country_flag = bureau_wages_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = econ_reg_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = econ_reg_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_econ_reg_0 
    tooltip = estate_bureaucracy_econ_reg_0 
	potential = { FROM = { ai = no has_country_flag = econ_reg_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: I-III"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				has_estate_privilege = estate_bureaucracy_central_admin_1
				has_estate_privilege = estate_bureaucracy_central_admin_2
			}
		}
		OR = {
			has_estate_privilege = estate_burghers_com_law_0
			has_estate_privilege = estate_burghers_prof_trade_0
			has_estate_privilege = estate_burghers_finance_0
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YTrade Charters§!: I-II"
			OR = {
				has_estate_privilege = estate_burghers_charters_0
				has_estate_privilege = estate_burghers_charters_1
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_mint_2 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_econ_reg_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_econ_reg_1 = { set_country_flag = estate_bureaucracy_econ_reg_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_2 = { set_country_flag = estate_bureaucracy_econ_reg_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_3 = { set_country_flag = estate_bureaucracy_econ_reg_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_econ_reg_0
		clr_country_flag = econ_reg_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_econ_reg_1 
    tooltip = estate_bureaucracy_econ_reg_1 
	potential = { FROM = { ai = no has_country_flag = econ_reg_window } }
    trigger = {  
		has_institution = bureaucracy
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_0 }
		NOT = { has_estate_privilege = estate_burghers_urban_gov_0 }
		NOT = { has_estate_privilege = estate_burghers_prof_trade_0 }
		NOT = { has_estate_privilege = estate_burghers_finance_0 }
		NOT = { has_estate_privilege = estate_burghers_charters_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_econ_reg_0 = { set_country_flag = estate_bureaucracy_econ_reg_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_econ_reg_2 = { set_country_flag = estate_bureaucracy_econ_reg_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_3 = { set_country_flag = estate_bureaucracy_econ_reg_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_econ_reg_1
		clr_country_flag = econ_reg_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_econ_reg_2 
    tooltip = estate_bureaucracy_econ_reg_2 
	potential = { FROM = { ai = no has_country_flag = econ_reg_window } }
    trigger = {  
		has_institution = global_trade
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: IV-VI"
			OR = {
				has_reform = mercantilist_econ_reform
				has_reform = laissez_faire_econ_reform
				has_reform = industrial_cap_econ_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YPublic Banking§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_banking_2
				has_estate_privilege = estate_bureaucracy_banking_3
			}
		}
		NOT = { has_estate_privilege = estate_court_mint_0 }
		NOT = { has_estate_privilege = estate_bureaucracy_mint_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YCommercial Law§!: I-III"
				OR = {
					has_estate_privilege = estate_burghers_com_law_0
					has_estate_privilege = estate_burghers_com_law_1
					has_estate_privilege = estate_burghers_com_law_2
					has_estate_privilege = estate_burghers_com_law_4
					has_estate_privilege = estate_burghers_com_law_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_prof_trade_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YFinancial Instruments§!: I-III"
				OR = {
					has_estate_privilege = estate_burghers_finance_0
					has_estate_privilege = estate_burghers_finance_1
					has_estate_privilege = estate_burghers_finance_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_marine_1 }
		NOT = { has_estate_privilege = estate_burghers_charters_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_econ_reg_0 = { set_country_flag = estate_bureaucracy_econ_reg_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_1 = { set_country_flag = estate_bureaucracy_econ_reg_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_econ_reg_3 = { set_country_flag = estate_bureaucracy_econ_reg_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_econ_reg_2
		clr_country_flag = econ_reg_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_econ_reg_3 
    tooltip = estate_bureaucracy_econ_reg_3 
	potential = { FROM = { ai = no has_country_flag = econ_reg_window } }
    trigger = {  
		has_institution = manufactories
		has_reform = industrial_cap_econ_reform
		has_estate_privilege = estate_bureaucracy_central_admin_4
		OR = {
			has_estate_privilege = estate_court_mint_2
			has_estate_privilege = estate_bureaucracy_mint_2
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YPublic Banking§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_banking_2
				has_estate_privilege = estate_bureaucracy_banking_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YUrban Governance§!: V-VI"
			OR = {
				has_estate_privilege = estate_burghers_urban_gov_4
				has_estate_privilege = estate_burghers_urban_gov_7
				has_estate_privilege = estate_burghers_urban_gov_8
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YCommercial Law§!: IV-V"
			OR = {
				has_estate_privilege = estate_burghers_com_law_3
				has_estate_privilege = estate_burghers_com_law_6
				has_estate_privilege = estate_burghers_com_law_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YProfessional Trades§!: IV-VI£down£"
			OR = {
				has_estate_privilege = estate_burghers_prof_trade_5
				has_estate_privilege = estate_burghers_prof_trade_6
				has_estate_privilege = estate_burghers_prof_trade_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YFinancial Instruments§!: V-VI"
			OR = {
				has_estate_privilege = estate_burghers_finance_4
				has_estate_privilege = estate_burghers_finance_5
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £nobles£§YRural Governance§!: I-III"
				OR = {
					has_estate_privilege = estate_nobles_rural_gov_0
					has_estate_privilege = estate_nobles_rural_gov_1
					has_estate_privilege = estate_nobles_rural_gov_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_nobles_fish_game_4 }
		NOT = { has_estate_privilege = estate_nobles_forestry_4 }
		NOT = { has_estate_privilege = estate_nobles_processing_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £burghers£§YMerchant Marine§!: II-III"
				OR = {
					has_estate_privilege = estate_burghers_marine_1
					has_estate_privilege = estate_burghers_marine_2
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_hierarchy_4 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £burghers£§YTrade Charters§!: I-II"
				OR = {
					has_estate_privilege = estate_burghers_charters_0
					has_estate_privilege = estate_burghers_charters_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_econ_reg_0 = { set_country_flag = estate_bureaucracy_econ_reg_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_1 = { set_country_flag = estate_bureaucracy_econ_reg_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_2 = { set_country_flag = estate_bureaucracy_econ_reg_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_econ_reg_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_econ_reg_3
		clr_country_flag = econ_reg_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = bureau_mint_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_mint_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_mint_0 
    tooltip = estate_bureaucracy_mint_0 
	potential = { FROM = { ai = no has_country_flag = bureau_mint_window } }
    trigger = {  
		OR = {
			AND = {
				has_estate_privilege = estate_bureaucracy_central_admin_0
				OR = {
					custom_trigger_tooltip = {
						tooltip = "Has granted £bureaucracy£ §YLocal Administration§!: III-VI£down£"
						OR = {
							has_estate_privilege = estate_bureaucracy_local_admin_2
							has_estate_privilege = estate_bureaucracy_local_admin_3
							has_estate_privilege = estate_bureaucracy_local_admin_4
							has_estate_privilege = estate_bureaucracy_local_admin_5
						}
					}
					AND = {
						has_estate_privilege = estate_court_prerog_0
						has_estate_privilege = estate_court_mint_0
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Has granted £court£§YRight of Mint§!: II-III"
				OR = {
					has_estate_privilege = estate_court_mint_1
					has_estate_privilege = estate_court_mint_2
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_mint_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_mint_1 = { set_country_flag = estate_bureaucracy_mint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_mint_2 = { set_country_flag = estate_bureaucracy_mint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_mint_0
		clr_country_flag = bureau_mint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_mint_1 
    tooltip = estate_bureaucracy_mint_1 
	potential = { FROM = { ai = no has_country_flag = bureau_mint_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_0 }
		NOT = { has_estate_privilege = estate_court_mint_2 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_mint_0 = { set_country_flag = estate_bureaucracy_mint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_mint_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_mint_2 = { set_country_flag = estate_bureaucracy_mint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_mint_1
		clr_country_flag = bureau_mint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_mint_2 
    tooltip = estate_bureaucracy_mint_2 
	potential = { FROM = { ai = no has_country_flag = bureau_mint_window } }
    trigger = {  
		NOT = { has_reform = subsist_econ_reform }
		has_estate_privilege = estate_court_mint_0
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_mint_0 = { set_country_flag = estate_bureaucracy_mint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_mint_1 = { set_country_flag = estate_bureaucracy_mint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_mint_2 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_mint_2
		clr_country_flag = bureau_mint_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = bureau_bank_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = bureau_bank_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_bureaucracy_banking_0 
    tooltip = estate_bureaucracy_banking_0 
	potential = { FROM = { ai = no has_country_flag = bureau_bank_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has not granted £bureaucracy£ §YBureaucratic Oversight§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_0
				has_estate_privilege = estate_bureaucracy_oversight_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has not granted £burghers£§YMerchant Banking§!: I-II"
			OR = {
				has_estate_privilege = estate_burghers_banking_0
				has_estate_privilege = estate_burghers_banking_1
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_banking_0 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_banking_1 = { set_country_flag = estate_bureaucracy_banking_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_2 = { set_country_flag = estate_bureaucracy_banking_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_3 = { set_country_flag = estate_bureaucracy_banking_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_banking_0
		clr_country_flag = bureau_bank_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_banking_1 
    tooltip = estate_bureaucracy_banking_1 
	potential = { FROM = { ai = no has_country_flag = bureau_bank_window } }
    trigger = {  
		has_institution = finance
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YEconomic Regulation§!: III-IV"
				OR = {
					has_estate_privilege = estate_bureaucracy_econ_reg_2
					has_estate_privilege = estate_bureaucracy_econ_reg_3
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_finance_0 }
		NOT = { has_estate_privilege = estate_burghers_banking_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_banking_0 = { set_country_flag = estate_bureaucracy_banking_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_1 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_banking_2 = { set_country_flag = estate_bureaucracy_banking_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_3 = { set_country_flag = estate_bureaucracy_banking_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_banking_1
		clr_country_flag = bureau_bank_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_banking_2 
    tooltip = estate_bureaucracy_banking_2 
	potential = { FROM = { ai = no has_country_flag = bureau_bank_window } }
    trigger = {  
		has_institution = finance
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_0 }
		NOT = {
			OR = {
				has_estate_privilege = estate_court_mint_0
				has_estate_privilege = estate_bureaucracy_mint_0
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_banking_0 = { set_country_flag = estate_bureaucracy_banking_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_1 = { set_country_flag = estate_bureaucracy_banking_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_2 = { clr_country_flag = no_estate_select }
				estate_bureaucracy_banking_3 = { set_country_flag = estate_bureaucracy_banking_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_bureaucracy_banking_2
		clr_country_flag = bureau_bank_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_bureaucracy_banking_3 
    tooltip = estate_bureaucracy_banking_3 
	potential = { FROM = { ai = no has_country_flag = bureau_bank_window } }
    trigger = {  
		has_institution = finance
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YEconomic Structure§!: I-II"
			OR = {
				has_reform = subsist_econ_reform
				has_reform = traditional_econ_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YCentral Administration§!: IV-V"
			OR = {
				has_estate_privilege = estate_bureaucracy_central_admin_3
				has_estate_privilege = estate_bureaucracy_central_admin_4
			}
		}
		has_estate_privilege = estate_bureaucracy_hierarchy_2
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YBureaucratic Oversight§!: III-IV"
			OR = {
				has_estate_privilege = estate_bureaucracy_oversight_2
				has_estate_privilege = estate_bureaucracy_oversight_3
			}
		}
		OR = {
			has_estate_privilege = estate_court_mint_2
			has_estate_privilege = estate_bureaucracy_mint_2
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YCommercial Law§!: IV-V"
			OR = {
				has_estate_privilege = estate_burghers_com_law_3
				has_estate_privilege = estate_burghers_com_law_6
				has_estate_privilege = estate_burghers_com_law_7
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YFinancial Instruments§!: IV-VI"
			OR = {
				has_estate_privilege = estate_burghers_finance_3
				has_estate_privilege = estate_burghers_finance_4
				has_estate_privilege = estate_burghers_finance_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £burghers£§YMerchant Banking§!: IV-V"
			OR = {
				has_estate_privilege = estate_burghers_banking_3
				has_estate_privilege = estate_burghers_banking_4
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_econ_reg_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_bureaucracy_banking_0 = { set_country_flag = estate_bureaucracy_banking_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_1 = { set_country_flag = estate_bureaucracy_banking_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_2 = { set_country_flag = estate_bureaucracy_banking_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_bureaucracy_banking_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_bureaucracy_banking_3
		clr_country_flag = bureau_bank_window #clr_country_flag = no_estate_select
	} #Effect
}
