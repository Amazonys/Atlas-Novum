# The custom guiButtonType/instantTextBoxType/iconType must have a 'scripted = yes' line to work
custom_button = {
    name = majority_religion_interact
    potential = { owned_by = FROM }
    trigger = { hidden_trigger = { always = yes } }
    effect = { AN_check_religion_minorities = yes }
    tooltip = AN_majority_religion_UI_tooltip
	#Totality
    frame = { 
        number = 1 
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj			
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	# Supermajority
	frame = { 
        number = 9 
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	# Majority
	frame = { 
        number = 17
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 19
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 20
        trigger = {
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 22
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	#Slim Majority
	frame = { 
        number = 25
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 26
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 27
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 28
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 29
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 30
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	#Plurality
	frame = { 
        number = 33
        trigger = {
			owner = { religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 34 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 35 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 36 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 37 
        trigger = {
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 38
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
}

custom_icon = {
    name = majority_religion_view
    potential = { NOT = { owned_by = FROM } }
    #trigger = { hidden_trigger = { owned_by = FROM } }
    #effect = { AN_check_religion_minorities = yes }
    tooltip = AN_majority_religion_UI_tooltip
	#Totality
    frame = { 
        number = 1 
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		} 
    }
	# Supermajority
	frame = { 
        number = 9 
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			is_variable_equal = { which = AN_secondary_religion value = 0 } 
		} 
    }
	# Majority
	frame = { 
        number = 17
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 19
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 20
        trigger = {
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 22
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					is_variable_equal = { which = AN_secondary_religion value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	#Slim Majority
	frame = { 
        number = 25
        trigger = { 
			owner = { religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 26
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 27
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 28
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 29
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 30
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 3 }
					is_variable_equal = { which = AN_secondary_religion value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_religion_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
				}
			}
		}
    }
	#Plurality
	frame = { 
        number = 33
        trigger = {
			owner = { religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 34 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_province_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 35 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 36 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_maj	
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 37 
        trigger = {
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
	frame = { 
        number = 38
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_maj		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_maj	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_province_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_province_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } 
		} 
    }
}

custom_button = {
    name = minority_religion_interact
    potential = { 
		owned_by = FROM 
		check_variable = { which = AN_minority_religion_size value = 1 }
	}
    trigger = { hidden_trigger = { check_variable = { which = AN_minority_religion_size value = 1 } } }
    effect = { AN_check_religion_minorities = yes }
    tooltip = AN_minority_religion_UI_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			owner = { religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_min	
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_min		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_min	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			owner = { religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_min	
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_min		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_min	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			owner = { religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 20
        trigger = {
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_min	
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_min		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_min	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		}
    }
}

custom_icon = {
    name = minority_religion_view
    potential = { 
		OR = {
			NOT = { owned_by = FROM } 
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
		}
	}
  #  trigger = { hidden_trigger = { owned_by = FROM } }
  #  effect = { AN_check_religion_minorities = yes }
    tooltip = AN_minority_religion_UI_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			owner = { religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_min	
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_min		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_min	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			owner = { religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_min	
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_min		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_min	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			owner = { religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_minority_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 20
        trigger = {
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_min	
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_min		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_min	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_minority_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_minority_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_minority_religion_size value = 0 }
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		}
    }
}


custom_button = {
    name = secondary_religion_interact
    potential = { 
		owned_by = FROM 
		NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
	}
    trigger = { hidden_trigger = { NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } } } }
    effect = { AN_check_religion_minorities = yes }
    tooltip = AN_secondary_religion_UI_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			owner = { religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_sec	
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_sec		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_sec	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			owner = { religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_sec	
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_sec		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_sec	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			owner = { religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 20
        trigger = {
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_sec	
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_sec		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_sec	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		}
    }
}

custom_icon = {
    name = secondary_religion_view
    potential = {
		OR = {
			NOT = { owned_by = FROM } 
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		}
	}
  #  trigger = { hidden_trigger = { owned_by = FROM } }
  #  effect = { AN_check_religion_minorities = yes }
    tooltip = AN_secondary_religion_UI_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			owner = { religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_sec	
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_sec		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_sec	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			owner = { religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_sec	
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_sec		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_sec	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			owner = { religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { secondary_religion = variable:PREV:AN_secondary_religion }
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 20
        trigger = {
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}	
			has_province_flag = AN_tolerate_sec	
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			OR = {
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { check_variable = { which = AN_tol_htc value = 0 } }
					has_province_flag = AN_persecute_sec		
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { check_variable = { which = AN_tol_hth value = 0 } }
					has_province_flag = AN_persecute_sec	
				}
				AND = {
					owner = { religion_group = variable:PREV:AN_secondary_religion }
					owner = { NOT = { check_variable = { which = AN_tol_htc value = 0 } } }
				}
				AND = {
					owner = { NOT = { religion_group = variable:PREV:AN_secondary_religion } } 
					owner = { NOT = { check_variable = { which = AN_tol_hth value = 0 } } }
				}
			}
			is_variable_equal = { which = AN_minority_religion_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_religion value = 0 } }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_secondary_religion value = 0 }
		}
    }
}
