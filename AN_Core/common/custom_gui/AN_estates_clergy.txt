###Church
custom_window = {
    name = spirit_auth_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = spirit_auth_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_spirit_auth_0 
    tooltip = estate_church_spirit_auth_0 
	potential = { FROM = { ai = no has_country_flag = spirit_auth_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_reform = state_secularism_reform
					has_reform = anticlericalism_reform	
				}
			}
		}
		NOT = { has_reform = full_constitutionalism_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: III-IV"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_2
					has_estate_privilege = estate_church_spirit_auth_3
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_spirit_auth_0 = { clr_country_flag = no_estate_select }
				estate_church_spirit_auth_1 = { set_country_flag = estate_church_spirit_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_2 = { set_country_flag = estate_church_spirit_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_3 = { set_country_flag = estate_church_spirit_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_spirit_auth_0
		clr_country_flag = spirit_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_spirit_auth_1 
    tooltip = estate_church_spirit_auth_1 
	potential = { FROM = { ai = no has_country_flag = spirit_auth_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_reform = state_secularism_reform
					has_reform = anticlericalism_reform	
				}
			}
		}
		NOT = { has_reform = full_constitutionalism_reform }
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_spirit_auth_0 = { set_country_flag = estate_church_spirit_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_1 = { clr_country_flag = no_estate_select }
				estate_church_spirit_auth_2 = { set_country_flag = estate_church_spirit_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_3 = { set_country_flag = estate_church_spirit_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_spirit_auth_1
		clr_country_flag = spirit_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_spirit_auth_2 
    tooltip = estate_church_spirit_auth_2 
	potential = { FROM = { ai = no has_country_flag = spirit_auth_window } }
    trigger = {  
		NOT = { has_reform = sovereign_religion_reform }
		NOT = { has_reform = religious_elite_reform }
		NOT = { has_reform = divine_mandate_reform }
		NOT = { has_estate_privilege = estate_church_spirit_auth_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_reform = estate_church_temp_auth_0
					has_reform = estate_church_temp_auth_1	
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_spirit_auth_0 = { set_country_flag = estate_church_spirit_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_1 = { set_country_flag = estate_church_spirit_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_2 = { clr_country_flag = no_estate_select }
				estate_church_spirit_auth_3 = { set_country_flag = estate_church_spirit_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_spirit_auth_2
		clr_country_flag = spirit_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_spirit_auth_3 
    tooltip = estate_church_spirit_auth_3 
	potential = { FROM = { ai = no has_country_flag = spirit_auth_window } }
    trigger = {  
		has_institution = enlightenment
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: I; III"
				OR = {
					has_reform = sovereign_religion_reform
					has_reform = personal_divinity_reform	
				}
			}
		}
		NOT = { has_reform = religious_elite_reform }
		NOT = { has_reform = divine_mandate_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: V-VI"
			OR = {
				has_reform = estate_church_temp_auth_4
				has_reform = estate_church_temp_auth_5
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: I-II"
				OR = {
					has_reform = estate_church_spirit_auth_0
					has_reform = estate_church_spirit_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_spirit_auth_0 = { set_country_flag = estate_church_spirit_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_1 = { set_country_flag = estate_church_spirit_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_2 = { set_country_flag = estate_church_spirit_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_spirit_auth_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_spirit_auth_3
		clr_country_flag = spirit_auth_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = temp_auth_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = temp_auth_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_temp_auth_0 
    tooltip = estate_church_temp_auth_0 
	potential = { FROM = { ai = no has_country_flag = temp_auth_window } }
    trigger = {  
		has_reform = divine_mandate_reform
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpiritual Authority§!: I-II"
			OR = {
				has_reform = estate_church_spirit_auth_0
				has_reform = estate_church_spirit_auth_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLegislative Apparatus§!: V-VII"
				OR = {
					has_reform = estate_bureaucracy_leg_app_3
					has_reform = estate_bureaucracy_leg_app_4
					has_reform = estate_bureaucracy_leg_app_5
					has_reform = estate_bureaucracy_leg_app_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Hierarchy§!: I-II"
				OR = {
					has_reform = estate_church_hierarchy_0
					has_reform = estate_church_hierarchy_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YUrban Governance§!: IV-VI£up£"
				OR = {
					has_reform = estate_burghers_urban_gov_3
					has_reform = estate_burghers_urban_gov_4
					has_reform = estate_burghers_urban_gov_8
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £burghers£§YSpeech & Assembly§!: IV-V£up£"
				OR = {
					has_reform = estate_burghers_assembly_3
					has_reform = estate_burghers_assembly_4
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_temp_auth_0 = { clr_country_flag = no_estate_select }
				estate_church_temp_auth_1 = { set_country_flag = estate_church_temp_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_2 = { set_country_flag = estate_church_temp_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_3 = { set_country_flag = estate_church_temp_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_4 = { set_country_flag = estate_church_temp_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_5 = { set_country_flag = estate_church_temp_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_temp_auth_0
		clr_country_flag = temp_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_temp_auth_1 
    tooltip = estate_church_temp_auth_1 
	potential = { FROM = { ai = no has_country_flag = temp_auth_window } }
    trigger = {  
		OR = {
			has_reform = sovereign_religion_reform
			AND = {
				has_reform = personal_divinity_reform
				has_reform = religious_elite_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpiritual Authority§!: I-II"
			OR = {
				has_reform = estate_church_spirit_auth_0
				has_reform = estate_church_spirit_auth_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLegislative Apparatus§!: VI-VII£up£"
				OR = {
					has_reform = estate_bureaucracy_leg_app_5
					has_reform = estate_bureaucracy_leg_app_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Hierarchy§!: I-II"
				OR = {
					has_reform = estate_church_hierarchy_0
					has_reform = estate_church_hierarchy_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_burghers_urban_gov_8 }
		NOT = { has_estate_privilege = estate_burghers_assembly_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_temp_auth_0 = { set_country_flag = estate_church_temp_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_1 = { clr_country_flag = no_estate_select }
				estate_church_temp_auth_2 = { set_country_flag = estate_church_temp_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_3 = { set_country_flag = estate_church_temp_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_4 = { set_country_flag = estate_church_temp_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_5 = { set_country_flag = estate_church_temp_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_temp_auth_1
		clr_country_flag = temp_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_temp_auth_2 
    tooltip = estate_church_temp_auth_2 
	potential = { FROM = { ai = no has_country_flag = temp_auth_window } }
    trigger = {  
		has_reform = subordinate_religion_reform
		OR = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "Has granted £church£§YClerical Appointment§!: I-III"
					OR = {
						has_estate_privilege = estate_church_appoint_0
						has_estate_privilege = estate_church_appoint_1
						has_estate_privilege = estate_church_appoint_2
					}
				}
				NOT = { has_estate_privilege = estate_church_admin_0 }
			}
			has_estate_privilege = estate_church_admin_0
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_proselytism_6 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_temp_auth_0 = { set_country_flag = estate_church_temp_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_1 = { set_country_flag = estate_church_temp_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_2 = { clr_country_flag = no_estate_select }
				estate_church_temp_auth_3 = { set_country_flag = estate_church_temp_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_4 = { set_country_flag = estate_church_temp_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_5 = { set_country_flag = estate_church_temp_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_temp_auth_2
		clr_country_flag = temp_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_temp_auth_3 
    tooltip = estate_church_temp_auth_3 
	potential = { FROM = { ai = no has_country_flag = temp_auth_window } }
    trigger = {  
		has_institution = scholasticism
		has_reform = subordinate_religion_reform
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_leg_app_0 }
		NOT = { has_estate_privilege = estate_church_spirit_auth_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_proselytism_6 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_temp_auth_0 = { set_country_flag = estate_church_temp_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_1 = { set_country_flag = estate_church_temp_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_2 = { set_country_flag = estate_church_temp_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_3 = { clr_country_flag = no_estate_select }
				estate_church_temp_auth_4 = { set_country_flag = estate_church_temp_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_5 = { set_country_flag = estate_church_temp_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_temp_auth_3
		clr_country_flag = temp_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_temp_auth_4 
    tooltip = estate_church_temp_auth_4 
	potential = { FROM = { ai = no has_country_flag = temp_auth_window } }
    trigger = {  
		has_institution = state_sovereignty
		has_reform = state_secularism_reform
		custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: III-IV"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_2
					has_estate_privilege = estate_church_spirit_auth_3
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpiritual Authority§!: III-IV"
			OR = {
				has_estate_privilege = estate_church_spirit_auth_2
				has_estate_privilege = estate_church_spirit_auth_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Lands§!: I-II"
			OR = {
				has_estate_privilege = estate_church_lands_0
				has_estate_privilege = estate_church_lands_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-IV£down£"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
					has_estate_privilege = estate_church_finance_2
					has_estate_privilege = estate_church_finance_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_ed_5 }
		NOT = { has_estate_privilege = estate_church_patronage_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_temp_auth_0 = { set_country_flag = estate_church_temp_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_1 = { set_country_flag = estate_church_temp_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_2 = { set_country_flag = estate_church_temp_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_3 = { set_country_flag = estate_church_temp_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_4 = { clr_country_flag = no_estate_select }
				estate_church_temp_auth_5 = { set_country_flag = estate_church_temp_auth_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_temp_auth_4
		clr_country_flag = temp_auth_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_temp_auth_5 
    tooltip = estate_church_temp_auth_5 
	potential = { FROM = { ai = no has_country_flag = temp_auth_window } }
    trigger = {  
		has_institution = enlightenment
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YReligious Authority§!: IV-V"
			OR = {
				has_reform = state_secularism_reform
				has_reform = anticlericalism_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpiritual Authority§!: III-IV"
			OR = {
				has_estate_privilege = estate_church_spirit_auth_2
				has_estate_privilege = estate_church_spirit_auth_3
			}
		}
		has_estate_privilege = estate_church_finance_7
		has_estate_privilege = estate_church_oblig_3
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Education§!: I-II"
			OR = {
				has_estate_privilege = estate_church_ed_0
				has_estate_privilege = estate_church_ed_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YMonasterial Status§!: I-III"
			OR = {
				has_estate_privilege = estate_church_monasteries_0
				has_estate_privilege = estate_church_monasteries_1
				has_estate_privilege = estate_church_monasteries_2
			}
		}
		has_estate_privilege = estate_church_patronage_0
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_temp_auth_0 = { set_country_flag = estate_church_temp_auth_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_1 = { set_country_flag = estate_church_temp_auth_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_2 = { set_country_flag = estate_church_temp_auth_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_3 = { set_country_flag = estate_church_temp_auth_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_4 = { set_country_flag = estate_church_temp_auth_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_temp_auth_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_temp_auth_5
		clr_country_flag = temp_auth_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_admin_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_admin_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_admin_0 
    tooltip = estate_church_admin_0 
	potential = { FROM = { ai = no has_country_flag = church_admin_window } }
    trigger = {  
		religion = catholic
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_admin_0 = { clr_country_flag = no_estate_select }
				estate_church_admin_1 = { set_country_flag = estate_church_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_2 = { set_country_flag = estate_church_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_3 = { set_country_flag = estate_church_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_4 = { set_country_flag = estate_church_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_admin_0
		clr_country_flag = church_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_admin_1 
    tooltip = estate_church_admin_1 
	potential = { FROM = { ai = no has_country_flag = church_admin_window } }
    trigger = {  
		OR = {
			religion = orthodox
			religion = anglican
			religion = hussite
			religion = coptic
			religion = apostolic
			religion = syriac
			religion = nestorian
			religion = mormon
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_admin_0 = { set_country_flag = estate_church_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_1 = { clr_country_flag = no_estate_select }
				estate_church_admin_2 = { set_country_flag = estate_church_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_3 = { set_country_flag = estate_church_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_4 = { set_country_flag = estate_church_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_admin_1
		clr_country_flag = church_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_admin_2 
    tooltip = estate_church_admin_2 
	potential = { FROM = { ai = no has_country_flag = church_admin_window } }
    trigger = {  
		OR = {
			religion = protestant
			religion = reformed
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_admin_0 = { set_country_flag = estate_church_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_1 = { set_country_flag = estate_church_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_2 = { clr_country_flag = no_estate_select }
				estate_church_admin_3 = { set_country_flag = estate_church_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_4 = { set_country_flag = estate_church_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_admin_2
		clr_country_flag = church_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_admin_3 
    tooltip = estate_church_admin_3 
	potential = { FROM = { ai = no has_country_flag = church_admin_window } }
    trigger = {  
		OR = {
			religion = protestant
			religion = reformed
			religion = evangelical
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_admin_0 = { set_country_flag = estate_church_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_1 = { set_country_flag = estate_church_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_2 = { set_country_flag = estate_church_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_3 = { clr_country_flag = no_estate_select }
				estate_church_admin_4 = { set_country_flag = estate_church_admin_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_admin_3
		clr_country_flag = church_admin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_admin_4 
    tooltip = estate_church_admin_4 
	potential = { FROM = { ai = no has_country_flag = church_admin_window } }
    trigger = {  
		OR = {
			religion = protestant
			religion = reformed
			religion = evangelical
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_admin_0 = { set_country_flag = estate_church_admin_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_1 = { set_country_flag = estate_church_admin_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_2 = { set_country_flag = estate_church_admin_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_3 = { set_country_flag = estate_church_admin_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_admin_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_admin_4
		clr_country_flag = church_admin_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_fin_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_fin_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_finance_0 
    tooltip = estate_church_finance_0 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = {  
		OR = {
			has_reform = sovereign_religion_reform
			has_reform = religious_elite_reform
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YEconomic Regulation§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_econ_reg_0
				has_estate_privilege = estate_bureaucracy_econ_reg_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: I-III"
			OR = {
				has_estate_privilege = estate_church_temp_auth_0
				has_estate_privilege = estate_church_temp_auth_1
				has_estate_privilege = estate_church_temp_auth_2
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: I-II"
			OR = {
				has_estate_privilege = estate_church_oblig_0
				has_estate_privilege = estate_church_oblig_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRevenue Collection§!: VI-VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_5
					has_estate_privilege = estate_bureaucracy_rev_collect_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: V-VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_4
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_6
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: III-IV"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_2 
					has_estate_privilege = estate_church_spirit_auth_3
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Lands§!: I-II"
				OR = {
					has_estate_privilege = estate_church_lands_0
					has_estate_privilege = estate_church_lands_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { clr_country_flag = no_estate_select }
				estate_church_finance_1 = { set_country_flag = estate_church_finance_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_2 = { set_country_flag = estate_church_finance_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_3 = { set_country_flag = estate_church_finance_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_4 = { set_country_flag = estate_church_finance_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_5 = { set_country_flag = estate_church_finance_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_6 = { set_country_flag = estate_church_finance_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_7 = { set_country_flag = estate_church_finance_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_finance_0
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_finance_1 
    tooltip = estate_church_finance_1 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = {  
		OR = {
			has_reform = sovereign_religion_reform
			has_reform = subordinate_religion_reform
			has_reform = religious_elite_reform
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YEconomic Regulation§!: I-II"
			OR = {
				has_estate_privilege = estate_bureaucracy_econ_reg_0
				has_estate_privilege = estate_bureaucracy_econ_reg_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: I-II"
			OR = {
				has_estate_privilege = estate_church_oblig_0
				has_estate_privilege = estate_church_oblig_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRevenue Collection§!: VI-VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_5
					has_estate_privilege = estate_bureaucracy_rev_collect_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: V-VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_4
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_6
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: III-IV"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_2 
					has_estate_privilege = estate_church_spirit_auth_3
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
		NOT = { has_estate_privilege = estate_church_lands_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { set_country_flag = estate_church_finance_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_1 = { clr_country_flag = no_estate_select }
				estate_church_finance_2 = { set_country_flag = estate_church_finance_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_3 = { set_country_flag = estate_church_finance_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_4 = { set_country_flag = estate_church_finance_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_5 = { set_country_flag = estate_church_finance_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_6 = { set_country_flag = estate_church_finance_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_7 = { set_country_flag = estate_church_finance_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_finance_1
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_finance_2 
    tooltip = estate_church_finance_2 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: I-II"
			OR = {
				has_estate_privilege = estate_church_oblig_0
				has_estate_privilege = estate_church_oblig_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRevenue Collection§!: I-II; VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_0
					has_estate_privilege = estate_bureaucracy_rev_collect_1
					has_estate_privilege = estate_bureaucracy_rev_collect_6
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: III-IV"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_2 
					has_estate_privilege = estate_church_spirit_auth_3
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { set_country_flag = estate_church_finance_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_1 = { set_country_flag = estate_church_finance_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_2 = { clr_country_flag = no_estate_select }
				estate_church_finance_3 = { set_country_flag = estate_church_finance_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_4 = { set_country_flag = estate_church_finance_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_5 = { set_country_flag = estate_church_finance_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_6 = { set_country_flag = estate_church_finance_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_7 = { set_country_flag = estate_church_finance_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_finance_2
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_finance_3 
    tooltip = estate_church_finance_3 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: I-II"
			OR = {
				has_estate_privilege = estate_church_oblig_0
				has_estate_privilege = estate_church_oblig_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRevenue Collection§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_0
					has_estate_privilege = estate_bureaucracy_rev_collect_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { set_country_flag = estate_church_finance_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_1 = { set_country_flag = estate_church_finance_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_2 = { set_country_flag = estate_church_finance_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_3 = { clr_country_flag = no_estate_select }
				estate_church_finance_4 = { set_country_flag = estate_church_finance_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_5 = { set_country_flag = estate_church_finance_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_6 = { set_country_flag = estate_church_finance_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_7 = { set_country_flag = estate_church_finance_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_finance_3
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_finance_4 
    tooltip = estate_church_finance_4 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRevenue Collection§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_0
					has_estate_privilege = estate_bureaucracy_rev_collect_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_spirit_auth_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I; VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_oblig_3 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { set_country_flag = estate_church_finance_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_1 = { set_country_flag = estate_church_finance_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_2 = { set_country_flag = estate_church_finance_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_3 = { set_country_flag = estate_church_finance_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_4 = { clr_country_flag = no_estate_select }
				estate_church_finance_5 = { set_country_flag = estate_church_finance_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_6 = { set_country_flag = estate_church_finance_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_7 = { set_country_flag = estate_church_finance_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_finance_4
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_finance_5 
    tooltip = estate_church_finance_5 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: I; III£up£"
			OR = {
				has_estate_privilege = estate_church_oblig_0
				has_estate_privilege = estate_church_oblig_2
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { set_country_flag = estate_church_finance_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_1 = { set_country_flag = estate_church_finance_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_2 = { set_country_flag = estate_church_finance_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_3 = { set_country_flag = estate_church_finance_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_4 = { set_country_flag = estate_church_finance_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_5 = { clr_country_flag = no_estate_select }
				estate_church_finance_6 = { set_country_flag = estate_church_finance_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_7 = { set_country_flag = estate_church_finance_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_finance_5
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_finance_6 
    tooltip = estate_church_finance_6 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = { 
		NOT = {
			OR = {
				has_reform = sovereign_religion_reform
				has_reform = religious_elite_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: III"
			OR = {
				has_estate_privilege = estate_church_oblig_2
				has_estate_privilege = estate_church_oblig_3
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II; VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { set_country_flag = estate_church_finance_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_1 = { set_country_flag = estate_church_finance_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_2 = { set_country_flag = estate_church_finance_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_3 = { set_country_flag = estate_church_finance_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_4 = { set_country_flag = estate_church_finance_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_5 = { set_country_flag = estate_church_finance_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_6 = { clr_country_flag = no_estate_select }
				estate_church_finance_7 = { set_country_flag = estate_church_finance_7 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_finance_6
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_finance_7 
    tooltip = estate_church_finance_7 
	potential = { FROM = { ai = no has_country_flag = church_fin_window } }
    trigger = {  
		NOT = {
			OR = {
				has_reform = sovereign_religion_reform
				has_reform = religious_elite_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_church_temp_auth_4
				has_estate_privilege = estate_church_temp_auth_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: III"
			OR = {
				has_estate_privilege = estate_church_oblig_2
				has_estate_privilege = estate_church_oblig_3
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_spirt }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_finance_0 = { set_country_flag = estate_church_finance_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_1 = { set_country_flag = estate_church_finance_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_2 = { set_country_flag = estate_church_finance_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_3 = { set_country_flag = estate_church_finance_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_4 = { set_country_flag = estate_church_finance_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_5 = { set_country_flag = estate_church_finance_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_6 = { set_country_flag = estate_church_finance_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_finance_7 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_finance_7
		clr_country_flag = church_fin_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_oblig_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_oblig_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_oblig_0 
    tooltip = estate_church_oblig_0 
	potential = { FROM = { ai = no has_country_flag = church_oblig_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_reform = state_secularism_reform
					has_reform = anticlericalism_reform
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_6 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }		
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_3 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_oblig_0 = { clr_country_flag = no_estate_select }
				estate_church_oblig_1 = { set_country_flag = estate_church_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_2 = { set_country_flag = estate_church_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_3 = { set_country_flag = estate_church_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_oblig_0
		clr_country_flag = church_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_oblig_1 
    tooltip = estate_church_oblig_1 
	potential = { FROM = { ai = no has_country_flag = church_oblig_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_reform = state_secularism_reform
					has_reform = anticlericalism_reform
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_rev_collect_6 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { has_estate_privilege = estate_bureaucracy_politicization_3 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I; VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_oblig_0 = { set_country_flag = estate_church_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_1 = { clr_country_flag = no_estate_select }
				estate_church_oblig_2 = { set_country_flag = estate_church_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_3 = { set_country_flag = estate_church_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_oblig_1
		clr_country_flag = church_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_oblig_2 
    tooltip = estate_church_oblig_2 
	potential = { FROM = { ai = no has_country_flag = church_oblig_window } }
    trigger = {  
		has_institution = scholasticism
		NOT = {
			OR = {
				has_reform = sovereign_religion_reform
				has_reform = religious_elite_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_church_temp_auth_4
				has_estate_privilege = estate_church_temp_auth_5
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YRevenue Collection§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_rev_collect_0
					has_estate_privilege = estate_bureaucracy_rev_collect_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_spirit_auth_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-IV£down£"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
					has_estate_privilege = estate_church_finance_2
					has_estate_privilege = estate_church_finance_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_oblig_0 = { set_country_flag = estate_church_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_1 = { set_country_flag = estate_church_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_2 = { clr_country_flag = no_estate_select }
				estate_church_oblig_3 = { set_country_flag = estate_church_oblig_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_oblig_2
		clr_country_flag = church_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_oblig_3 
    tooltip = estate_church_oblig_3 
	potential = { FROM = { ai = no has_country_flag = church_oblig_window } }
    trigger = {  
		has_institution = scholasticism
		NOT = {
			OR = {
				has_reform = sovereign_religion_reform
				has_reform = religious_elite_reform
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £bureaucracy£ §YRevenue Collection§!: V-VII"
			OR = {
				has_estate_privilege = estate_bureaucracy_rev_collect_4
				has_estate_privilege = estate_bureaucracy_rev_collect_5
				has_estate_privilege = estate_bureaucracy_rev_collect_6
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_church_temp_auth_4
				has_estate_privilege = estate_church_temp_auth_5
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_0
					has_estate_privilege = estate_church_spirit_auth_1
				}
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-II"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_oblig_0 = { set_country_flag = estate_church_oblig_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_1 = { set_country_flag = estate_church_oblig_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_2 = { set_country_flag = estate_church_oblig_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_oblig_3 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_oblig_3
		clr_country_flag = church_oblig_window #clr_country_flag = no_estate_select
	} #Effect
}

####Privs
###
custom_window = {
    name = church_hier_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_hier_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_hierarchy_0 
    tooltip = estate_church_hierarchy_0 
	potential = { FROM = { ai = no has_country_flag = church_hier_window } }
    trigger = {  
		NOT = {
			OR = {
				has_reform = sovereign_religion_reform
				has_reform = religious_elite_reform
			}
		}
		has_estate_privilege = estate_church_spirit_auth_3
		has_estate_privilege = estate_church_admin_3
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_hierarchy_0 = { clr_country_flag = no_estate_select }
				estate_church_hierarchy_1 = { set_country_flag = estate_church_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_2 = { set_country_flag = estate_church_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_3 = { set_country_flag = estate_church_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_4 = { set_country_flag = estate_church_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_hierarchy_0
		clr_country_flag = church_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_hierarchy_1 
    tooltip = estate_church_hierarchy_1 
	potential = { FROM = { ai = no has_country_flag = church_hier_window } }
    trigger = {  
		NOT = {
			OR = {
				has_reform = sovereign_religion_reform
				has_reform = religious_elite_reform
			}
		}
		has_estate_privilege = estate_church_admin_3
		NOT = { has_estate_privilege = estate_church_spirit_auth_0 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-II"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_hierarchy_0 = { set_country_flag = estate_church_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_1 = { clr_country_flag = no_estate_select }
				estate_church_hierarchy_2 = { set_country_flag = estate_church_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_3 = { set_country_flag = estate_church_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_4 = { set_country_flag = estate_church_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_hierarchy_1
		clr_country_flag = church_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_hierarchy_2 
    tooltip = estate_church_hierarchy_2 
	potential = { FROM = { ai = no has_country_flag = church_hier_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Hierarchy§!: II; IV"
			OR = {
				has_estate_privilege = estate_church_hierarchy_1
				has_estate_privilege = estate_church_hierarchy_3
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_hierarchy_0 = { set_country_flag = estate_church_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_1 = { set_country_flag = estate_church_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_2 = { clr_country_flag = no_estate_select }
				estate_church_hierarchy_3 = { set_country_flag = estate_church_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_4 = { set_country_flag = estate_church_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_hierarchy_2
		clr_country_flag = church_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_hierarchy_3 
    tooltip = estate_church_hierarchy_3 
	potential = { FROM = { ai = no has_country_flag = church_hier_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Appointment§!: IV-VI"
			OR = {
				has_estate_privilege = estate_church_appoint_3
				has_estate_privilege = estate_church_appoint_4
				has_estate_privilege = estate_church_appoint_5
			}
		}
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_oblig_3 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_hierarchy_0 = { set_country_flag = estate_church_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_1 = { set_country_flag = estate_church_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_2 = { set_country_flag = estate_church_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_3 = { clr_country_flag = no_estate_select }
				estate_church_hierarchy_4 = { set_country_flag = estate_church_hierarchy_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_hierarchy_3
		clr_country_flag = church_hier_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_hierarchy_4 
    tooltip = estate_church_hierarchy_4 
	potential = { FROM = { ai = no has_country_flag = church_hier_window } }
    trigger = {  
		has_estate_privilege = estate_church_appoint_5
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: III-IV"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_2
					has_estate_privilege = estate_church_spirit_auth_3
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_admin_3 }
		NOT = { has_estate_privilege = estate_church_finance_7 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_hierarchy_0 = { set_country_flag = estate_church_hierarchy_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_1 = { set_country_flag = estate_church_hierarchy_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_2 = { set_country_flag = estate_church_hierarchy_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_3 = { set_country_flag = estate_church_hierarchy_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_hierarchy_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_hierarchy_4
		clr_country_flag = church_hier_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_lands_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_lands_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_lands_0 
    tooltip = estate_church_lands_0 
	potential = { FROM = { ai = no has_country_flag = church_lands_window } }
    trigger = {  
		has_institution = state_sovereignty
		NOT = { has_reform = sovereign_religion_reform }
		NOT = { has_reform = religious_elite_reform }
		NOT = { has_reform = divine_mandate_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_church_temp_auth_3
				has_estate_privilege = estate_church_temp_auth_4
				has_estate_privilege = estate_church_temp_auth_5
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: III"
			OR = {
				has_estate_privilege = estate_church_oblig_2
				has_estate_privilege = estate_church_oblig_3
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-IV"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
					has_estate_privilege = estate_bureaucracy_local_admin_2
					has_estate_privilege = estate_bureaucracy_local_admin_3
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_spirit_auth_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-II"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_monasteries_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_lands_0 = { clr_country_flag = no_estate_select }
				estate_church_lands_1 = { set_country_flag = estate_church_lands_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_2 = { set_country_flag = estate_church_lands_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_3 = { set_country_flag = estate_church_lands_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_4 = { set_country_flag = estate_church_lands_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_lands_0
		clr_country_flag = church_lands_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_lands_1 
    tooltip = estate_church_lands_1 
	potential = { FROM = { ai = no has_country_flag = church_lands_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: I; V"
				OR = {
					has_estate_privilege = sovereign_religion_reform
					has_estate_privilege = anticlericalism_reform
				}
			}
		}
		NOT = { has_reform = religious_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: III"
			OR = {
				has_estate_privilege = estate_church_oblig_2
				has_estate_privilege = estate_church_oblig_3
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_0
					has_estate_privilege = estate_bureaucracy_local_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Finance§!: I-II"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_monasteries_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_lands_0 = { set_country_flag = estate_church_lands_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_1 = { clr_country_flag = no_estate_select }
				estate_church_lands_2 = { set_country_flag = estate_church_lands_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_3 = { set_country_flag = estate_church_lands_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_4 = { set_country_flag = estate_church_lands_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_lands_1
		clr_country_flag = church_lands_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_lands_2 
    tooltip = estate_church_lands_2 
	potential = { FROM = { ai = no has_country_flag = church_lands_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_estate_privilege = state_secularism_reform
					has_estate_privilege = anticlericalism_reform
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I; V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_finance_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_lands_0 = { set_country_flag = estate_church_lands_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_1 = { set_country_flag = estate_church_lands_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_2 = { clr_country_flag = no_estate_select }
				estate_church_lands_3 = { set_country_flag = estate_church_lands_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_4 = { set_country_flag = estate_church_lands_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_lands_2
		clr_country_flag = church_lands_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_lands_3 
    tooltip = estate_church_lands_3 
	potential = { FROM = { ai = no has_country_flag = church_lands_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_estate_privilege = state_secularism_reform
					has_estate_privilege = anticlericalism_reform
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: I-III"
			OR = {
				has_estate_privilege = estate_church_temp_auth_0
				has_estate_privilege = estate_church_temp_auth_1
				has_estate_privilege = estate_church_temp_auth_2
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_oblig_3 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_lands_0 = { set_country_flag = estate_church_lands_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_1 = { set_country_flag = estate_church_lands_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_2 = { set_country_flag = estate_church_lands_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_3 = { clr_country_flag = no_estate_select }
				estate_church_lands_4 = { set_country_flag = estate_church_lands_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_lands_3
		clr_country_flag = church_lands_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_lands_4 
    tooltip = estate_church_lands_4 
	potential = { FROM = { ai = no has_country_flag = church_lands_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_estate_privilege = state_secularism_reform
					has_estate_privilege = anticlericalism_reform
				}
			}
		}
		NOT = { has_reform = total_absolutism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: I-II"
			OR = {
				has_estate_privilege = estate_church_temp_auth_0
				has_estate_privilege = estate_church_temp_auth_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Finance§!: I-II"
			OR = {
				has_estate_privilege = estate_church_finance_0
				has_estate_privilege = estate_church_finance_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Obligations§!: I-II"
			OR = {
				has_estate_privilege = estate_church_oblig_0
				has_estate_privilege = estate_church_oblig_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: V-VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_4
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_6
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YProvision of Justice§!: I; VII"
				OR = {
					has_estate_privilege = estate_bureaucracy_prov_justice_0
					has_estate_privilege = estate_bureaucracy_prov_justice_6
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_monasteries_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_lands_0 = { set_country_flag = estate_church_lands_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_1 = { set_country_flag = estate_church_lands_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_2 = { set_country_flag = estate_church_lands_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_3 = { set_country_flag = estate_church_lands_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_lands_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_lands_4
		clr_country_flag = church_lands_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_ed_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_ed_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_ed_0 
    tooltip = estate_church_ed_0 
	potential = { FROM = { ai = no has_country_flag = church_ed_window } }
    trigger = {  
		has_institution = enlightenment
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YReligious Authority§!: IV-V"
			OR = {
				has_estate_privilege = state_secularism_reform
				has_estate_privilege = anticlericalism_reform
			}
		}
		NOT = { has_reform = religious_elite_reform }
		NOT = { has_reform = divine_mandate_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_church_temp_auth_4
				has_estate_privilege = estate_church_temp_auth_5
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_ed_0 = { clr_country_flag = no_estate_select }
				estate_church_ed_1 = { set_country_flag = estate_church_ed_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_2 = { set_country_flag = estate_church_ed_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_3 = { set_country_flag = estate_church_ed_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_4 = { set_country_flag = estate_church_ed_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_5 = { set_country_flag = estate_church_ed_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_ed_0
		clr_country_flag = church_ed_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_ed_1 
    tooltip = estate_church_ed_1 
	potential = { FROM = { ai = no has_country_flag = church_ed_window } }
    trigger = {  
		NOT = { has_reform = anticlericalism_reform }
		NOT = { has_reform = divine_mandate_reform }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_ed_0 = { set_country_flag = estate_church_ed_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_1 = { clr_country_flag = no_estate_select }
				estate_church_ed_2 = { set_country_flag = estate_church_ed_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_3 = { set_country_flag = estate_church_ed_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_4 = { set_country_flag = estate_church_ed_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_5 = { set_country_flag = estate_church_ed_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_ed_1
		clr_country_flag = church_ed_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_ed_2 
    tooltip = estate_church_ed_2 
	potential = { FROM = { ai = no has_country_flag = church_ed_window } }
    trigger = {  
		NOT = { has_reform = anticlericalism_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_ed_0 = { set_country_flag = estate_church_ed_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_1 = { set_country_flag = estate_church_ed_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_2 = { clr_country_flag = no_estate_select }
				estate_church_ed_3 = { set_country_flag = estate_church_ed_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_4 = { set_country_flag = estate_church_ed_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_5 = { set_country_flag = estate_church_ed_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_ed_2
		clr_country_flag = church_ed_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_ed_3 
    tooltip = estate_church_ed_3 
	potential = { FROM = { ai = no has_country_flag = church_ed_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_estate_privilege = state_secularism_reform
					has_estate_privilege = anticlericalism_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YCentral Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_bureaucracy_central_admin_0
					has_estate_privilege = estate_bureaucracy_central_admin_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_0 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_ed_0 = { set_country_flag = estate_church_ed_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_1 = { set_country_flag = estate_church_ed_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_2 = { set_country_flag = estate_church_ed_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_3 = { clr_country_flag = no_estate_select }
				estate_church_ed_4 = { set_country_flag = estate_church_ed_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_5 = { set_country_flag = estate_church_ed_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_ed_3
		clr_country_flag = church_ed_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_ed_4 
    tooltip = estate_church_ed_4 
	potential = { FROM = { ai = no has_country_flag = church_ed_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_estate_privilege = state_secularism_reform
					has_estate_privilege = anticlericalism_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: III-IV"
				OR = {
					has_estate_privilege = principle_enlightment_reform
					has_estate_privilege = full_constitutionalism_reform
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_4 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
		NOT = { has_estate_privilege = estate_church_proselytism_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_ed_0 = { set_country_flag = estate_church_ed_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_1 = { set_country_flag = estate_church_ed_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_2 = { set_country_flag = estate_church_ed_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_3 = { set_country_flag = estate_church_ed_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_4 = { clr_country_flag = no_estate_select }
				estate_church_ed_5 = { set_country_flag = estate_church_ed_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_ed_4
		clr_country_flag = church_ed_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_ed_5 
    tooltip = estate_church_ed_5 
	potential = { FROM = { ai = no has_country_flag = church_ed_window } }
    trigger = {  
		has_institution = scholasticism
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_estate_privilege = state_secularism_reform
					has_estate_privilege = anticlericalism_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: II-IV"
				OR = {
					has_estate_privilege = total_absolutism_reform
					has_estate_privilege = principle_enlightment_reform
					has_estate_privilege = full_constitutionalism_reform
				}
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_4 }
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
		NOT = { has_estate_privilege = estate_church_proselytism_0 }
		NOT = { has_estate_privilege = estate_church_patronage_0 }
		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_ed_0 = { set_country_flag = estate_church_ed_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_1 = { set_country_flag = estate_church_ed_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_2 = { set_country_flag = estate_church_ed_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_3 = { set_country_flag = estate_church_ed_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_4 = { set_country_flag = estate_church_ed_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_ed_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_ed_5
		clr_country_flag = church_ed_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_appoint_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_appoint_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_appoint_0 
    tooltip = estate_church_appoint_0 
	potential = { FROM = { ai = no has_country_flag = church_appoint_window } }
    trigger = {  
		NOT = { has_reform = sovereign_religion_reform }
		NOT = { has_reform = divine_mandate_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpiritual Authority§!: III-IV"
			OR = {
				has_estate_privilege = estate_church_spirit_auth_2
				has_estate_privilege = estate_church_spirit_auth_3
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: IV-VI"
			OR = {
				has_estate_privilege = estate_church_temp_auth_3
				has_estate_privilege = estate_church_temp_auth_4
				has_estate_privilege = estate_church_temp_auth_5
			}
		}
		NOT = { has_estate_privilege = estate_church_temp_auth_0 }
		NOT = { has_estate_privilege = estate_church_admin_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Hierarchy§!: I-II"
				OR = {
					has_estate_privilege = estate_church_hierarchy_0
					has_estate_privilege = estate_church_hierarchy_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_appoint_0 = { clr_country_flag = no_estate_select }
				estate_church_appoint_1 = { set_country_flag = estate_church_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_2 = { set_country_flag = estate_church_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_3 = { set_country_flag = estate_church_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_4 = { set_country_flag = estate_church_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_5 = { set_country_flag = estate_church_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_appoint_0
		clr_country_flag = church_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_appoint_1 
    tooltip = estate_church_appoint_1 
	potential = { FROM = { ai = no has_country_flag = church_appoint_window } }
    trigger = {  
		NOT = { has_reform = sovereign_religion_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpiritual Authority§!: III-IV"
			OR = {
				has_estate_privilege = estate_church_spirit_auth_2
				has_estate_privilege = estate_church_spirit_auth_3
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_admin_0 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_appoint_0 = { set_country_flag = estate_church_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_1 = { clr_country_flag = no_estate_select }
				estate_church_appoint_2 = { set_country_flag = estate_church_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_3 = { set_country_flag = estate_church_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_4 = { set_country_flag = estate_church_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_5 = { set_country_flag = estate_church_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_appoint_1
		clr_country_flag = church_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_appoint_2 
    tooltip = estate_church_appoint_2 
	potential = { FROM = { ai = no has_country_flag = church_appoint_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_admin_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_appoint_0 = { set_country_flag = estate_church_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_1 = { set_country_flag = estate_church_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_2 = { clr_country_flag = no_estate_select }
				estate_church_appoint_3 = { set_country_flag = estate_church_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_4 = { set_country_flag = estate_church_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_5 = { set_country_flag = estate_church_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_appoint_2
		clr_country_flag = church_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_appoint_3 
    tooltip = estate_church_appoint_3 
	potential = { FROM = { ai = no has_country_flag = church_appoint_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_appoint_0 = { set_country_flag = estate_church_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_1 = { set_country_flag = estate_church_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_2 = { set_country_flag = estate_church_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_3 = { clr_country_flag = no_estate_select }
				estate_church_appoint_4 = { set_country_flag = estate_church_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_5 = { set_country_flag = estate_church_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_appoint_3
		clr_country_flag = church_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_appoint_4 
    tooltip = estate_church_appoint_4 
	potential = { FROM = { ai = no has_country_flag = church_appoint_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_church_spirit_auth_3 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_appoint_0 = { set_country_flag = estate_church_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_1 = { set_country_flag = estate_church_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_2 = { set_country_flag = estate_church_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_3 = { set_country_flag = estate_church_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_4 = { clr_country_flag = no_estate_select }
				estate_church_appoint_5 = { set_country_flag = estate_church_appoint_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_appoint_4
		clr_country_flag = church_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_appoint_5 
    tooltip = estate_church_appoint_5 
	potential = { FROM = { ai = no has_country_flag = church_appoint_window } }
    trigger = {  
		NOT = { has_reform = anticlericalism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpiritual Authority§!: I-II"
			OR = {
				has_estate_privilege = estate_church_spirit_auth_0
				has_estate_privilege = estate_church_spirit_auth_1
			}
		}
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Hierarchy§!: IV-V"
			OR = {
				has_estate_privilege = estate_church_hierarchy_3
				has_estate_privilege = estate_church_hierarchy_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_admin_3 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_appoint_0 = { set_country_flag = estate_church_appoint_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_1 = { set_country_flag = estate_church_appoint_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_2 = { set_country_flag = estate_church_appoint_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_3 = { set_country_flag = estate_church_appoint_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_4 = { set_country_flag = estate_church_appoint_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_appoint_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_appoint_5
		clr_country_flag = church_appoint_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_monastery_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_monastery_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_monasteries_0 
    tooltip = estate_church_monasteries_0 
	potential = { FROM = { ai = no has_country_flag = church_monastery_window } }
    trigger = {  
		NOT = { has_reform = sovereign_religion_reform }
		NOT = { has_reform = religious_elite_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Lands§!: I-II"
			OR = {
				has_estate_privilege = estate_church_lands_0
				has_estate_privilege = estate_church_lands_1
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_church_admin_0
					has_estate_privilege = estate_church_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_0
					has_estate_privilege = estate_church_spirit_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_monasteries_0 = { clr_country_flag = no_estate_select }
				estate_church_monasteries_1 = { set_country_flag = estate_church_monasteries_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_2 = { set_country_flag = estate_church_monasteries_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_3 = { set_country_flag = estate_church_monasteries_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_4 = { set_country_flag = estate_church_monasteries_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_5 = { set_country_flag = estate_church_monasteries_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_monasteries_0
		clr_country_flag = church_monastery_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_monasteries_1 
    tooltip = estate_church_monasteries_1 
	potential = { FROM = { ai = no has_country_flag = church_monastery_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Administration§!: I-II"
				OR = {
					has_estate_privilege = estate_church_admin_0
					has_estate_privilege = estate_church_admin_1
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpiritual Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_0
					has_estate_privilege = estate_church_spirit_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_4 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_monasteries_0 = { set_country_flag = estate_church_monasteries_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_1 = { clr_country_flag = no_estate_select }
				estate_church_monasteries_2 = { set_country_flag = estate_church_monasteries_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_3 = { set_country_flag = estate_church_monasteries_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_4 = { set_country_flag = estate_church_monasteries_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_5 = { set_country_flag = estate_church_monasteries_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_monasteries_1
		clr_country_flag = church_monastery_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_monasteries_2 
    tooltip = estate_church_monasteries_2 
	potential = { FROM = { ai = no has_country_flag = church_monastery_window } }
    trigger = {  
		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_monasteries_0 = { set_country_flag = estate_church_monasteries_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_1 = { set_country_flag = estate_church_monasteries_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_2 = { clr_country_flag = no_estate_select }
				estate_church_monasteries_3 = { set_country_flag = estate_church_monasteries_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_4 = { set_country_flag = estate_church_monasteries_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_5 = { set_country_flag = estate_church_monasteries_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_monasteries_2
		clr_country_flag = church_monastery_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_monasteries_3 
    tooltip = estate_church_monasteries_3 
	potential = { FROM = { ai = no has_country_flag = church_monastery_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_bureaucracy_local_admin_7 }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Lands§!: I-II"
				OR = {
					has_estate_privilege = estate_church_lands_0
					has_estate_privilege = estate_church_lands_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_monasteries_0 = { set_country_flag = estate_church_monasteries_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_1 = { set_country_flag = estate_church_monasteries_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_2 = { set_country_flag = estate_church_monasteries_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_3 = { clr_country_flag = no_estate_select }
				estate_church_monasteries_4 = { set_country_flag = estate_church_monasteries_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_5 = { set_country_flag = estate_church_monasteries_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_monasteries_3
		clr_country_flag = church_monastery_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_monasteries_4 
    tooltip = estate_church_monasteries_4 
	potential = { FROM = { ai = no has_country_flag = church_monastery_window } }
    trigger = {  
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YClerical Lands§!: IV-V"
			OR = {
				has_estate_privilege = estate_church_lands_3
				has_estate_privilege = estate_church_lands_4
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }		
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_monasteries_0 = { set_country_flag = estate_church_monasteries_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_1 = { set_country_flag = estate_church_monasteries_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_2 = { set_country_flag = estate_church_monasteries_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_3 = { set_country_flag = estate_church_monasteries_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_4 = { clr_country_flag = no_estate_select }
				estate_church_monasteries_5 = { set_country_flag = estate_church_monasteries_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_monasteries_4
		clr_country_flag = church_monastery_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_monasteries_5 
    tooltip = estate_church_monasteries_5 
	potential = { FROM = { ai = no has_country_flag = church_monastery_window } }
    trigger = {  
		has_institution = scholasticism
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YReligious Authority§!: I-III"
			OR = {
				has_reform = sovereign_religion_reform
				has_reform = subordinate_religion_reform
				has_reform = personal_divinity_reform
			}
		}
		has_reform = religious_elite_reform
		has_estate_privilege = estate_church_lands_4
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £bureaucracy£ §YLocal Administration§!: VI"
				OR = {
					has_estate_privilege = estate_bureaucracy_local_admin_5
					has_estate_privilege = estate_bureaucracy_local_admin_7
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_oblig_3 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Hierarchy§!: I-II"
				OR = {
					has_estate_privilege = estate_church_hierarchy_0
					has_estate_privilege = estate_church_hierarchy_1
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_monasteries_0 = { set_country_flag = estate_church_monasteries_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_1 = { set_country_flag = estate_church_monasteries_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_2 = { set_country_flag = estate_church_monasteries_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_3 = { set_country_flag = estate_church_monasteries_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_4 = { set_country_flag = estate_church_monasteries_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_monasteries_5 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_monasteries_5
		clr_country_flag = church_monastery_window #clr_country_flag = no_estate_select
	} #Effect
}


#
custom_window = {
    name = proselytism_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = proselytism_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_proselytism_0 
    tooltip = estate_church_proselytism_0 
	potential = { FROM = { ai = no has_country_flag = proselytism_window } }
    trigger = {  
		has_institution = enlightenment
		custom_trigger_tooltip = {
			tooltip = "Has enacted §YReligious Authority§!: IV-V"
			OR = {
				has_reform = state_secularism_reform
				has_reform = anticlericalism_reform
			}
		}
		NOT = { has_reform = religious_elite_reform }
		NOT = { has_reform = divine_mandate_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YTemporal Authority§!: V-VI"
			OR = {
				has_estate_privilege = estate_church_temp_auth_4
				has_estate_privilege = estate_church_temp_auth_5
			}
		}
		NOT = { has_estate_privilege = estate_bureaucracy_central_admin_0 }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YClerical Education§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_ed_4
					has_estate_privilege = estate_church_ed_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_proselytism_0 = { clr_country_flag = no_estate_select }
				estate_church_proselytism_1 = { set_country_flag = estate_church_proselytism_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_2 = { set_country_flag = estate_church_proselytism_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_3 = { set_country_flag = estate_church_proselytism_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_4 = { set_country_flag = estate_church_proselytism_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_5 = { set_country_flag = estate_church_proselytism_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_6 = { set_country_flag = estate_church_proselytism_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_proselytism_0
		clr_country_flag = proselytism_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_proselytism_1 
    tooltip = estate_church_proselytism_1 
	potential = { FROM = { ai = no has_country_flag = proselytism_window } }
    trigger = {  
		NOT = { has_reform = sovereign_religion_reform }
		NOT = { has_reform = religious_elite_reform }
		NOT = { has_reform = divine_mandate_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I-II"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_1
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_ed_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_proselytism_0 = { set_country_flag = estate_church_proselytism_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_1 = { clr_country_flag = no_estate_select }
				estate_church_proselytism_2 = { set_country_flag = estate_church_proselytism_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_3 = { set_country_flag = estate_church_proselytism_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_4 = { set_country_flag = estate_church_proselytism_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_5 = { set_country_flag = estate_church_proselytism_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_6 = { set_country_flag = estate_church_proselytism_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_proselytism_1
		clr_country_flag = proselytism_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_proselytism_2 
    tooltip = estate_church_proselytism_2 
	potential = { FROM = { ai = no has_country_flag = proselytism_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: I; V"
				OR = {
					has_reform = sovereign_religion_reform
					has_reform = anticlericalism_reform
				}
			}
		}
		NOT = { has_reform = divine_mandate_reform }
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: I; VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_0
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_proselytism_0 = { set_country_flag = estate_church_proselytism_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_1 = { set_country_flag = estate_church_proselytism_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_2 = { clr_country_flag = no_estate_select }
				estate_church_proselytism_3 = { set_country_flag = estate_church_proselytism_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_4 = { set_country_flag = estate_church_proselytism_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_5 = { set_country_flag = estate_church_proselytism_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_6 = { set_country_flag = estate_church_proselytism_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_proselytism_2
		clr_country_flag = proselytism_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_proselytism_3 
    tooltip = estate_church_proselytism_3 
	potential = { FROM = { ai = no has_country_flag = proselytism_window } }
    trigger = {  
		NOT = { has_reform = anticlericalism_reform }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_proselytism_0 = { set_country_flag = estate_church_proselytism_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_1 = { set_country_flag = estate_church_proselytism_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_2 = { set_country_flag = estate_church_proselytism_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_3 = { clr_country_flag = no_estate_select }
				estate_church_proselytism_4 = { set_country_flag = estate_church_proselytism_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_5 = { set_country_flag = estate_church_proselytism_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_6 = { set_country_flag = estate_church_proselytism_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_proselytism_3
		clr_country_flag = proselytism_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_proselytism_4 
    tooltip = estate_church_proselytism_4 
	potential = { FROM = { ai = no has_country_flag = proselytism_window } }
    trigger = {  
		NOT = { has_reform = anticlericalism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpirital Authority§!: I-II"
			OR = {
				has_estate_privilege = estate_church_spirit_auth_0
				has_estate_privilege = estate_church_spirit_auth_1
			}
		}
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_ed_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_proselytism_0 = { set_country_flag = estate_church_proselytism_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_1 = { set_country_flag = estate_church_proselytism_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_2 = { set_country_flag = estate_church_proselytism_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_3 = { set_country_flag = estate_church_proselytism_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_4 = { clr_country_flag = no_estate_select }
				estate_church_proselytism_5 = { set_country_flag = estate_church_proselytism_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_6 = { set_country_flag = estate_church_proselytism_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_proselytism_4
		clr_country_flag = proselytism_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_proselytism_5 
    tooltip = estate_church_proselytism_5 
	potential = { FROM = { ai = no has_country_flag = proselytism_window } }
    trigger = {  
		has_institution = new_world_i
		NOT = { has_reform = anticlericalism_reform }
		custom_trigger_tooltip = {
			tooltip = "Has granted £church£§YSpirital Authority§!: I-II"
			OR = {
				has_estate_privilege = estate_church_spirit_auth_0
				has_estate_privilege = estate_church_spirit_auth_1
			}
		}
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_ed_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_proselytism_0 = { set_country_flag = estate_church_proselytism_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_1 = { set_country_flag = estate_church_proselytism_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_2 = { set_country_flag = estate_church_proselytism_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_3 = { set_country_flag = estate_church_proselytism_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_4 = { set_country_flag = estate_church_proselytism_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_5 = { clr_country_flag = no_estate_select }
				estate_church_proselytism_6 = { set_country_flag = estate_church_proselytism_6 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_proselytism_5
		clr_country_flag = proselytism_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_proselytism_6 
    tooltip = estate_church_proselytism_6 
	potential = { FROM = { ai = no has_country_flag = proselytism_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_reform = state_secularism_reform
					has_reform = anticlericalism_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReforms & Ambitions§!: III-IV"
				OR = {
					has_reform = principle_enlightment_reform
					has_reform = full_constitutionalism_reform
				}
			}
		}
		has_estate_privilege = estate_church_spirit_auth_0 
		NOT = { has_estate_privilege = estate_bureaucracy_prov_justice_6 }
		NOT = { 
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YSpirital Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_spirit_auth_4
					has_estate_privilege = estate_church_spirit_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_ed_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_proselytism_0 = { set_country_flag = estate_church_proselytism_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_1 = { set_country_flag = estate_church_proselytism_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_2 = { set_country_flag = estate_church_proselytism_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_3 = { set_country_flag = estate_church_proselytism_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_4 = { set_country_flag = estate_church_proselytism_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_5 = { set_country_flag = estate_church_proselytism_5 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_proselytism_6 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_proselytism_6
		clr_country_flag = proselytism_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_charity_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_charity_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_charity_0 
    tooltip = estate_church_charity_0 
	potential = { FROM = { ai = no has_country_flag = church_charity_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_church_oblig_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_charity_0 = { clr_country_flag = no_estate_select }
				estate_church_charity_1 = { set_country_flag = estate_church_charity_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_2 = { set_country_flag = estate_church_charity_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_3 = { set_country_flag = estate_church_charity_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_4 = { set_country_flag = estate_church_charity_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_charity_0
		clr_country_flag = church_charity_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_charity_1 
    tooltip = estate_church_charity_1 
	potential = { FROM = { ai = no has_country_flag = church_charity_window } }
    trigger = {  
	
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_charity_0 = { set_country_flag = estate_church_charity_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_1 = { clr_country_flag = no_estate_select }
				estate_church_charity_2 = { set_country_flag = estate_church_charity_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_3 = { set_country_flag = estate_church_charity_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_4 = { set_country_flag = estate_church_charity_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_charity_1
		clr_country_flag = church_charity_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_charity_2 
    tooltip = estate_church_charity_2 
	potential = { FROM = { ai = no has_country_flag = church_charity_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_church_finance_7 }
		OR = { 
			has_estate_privilege = estate_church_oblig_3 
			has_estate_privilege = estate_church_patronage_0
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_charity_0 = { set_country_flag = estate_church_charity_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_1 = { set_country_flag = estate_church_charity_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_2 = { clr_country_flag = no_estate_select }
				estate_church_charity_3 = { set_country_flag = estate_church_charity_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_4 = { set_country_flag = estate_church_charity_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_charity_2
		clr_country_flag = church_charity_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_charity_3 
    tooltip = estate_church_charity_3 
	potential = { FROM = { ai = no has_country_flag = church_charity_window } }
    trigger = {  
		NOT = { has_estate_privilege = estate_church_finance_7 }
		NOT = { has_estate_privilege = estate_church_oblig_3 }
		NOT = { has_estate_privilege = estate_church_patronage_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_charity_0 = { set_country_flag = estate_church_charity_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_1 = { set_country_flag = estate_church_charity_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_2 = { set_country_flag = estate_church_charity_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_3 = { clr_country_flag = no_estate_select }
				estate_church_charity_4 = { set_country_flag = estate_church_charity_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_charity_3
		clr_country_flag = church_charity_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_charity_4 
    tooltip = estate_church_charity_4 
	potential = { FROM = { ai = no has_country_flag = church_charity_window } }
    trigger = {  	
		OR = {
			custom_trigger_tooltip = {
				tooltip = "Has granted £church£§YClerical Finance§!: I-III"
				OR = {
					has_estate_privilege = estate_church_finance_0
					has_estate_privilege = estate_church_finance_1
					has_estate_privilege = estate_church_finance_2
				}
			}
			custom_trigger_tooltip = {
				tooltip = "Has granted £church£§YClerical Obligations§!: I-II"
				OR = {
					has_estate_privilege = estate_church_oblig_0
					has_estate_privilege = estate_church_oblig_1
				}
			}
			has_estate_privilege = estate_church_patronage_4
		}
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_charity_0 = { set_country_flag = estate_church_charity_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_1 = { set_country_flag = estate_church_charity_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_2 = { set_country_flag = estate_church_charity_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_3 = { set_country_flag = estate_church_charity_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_charity_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_charity_4
		clr_country_flag = church_charity_window #clr_country_flag = no_estate_select
	} #Effect
}

#
custom_window = {
    name = church_patron_window #Must match a scripted windowType in a .gui file
    potential = { FROM = { ai = no has_country_flag = church_patron_window } } #Determines when the window is visible, and will affect every other gui object inside it, not running their potentials if the window isn't visible.
}
custom_button = {
    name = estate_church_patronage_0 
    tooltip = estate_church_patronage_0 
	potential = { FROM = { ai = no has_country_flag = church_patron_window } }
    trigger = {  
		NOT = { has_reform = divine_mandate_reform }
		NOT = { has_estate_privilege = estate_church_temp_auth_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_patronage_0 = { clr_country_flag = no_estate_select }
				estate_church_patronage_1 = { set_country_flag = estate_church_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_2 = { set_country_flag = estate_church_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_3 = { set_country_flag = estate_church_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_4 = { set_country_flag = estate_church_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_patronage_0
		clr_country_flag = church_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_patronage_1 
    tooltip = estate_church_patronage_1 
	potential = { FROM = { ai = no has_country_flag = church_patron_window } }
    trigger = {  
		NOT = { has_reform = divine_mandate_reform }
		NOT = { has_estate_privilege = estate_church_temp_auth_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_patronage_0 = { set_country_flag = estate_church_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_1 = { clr_country_flag = no_estate_select }
				estate_church_patronage_2 = { set_country_flag = estate_church_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_3 = { set_country_flag = estate_church_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_4 = { set_country_flag = estate_church_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_patronage_1
		clr_country_flag = church_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_patronage_2 
    tooltip = estate_church_patronage_2 
	potential = { FROM = { ai = no has_country_flag = church_patron_window } }
    trigger = {  
		NOT = { has_reform = anticlericalism_reform }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_patronage_0 = { set_country_flag = estate_church_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_1 = { set_country_flag = estate_church_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_2 = { clr_country_flag = no_estate_select }
				estate_church_patronage_3 = { set_country_flag = estate_church_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_4 = { set_country_flag = estate_church_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_patronage_2
		clr_country_flag = church_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_patronage_3 
    tooltip = estate_church_patronage_3 
	potential = { FROM = { ai = no has_country_flag = church_patron_window } }
    trigger = {  
		NOT = { has_reform = anticlericalism_reform }
		NOT = { has_estate_privilege = estate_church_temp_auth_5 }
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_patronage_0 = { set_country_flag = estate_church_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_1 = { set_country_flag = estate_church_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_2 = { set_country_flag = estate_church_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_3 = { clr_country_flag = no_estate_select }
				estate_church_patronage_4 = { set_country_flag = estate_church_patronage_4 country_event = { id = AN_estate_reassign.2 days = 0 } }
			}
		}
		set_estate_privilege = estate_church_patronage_3
		clr_country_flag = church_patron_window #clr_country_flag = no_estate_select
	} #Effect
}
custom_button = {
    name = estate_church_patronage_4 
    tooltip = estate_church_patronage_4 
	potential = { FROM = { ai = no has_country_flag = church_patron_window } }
    trigger = {  
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not enacted §YReligious Authority§!: IV-V"
				OR = {
					has_reform = state_secularism_reform
					has_reform = anticlericalism_reform
				}
			}
		}
		NOT = {
			custom_trigger_tooltip = {
				tooltip = "Has not granted £church£§YTemporal Authority§!: V-VI"
				OR = {
					has_estate_privilege = estate_church_temp_auth_4
					has_estate_privilege = estate_church_temp_auth_5
				}
			}
		}
		NOT = { has_estate_privilege = estate_church_hierarchy_0 }
	}	
    effect = { 
		hidden_effect = { 
			trigger_switch = {
				on_trigger = has_estate_privilege
				estate_church_patronage_0 = { set_country_flag = estate_church_patronage_0 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_1 = { set_country_flag = estate_church_patronage_1 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_2 = { set_country_flag = estate_church_patronage_2 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_3 = { set_country_flag = estate_church_patronage_3 country_event = { id = AN_estate_reassign.2 days = 0 } }
				estate_church_patronage_4 = { clr_country_flag = no_estate_select }
			}
		}
		set_estate_privilege = estate_church_patronage_4
		clr_country_flag = church_patron_window #clr_country_flag = no_estate_select
	} #Effect
} 