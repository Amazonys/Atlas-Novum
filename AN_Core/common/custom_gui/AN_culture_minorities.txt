# The custom guiButtonType/instantTextBoxType/iconType must have a 'scripted = yes' line to work
custom_button = {
    name = majority_culture_interact
    potential = { owned_by = FROM }
    trigger = { hidden_trigger = { always = yes } }
    effect = { AN_check_culture_minorities = yes }
    tooltip = AN_majority_culture_tooltip
	#Totality
    frame = { 
        number = 1 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 7 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 8
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	# Supermajority
	frame = { 
        number = 9 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 15
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 16 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	# Majority
	frame = { 
        number = 17
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 19
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 20
        trigger = {
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 22
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 23
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 24
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	#Slim Majority
	frame = { 
        number = 25
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 26
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 27
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 28
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 29
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 30
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 31
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 32
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	#Plurality
	frame = { 
        number = 33
        trigger = {
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 34 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 35 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 36 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 37 
        trigger = {
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 38
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 39 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 40
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
}

custom_icon = {
    name = majority_culture_view
    potential = { NOT = { owned_by = FROM } }
    #trigger = { hidden_trigger = { owned_by = FROM } }
    #effect = { AN_check_culture_minorities = yes }
    tooltip = AN_majority_culture_tooltip
	#Totality
    frame = { 
        number = 1 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 7 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	frame = { 
        number = 8
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		} 
    }
	# Supermajority
	frame = { 
        number = 9 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 15
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	frame = { 
        number = 16 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			is_variable_equal = { which = AN_secondary_culture value = 0 } 
		} 
    }
	# Majority
	frame = { 
        number = 17
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 19
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 20
        trigger = {
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 22
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 23
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 24
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					is_variable_equal = { which = AN_secondary_culture value = 0 } 
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 1 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	#Slim Majority
	frame = { 
        number = 25
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 26
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 27
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 28
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 29
        trigger = { 
			is_city = no
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 30
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 31
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	frame = { 
        number = 32
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			OR = {
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 3 }
					is_variable_equal = { which = AN_secondary_culture value = 0 }  
				}
				AND = {
					is_variable_equal = { which = AN_minority_culture_size value = 2 }
					NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
				}
			}
		}
    }
	#Plurality
	frame = { 
        number = 33
        trigger = {
			OR = {
				owner = { primary_culture = variable:PREV:AN_province_culture }
				owner = { accepted_culture = variable:PREV:AN_province_culture culture_group = variable:PREV:AN_province_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 34 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 35 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_province_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 36 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_protect_maj
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 37 
        trigger = {
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 38
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 39 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_enslave_maj
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
	frame = { 
        number = 40
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_province_culture } }
			has_province_flag = AN_expel_maj
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } 
		} 
    }
}

custom_button = {
    name = minority_culture_interact
    potential = { 
		owned_by = FROM 
		check_variable = { which = AN_minority_culture_size value = 1 }
	}
    trigger = { hidden_trigger = { check_variable = { which = AN_minority_culture_size value = 1 } } }
    effect = { AN_check_culture_minorities = yes }
    tooltip = AN_minority_culture_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_minority_culture }
				owner = { accepted_culture = variable:PREV:AN_minority_culture culture_group = variable:PREV:AN_minority_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_protect_min
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 7 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_enslave_min
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 8
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_expel_min
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_minority_culture }
				owner = { accepted_culture = variable:PREV:AN_minority_culture culture_group = variable:PREV:AN_minority_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_protect_min
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 15
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_enslave_min
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 16 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_expel_min
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_minority_culture }
				owner = { accepted_culture = variable:PREV:AN_minority_culture culture_group = variable:PREV:AN_minority_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			owner = { culture_group = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 20
        trigger = {
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 23
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 24
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		}
    }
}

custom_icon = {
    name = minority_culture_view
    potential = { 
		OR = {
			NOT = { owned_by = FROM } 
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
		}
	}
  #  trigger = { hidden_trigger = { owned_by = FROM } }
  #  effect = { AN_check_culture_minorities = yes }
    tooltip = AN_minority_culture_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_minority_culture }
				owner = { accepted_culture = variable:PREV:AN_minority_culture culture_group = variable:PREV:AN_minority_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_protect_min
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 7 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_enslave_min
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	frame = { 
        number = 8
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_expel_min
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_minority_culture }
				owner = { accepted_culture = variable:PREV:AN_minority_culture culture_group = variable:PREV:AN_minority_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_protect_min
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 15
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_enslave_min
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	frame = { 
        number = 16 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_expel_min
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_minority_culture }
				owner = { accepted_culture = variable:PREV:AN_minority_culture culture_group = variable:PREV:AN_minority_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			owner = { culture_group = variable:PREV:AN_minority_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 20
        trigger = {
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 23
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	frame = { 
        number = 24
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_minority_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_minority_culture_size value = 0 }
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		}
    }
}

custom_button = {
    name = secondary_culture_interact
	potential = {
		OR = {
			owned_by = FROM 
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
	}
    trigger = { hidden_trigger = { NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } } } }
    effect = { AN_check_culture_minorities = yes }
    tooltip = AN_secondary_culture_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_secondary_culture }
				owner = { accepted_culture = variable:PREV:AN_secondary_culture culture_group = variable:PREV:AN_secondary_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 7 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 8
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_secondary_culture }
				owner = { accepted_culture = variable:PREV:AN_secondary_culture culture_group = variable:PREV:AN_secondary_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 15
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 16 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_secondary_culture }
				owner = { accepted_culture = variable:PREV:AN_secondary_culture culture_group = variable:PREV:AN_secondary_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			owner = { culture_group = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 20
        trigger = {
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 23
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 24
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		}
    }
}

custom_icon = {
    name = secondary_culture_view
    potential = {
		OR = {
			NOT = { owned_by = FROM } 
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		}
	}
  #  trigger = { hidden_trigger = { owned_by = FROM } }
  #  effect = { AN_check_culture_minorities = yes }
    tooltip = AN_secondary_culture_tooltip
	#Small Minority
    frame = { 
        number = 1 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_secondary_culture }
				owner = { accepted_culture = variable:PREV:AN_secondary_culture culture_group = variable:PREV:AN_secondary_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 2 
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 3 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 4 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 5
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 6
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 7 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 8
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 1 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	# Significant Minority
	frame = { 
        number = 9 
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_secondary_culture }
				owner = { accepted_culture = variable:PREV:AN_secondary_culture culture_group = variable:PREV:AN_secondary_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 10
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 11 
        trigger = { 
			owner = { culture_group = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 12 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 13 
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 14
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 15
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	frame = { 
        number = 16 
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 2 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		} 
    }
	# Large Minority
	frame = { 
        number = 17
        trigger = { 
			OR = {
				owner = { primary_culture = variable:PREV:AN_secondary_culture }
				owner = { accepted_culture = variable:PREV:AN_secondary_culture culture_group = variable:PREV:AN_secondary_culture }
			}
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 18
        trigger = { 
			owner = { accepted_culture = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 19
        trigger = { 
			owner = { culture_group = variable:PREV:AN_secondary_culture }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 20
        trigger = {
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_protect_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 21
        trigger = { 
			is_city = no
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 22
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 23
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_enslave_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	frame = { 
        number = 24
        trigger = { 
			owner = { NOT = { culture_group = variable:PREV:AN_secondary_culture } }
			has_province_flag = AN_expel_sec
			is_variable_equal = { which = AN_minority_culture_size value = 3 }
			NOT = { is_variable_equal = { which = AN_secondary_culture value = 0 } }
		}
    }
	#Empty
	frame = { 
        number = 25
        trigger = { 
			is_variable_equal = { which = AN_secondary_culture value = 0 }
		}
    }
}
