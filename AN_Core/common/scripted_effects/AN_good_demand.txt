# Heavily inspired by Stockmarket mod
AN_pop_demand = {	#this serves a as a baseline for many trade goods
					#base is balanced with an excel sheet to make a number that is around 5
					#multiplier is an extra multiplier to reduce it to a lower number, like 2 for grain.
					#trade_good_id is obvious
					#this is designed to provide a stable basis for most trade goods
	owner = {
		set_variable = {
			which = tempvar
			which = AN_prov_pop
		}
		multiply_variable = { 
			which = tempvar
			value = $base$
		}
		[[multiplier]
			multiply_variable = { 
				which = tempvar
				value = $multiplier$
			}
		]
		set_variable = {
			which = modifier_var
			value = 1
		}
		[[modifier_1] $modifier_1$ ]
		[[modifier_2] $modifier_2$ ]
		[[modifier_3] $modifier_3$ ]
		[[modifier_4] $modifier_4$ ]
		[[modifier_5] $modifier_5$ ]
		[[modifier_6] $modifier_6$ ]
		[[modifier_7] $modifier_7$ ]
		[[modifier_8] $modifier_8$ ]
		[[modifier_9] $modifier_9$ ]
		multiply_variable = { 
			which = tempvar
			which = modifier_var
		}
		change_variable = {
			which = AN_demand_$trade_good_id$
			which = tempvar
		}
	}
}

AN_demand_craze = {
	if = {
		limit = {
			has_province_modifier = AN_$trade_good_id$_craze_prov
		}
		owner = {
			set_variable = {
				which = tempvar
				which = AN_prov_pop
			}
			multiply_variable = { 
				which = tempvar
				value = 0.35
			}
			change_variable = {
				which = AN_demand_$trade_good_id$
				which = tempvar
			}
		}
	}
	else_if = {
		limit = {
			has_province_flag = AN_$trade_good_id$_consumption_prov
		}
		owner = {
			set_variable = {
				which = tempvar
				which = AN_prov_pop
			}
			multiply_variable = { 
				which = tempvar
				value = 0.1
			}
			change_variable = {
				which = AN_demand_$trade_good_id$
				which = tempvar
			}
		}
	}
	else = { #Do Nothing 
	}
}

AN_demand_craze_all = {
	#AN_demand_craze = { trade_good_id = 12 }
	#AN_demand_craze = { trade_good_id = 13 }
	#AN_demand_craze = { trade_good_id = 14 }
	#AN_demand_craze = { trade_good_id = 15 }
	#AN_demand_craze = { trade_good_id = 16 }
	#AN_demand_craze = { trade_good_id = 17 }
	#AN_demand_craze = { trade_good_id = 18 }
	#AN_demand_craze = { trade_good_id = 19 }
	#AN_demand_craze = { trade_good_id = 20 }
}