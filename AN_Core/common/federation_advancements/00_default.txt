federal_constitution = {
	gfx = GFX_federal_constitution
	can_pick = {
		# Need all other advancements
		num_federation_advancements = 7
		is_migratory_tribe = no
	}

	effect = {
		# Switch Tag
		if = {
			limit = {
				OR = {
					primary_culture = creek
					primary_culture = hitchiti
				}
				NOT = { exists = CRE }
			}
			change_tag = CRE
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = CRE }
			if = {
				limit = {
					NOT = { has_idea_group = CRE_ideas }
				}
				swap_federation_idea_group = yes
			}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = dakota
					primary_culture = lakota
					primary_culture = nakota
				}
				NOT = { exists = SIO }
			}
			change_tag = SIO
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = SIO }
			if = {
				limit = {
					NOT = { has_idea_group = siouan_federation_ideas }
				}
				swap_federation_idea_group = yes
			}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = huron
					primary_culture = tionontate
				}
				NOT = { exists = HUR }
			}
			change_tag = HUR
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = HUR }
			if = {
				limit = {
					NOT = { has_idea_group = HUR_ideas }
				}
				swap_federation_idea_group = yes
			}
		}
		else_if = {
			limit = {
				primary_culture = algonquin
				NOT = { exists = AGQ }
			}
			change_tag = AGQ
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = AGQ }
			if = {
				limit = {
					NOT = { has_idea_group = AGQ_ideas }
				}
				swap_federation_idea_group = yes
			}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = attawandaron
					primary_culture = wenro
				}
				NOT = { exists = YZI }
			}
			change_tag = YZI
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = YZI }
		}
		else_if = {
			limit = { primary_culture = illini NOT = { exists = ILL } }
			change_tag = ILL
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = ILL }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = ne_native_ideas }
			#	}
			#	swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = seneca
					primary_culture = cayuga
					primary_culture = onondaga
					primary_culture = oneida
					primary_culture = mohawk
				}
				NOT = { exists = IRO }
			}
			change_tag = IRO
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = IRO }
			if = {
				limit = {
					NOT = { has_idea_group = IRO_ideas }
				}
				swap_federation_idea_group = yes
			}
		}
		#else_if = {
		#	limit = { primary_culture = anishinabe NOT = { exists = POT } }
		#	change_tag = POT
		#	add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = POT }
		#	if = {
		#		limit = {
		#			NOT = { has_idea_group = ne_native_ideas }
		#		}
		#		swap_federation_idea_group = yes
		#	}
		#}
		else_if = {
			limit = { primary_culture = shawnee NOT = { exists = SHA } }
			change_tag = SHA
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = SHA }
			if = {
				limit = {
					NOT = { has_idea_group = SHA_ideas }
				}
				swap_federation_idea_group = yes
			}
		}
		else_if = {
			limit = { primary_culture = miami NOT = { exists = MMI } }
			change_tag = MMI
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = MMI }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = MMI_ideas }
			#	}
			#	swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = erie
					primary_culture = honniasont
					primary_culture = antouhronon
				}
				NOT = { exists = ERI }
			}
			change_tag = ERI
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = ERI }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = ERI_ideas }
			#	}
			#	swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = delaware
					primary_culture = munsee
					primary_culture = unalachtigo
				}
				NOT = { exists = LEN }
			}
			change_tag = LEN
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = LEN }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = LEN_ideas }
			#	}
			#	swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = abenaki
					primary_culture = wabenaki
					primary_culture = penakuk
					primary_culture = maliseet
				}
				NOT = { exists = ABE }
			}
			change_tag = ABE
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = ABE }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = ABE_ideas }
			#	}
			#	swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = { primary_culture = caddo NOT = { exists = CAD } }
			change_tag = CAD
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = CAD }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = CAD_ideas }
			#	}
			#	swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = { primary_culture = blackfoot NOT = { exists = BLA } }
			change_tag = BLA
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = BLA }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = BLA_ideas }
			#	}
			#	swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = keres
					primary_culture = pueblo
				}
				NOT = { exists = PUE }
			}
			change_tag = PUE
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = PUE }
			if = {
				limit = {
					NOT = { has_idea_group = PUE_ideas }
				}
				swap_federation_idea_group = yes
			}
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = arawak
					primary_culture = west_taino
					primary_culture = macoris
				}
				NOT = { exists = AY7 }
			}
			change_tag = AY7
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = AY7 }
			#if = {
			#	limit = {
			#		NOT = { has_idea_group = AY7_ideas }
			#	}
				swap_federation_idea_group = yes
			#}
		}
		else_if = {
			limit = {
				culture_group = oromoid
				NOT = { exists = OMM }
			}
			change_tag = OMM
			add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = OMM }
			#if = {
				#limit = {
				#	NOT = { has_idea_group = OMM_ideas }
				#}
				swap_federation_idea_group = yes
			#}
		}
		else = {
			form_federation_nation = {
				post_effect = {
					add_permanent_claims_for_federation_nation = { ORIGINAL = ROOT TAG = THIS }
					swap_federation_idea_group = yes
				}
			}
		}
		# Unite federation
		custom_tooltip = INTEGRATE_FEDERATION_MEMBERS
		hidden_effect = {
			every_federation_member = {
				limit = {
					ai = yes
				}
				every_tribal_land_province = {
					limit = {
						OR = {
							owned_by = PREV
							is_empty = yes
						}
					}
					change_tribal_land = ROOT
				}
			}
			every_federation_member = {
				limit = {
					NOT = { tag = PREV }
					ai = yes
				}
				every_tribal_land_province = {
					limit = {
						NOT = { owned_by = PREV }
					}
					change_tribal_land = ---
				}
				ROOT = {
					inherit = PREV
				}
			}
			every_owned_province = {
				limit = {	#Kinda unnecessary, but better safe than sorry unless we want colonies to vanish once again
					OR = {
						owned_by = PREV
						is_empty = yes
					}
				}
				change_tribal_land = ROOT
			}
		}

		if = {
			limit = {
				NOT = { government_rank = 2 }
			}
			set_government_rank_force = 2
		}
		add_country_modifier = {
			name = "centralization_modifier"
			duration = 7300
		}
		add_prestige = 25

		hidden_effect = {
			disband_federation = yes
		}
	}

	ai_chance = {
		factor = 0
	}
}

unified_warbands = {
	gfx = GFX_unified_warbands

	can_pick = {
		# Need at least 3 members
		# Need max trust with all members
		#federation_size = 3
		#all_federation_members = {
		#	trust = { who = ROOT value = 100 }
		#}
	}

	effect = {
		# Can do offensive wars
		allow_federation_offensive_wars = yes
	}

	ai_chance = {
		factor = 5
	}
}

mutual_trust = {
	gfx = GFX_mutual_trust

	can_pick = {
		always = yes
	}

	modifier = {
		monthly_federation_favor_growth = 0.1
	}

	ai_chance = {
		factor = 15
	}
}

joint_grain_depots = {
	gfx = GFX_joint_grain_depots

	can_pick = {
		always = yes
	}

	modifier = {
		tribal_development_growth = 0.05
	}

	ai_chance = {
		factor = 15
	}
}

pax_americana = {
	gfx = GFX_pax_americana

	can_pick = {
		always = yes
	}

	modifier = {
		global_trade_goods_size_modifier = 0.1
	}

	ai_chance = {
		factor = 15
	}
}

united_resistance = {
	gfx = GFX_united_resistance

	can_pick = {
		always = yes
	}
	modifier = {
		hostile_attrition = 1
	}

	ai_chance = {
		factor = 5
	}
}

chartered_settlements = {
	gfx = GFX_chartered_settlements

	can_pick = {
		always = yes
	}
	modifier = {
		settle_cost = -0.2
	}

	ai_chance = {
		factor = 10
	}
}


shared_knowledge = {
	gfx = GFX_shared_knowledge

	can_pick = {
		always = yes
	}
	modifier = {
		global_institution_spread = 0.2
	}

	ai_chance = {
		factor = 1
	}
}

