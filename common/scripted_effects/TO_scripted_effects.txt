#	Example:
# 
#	example_effect = {
#		treasury = 100
#		add_adm_power = 50
#	}
#
#
#	In a script file:
#
#	effect = {
#		example_effect = yes
#	}
#
nhs_trigger_event = {
	if = {
		limit = {
			exists = NHS
		}
		NHS = {
			country_event = { id = $EVENT_ID$ }
		}
	}
	else_if = {
		limit = {
			exists = ELY
		}
		ELY = {
			country_event = { id = $EVENT_ID$ }
		}
	}
	else_if = {
		limit = {
			exists = ELR
		}
		ELR = {
			country_event = { id = $EVENT_ID$ }
		}
	}
	else_if = {
		limit = {
			exists = ERR
		}
		ERR = {
			country_event = { id = $EVENT_ID$ }
		}
	}
	else_if = {
		limit = {
			exists = ERF
		}
		ERF = {
			country_event = { id = $EVENT_ID$ }
		}
	}
}
nhs_switch_to_vinland_trading = {
	if = {
		limit = {
			exists = NHS
		}
		NHS = {
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal
				}
				remove_country_modifier = nhs_vov_markland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal
				}
				remove_country_modifier = nhs_vov_helluland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal_after
				}
				remove_country_modifier = nhs_vov_markland_deal_after
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal_after
				}
				remove_country_modifier = nhs_vov_helluland_deal_after
			}
			if = {
				limit = {
					NOT = { has_global_flag = nhs_vov_trade_reduced }
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_vov_trade_reduced
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			exists = ELY
		}
		ELY = {
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal
				}
				remove_country_modifier = nhs_vov_markland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal
				}
				remove_country_modifier = nhs_vov_helluland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal_after
				}
				remove_country_modifier = nhs_vov_markland_deal_after
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal_after
				}
				remove_country_modifier = nhs_vov_helluland_deal_after
			}
			if = {
				limit = {
					NOT = { has_global_flag = nhs_vov_trade_reduced }
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_vov_trade_reduced
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			exists = ELR
		}
		ELR = {
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal
				}
				remove_country_modifier = nhs_vov_markland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal
				}
				remove_country_modifier = nhs_vov_helluland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal_after
				}
				remove_country_modifier = nhs_vov_markland_deal_after
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal_after
				}
				remove_country_modifier = nhs_vov_helluland_deal_after
			}
			if = {
				limit = {
					NOT = { has_global_flag = nhs_vov_trade_reduced }
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_vov_trade_reduced
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			exists = ERR
		}
		ERR = {
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal
				}
				remove_country_modifier = nhs_vov_markland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal
				}
				remove_country_modifier = nhs_vov_helluland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal_after
				}
				remove_country_modifier = nhs_vov_markland_deal_after
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal_after
				}
				remove_country_modifier = nhs_vov_helluland_deal_after
			}
			if = {
				limit = {
					NOT = { has_global_flag = nhs_vov_trade_reduced }
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_vov_trade_reduced
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
		}
	}
	else_if = {
		limit = {
			exists = ERF
		}
		ERF = {
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal
				}
				remove_country_modifier = nhs_vov_markland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal
				}
				remove_country_modifier = nhs_vov_helluland_deal
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_markland_deal_after
				}
				remove_country_modifier = nhs_vov_markland_deal_after
			}
			if = {
				limit = {
					has_country_modifier = nhs_vov_helluland_deal_after
				}
				remove_country_modifier = nhs_vov_helluland_deal_after
			}
			if = {
				limit = {
					NOT = { has_global_flag = nhs_vov_trade_reduced }
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
			if = {
				limit = {
					has_global_flag = nhs_vov_trade_reduced
				}
				add_country_modifier = {
					name = nhs_vov_vinland_deal
					duration = -1
				}
			}
		}
	}
}
nhs_make_event_target_elysia = {
	hidden_effect = {
		if = {
			limit = {
				exists = NHS
			}
			NHS = {
				save_global_event_target_as = existing_elysia
			}
		}
		else_if = {
			limit = {
				exists = ELY
			}
			ELY = {
				save_global_event_target_as = existing_elysia
			}
		}
		else_if = {
			limit = {
				exists = ELR
			}
			ELR = {
				save_global_event_target_as = existing_elysia
			}
		}
		else_if = {
			limit = {
				exists = ERR
			}
			ERR = {
				save_global_event_target_as = existing_elysia
			}
		}
		else_if = {
			limit = {
				exists = ERF
			}
			ERF = {
				save_global_event_target_as = existing_elysia
			}
		}
	}
}

nhs_elysia_reverse_add_opinion = {
	if = {
		limit = {
			exists = ELY
		}
		reverse_add_opinion = {
			who = ELY
			modifier = $OPINION_MOD$
		}
	}
	else_if = {
		limit = {
			exists = NHS
		}
		reverse_add_opinion = {
			who = NHS
			modifier = claimed_our_throne
		}
	}
	else_if = {
		limit = {
			exists = ELR
		}
		reverse_add_opinion = {
			who = ELR
			modifier = claimed_our_throne
		}
	}
	else_if = {
		limit = {
			exists = ERR
		}
		reverse_add_opinion = {
			who = ERR
			modifier = claimed_our_throne
		}
	}
	else_if = {
		limit = {
			exists = ERF
		}
		reverse_add_opinion = {
			who = ERF
			modifier = claimed_our_throne
		}
	}
}

nhs_add_historical_rival_effect = {
	if = {
		limit = {
			exists = ELY
		}
		add_historical_rival = ELY
		hidden_effect = {
			add_historical_rival = NHS
			add_historical_rival = ELR
			add_historical_rival = ERR
			add_historical_rival = ERF
		}
	}
	else_if = {
		limit = {
			exists = NHS
		}
		add_historical_rival = NHS
		hidden_effect = {
			add_historical_rival = ELY
			add_historical_rival = ELR
			add_historical_rival = ERR
			add_historical_rival = ERF
		}
	}
	else_if = {
		limit = {
			exists = ELR
		}
		add_historical_rival = ELR
		hidden_effect = {
			add_historical_rival = ELY
			add_historical_rival = NHS
			add_historical_rival = ERR
			add_historical_rival = ERF
		}
	}
	else_if = {
		limit = {
			exists = ERR
		}
		add_historical_rival = ERR
		hidden_effect = {
			add_historical_rival = ELY
			add_historical_rival = NHS
			add_historical_rival = ELR
			add_historical_rival = ERF
		}
	}
	else_if = {
		limit = {
			exists = ERF
		}
		add_historical_rival = ERF
		hidden_effect = {
			add_historical_rival = ELY
			add_historical_rival = NHS
			add_historical_rival = ELR
			add_historical_rival = ERR
		}
	}
}

nhs_msg_sever_ties_with_elysia_effect = {
	if = {
		limit = {
			exists = NHS
		}
		add_opinion = {
			who = NHS
			modifier = msg_severed_ties_opinion
		}
		break_marriage = NHS
		country_event = { id = msg_mission.5 }
	}
	else_if = {
		limit = {
			exists = ELY
		}
		add_opinion = {
			who = ELY
			modifier = msg_severed_ties_opinion
		}
		break_marriage = ELY
		country_event = { id = msg_mission.5 }
	}
	else_if = {
		limit = {
			exists = ELR
		}
		add_opinion = {
			who = ELR
			modifier = msg_severed_ties_opinion
		}
		break_marriage = ELR
		country_event = { id = msg_mission.5 }
	}
	else_if = {
		limit = {
			exists = ERR
		}
		add_opinion = {
			who = ERR
			modifier = msg_severed_ties_opinion
		}
		break_marriage = ERR
		country_event = { id = msg_mission.5 }
	}
	else_if = {
		limit = {
			exists = ERF
		}
		add_opinion = {
			who = ERF
			modifier = msg_severed_ties_opinion
		}
		break_marriage = ERF
		country_event = { id = msg_mission.5 }
	}
}

nhs_msg_incite_barbaroi_rebellion_effect = {
	if = {
		limit = {
			exists = ELY
		}
		ELY = {
			add_spy_network_from = {
				who = ROOT
				value = -90
			}
			every_owned_province = {
				limit = {
					OR = {
						culture = elysameric
						native_culture = yes
					}
				}
				set_province_flag = msg_prepped_for_barbaroi_rise_temp
			}
		}
	}
	else_if = {
		limit = {
			exists = NHS
		}
		NHS = {
			add_spy_network_from = {
				who = ROOT
				value = -90
			}
			every_owned_province = {
				limit = {
					OR = {
						culture = elysameric
						native_culture = yes
					}
				}
				set_province_flag = msg_prepped_for_barbaroi_rise_temp
			}
		}
	}
	else_if = {
		limit = {
			exists = ELR
		}
		ELR = {
			add_spy_network_from = {
				who = ROOT
				value = -90
			}
			every_owned_province = {
				limit = {
					OR = {
						culture = elysameric
						native_culture = yes
					}
				}
				set_province_flag = msg_prepped_for_barbaroi_rise_temp
			}
		}
	}
	else_if = {
		limit = {
			exists = ERR
		}
		ERR = {
			add_spy_network_from = {
				who = ROOT
				value = -90
			}
			every_owned_province = {
				limit = {
					OR = {
						culture = elysameric
						native_culture = yes
					}
				}
				set_province_flag = msg_prepped_for_barbaroi_rise_temp
			}
		}
	}
	else_if = {
		limit = {
			exists = ERF
		}
		ERF = {
			add_spy_network_from = {
				who = ROOT
				value = -90
			}
			every_owned_province = {
				limit = {
					OR = {
						culture = elysameric
						native_culture = yes
					}
				}
				set_province_flag = msg_prepped_for_barbaroi_rise_temp
			}
		}
	}
}

nhs_elysian_nationalist_enforce_demands_rebel_effect = {
	if = {
		limit = {
			exists = ELR
		}
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ELR } }
				add_core = ELR
			}			
			cede_province = ELR
		}
	}
	else_if = {
		limit = {
			exists = ERR
		}
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ERR } }
				add_core = ERR
			}			
			cede_province = ERR
		}
	}
	else_if = {
		limit = {
			exists = ERF
		}
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ERF } }
				add_core = ERF
			}			
			cede_province = ERF
		}
	}
	else = {
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ELY } }
				add_core = ELY
			}			
			cede_province = ELY
		}
	}
}

nhs_elysian_nationalist_enforce_demands_not_exists_rebel_effect = {
	if = {
		limit = {
			any_province = {
				is_core = ELR
			}
		}
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ELR } }
				add_core = ELR
			}			
			cede_province = ELR
		}
	}
	else_if = {
		limit = {
			any_province = {
				is_core = ERR
			}
		}
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ERR } }
				add_core = ERR
			}			
			cede_province = ERR
		}
	}
	else_if = {
		limit = {
			any_province = {
				is_core = ERF
			}
		}
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ERF } }
				add_core = ERF
			}			
			cede_province = ERF
		}
	}
	else = {
		every_owned_province = {
			limit = {
				has_rebel_faction = REB
				culture = REB
				culture = high_elysian
			}
			if = {
				limit = { NOT = { is_core = ELY } }
				add_core = ELY
			}			
			cede_province = ELY
		}
	}
}

nhs_elysian_nationalist_on_siege_rebel_effect = {
	if = {
		limit = {
			culture = high_elysian
		}
		if = {
			limit = {
				any_province = {
					is_core = ELR
				}
			}
			add_core = ELR
		}
		else_if = {
			limit = {
				any_province = {
					is_core = ERR
				}
			}
			add_core = ERR
		}
		else_if = {
			limit = {
				any_province = {
					is_core = ERF
				}
			}
			add_core = ERF
		}
		else = {
			add_core = ELY
		}
	}
	else = {
		add_core = REB
	}
}

#	Example:
# 
#	example_effect = {
#		treasury = 100
#		add_adm_power = 50
#	}
#
#
#	In a script file:
#
#	effect = {
#		example_effect = yes
#	}
#

nhs_save_previous_goods = {
	hidden_effect = {
		clr_province_flag = nhs_had_grain_tg
		clr_province_flag = nhs_had_wine_tg
		clr_province_flag = nhs_had_wool_tg
		clr_province_flag = nhs_had_cloth_tg
		clr_province_flag = nhs_had_fish_tg
		clr_province_flag = nhs_had_fur_tg
		clr_province_flag = nhs_had_salt_tg
		clr_province_flag = nhs_had_naval_supplies_tg
		clr_province_flag = nhs_had_copper_tg
		clr_province_flag = nhs_had_gold_tg
		clr_province_flag = nhs_had_iron_tg
		clr_province_flag = nhs_had_slaves_tg
		clr_province_flag = nhs_had_ivory_tg
		clr_province_flag = nhs_had_tea_tg
		clr_province_flag = nhs_had_chinaware_tg
		clr_province_flag = nhs_had_spices_tg
		clr_province_flag = nhs_had_coffee_tg
		clr_province_flag = nhs_had_cotton_tg
		clr_province_flag = nhs_had_sugar_tg
		clr_province_flag = nhs_had_tobacco_tg
		clr_province_flag = nhs_had_cocoa_tg
		clr_province_flag = nhs_had_silk_tg
		clr_province_flag = nhs_had_dyes_tg
		clr_province_flag = nhs_had_tropical_wood_tg
		clr_province_flag = nhs_had_livestock_tg
		clr_province_flag = nhs_had_incense_tg
		clr_province_flag = nhs_had_glass_tg
		clr_province_flag = nhs_had_paper_tg
		clr_province_flag = nhs_had_gems_tg
		clr_province_flag = nhs_had_whaling_tg
		clr_province_flag = nhs_had_maize_tg
		clr_province_flag = nhs_had_coal_tg
		clr_province_flag = nhs_had_seal_hunting_tg
		clr_province_flag = nhs_had_elysian_silk_tg
		clr_province_flag = nhs_had_norse_mead_tg
		trigger_switch = {
			on_trigger = trade_goods
			grain = { set_province_flag = nhs_had_grain_tg }
			wine = { set_province_flag = nhs_had_wine_tg }
			wool = { set_province_flag = nhs_had_wool_tg }
			cloth = { set_province_flag = nhs_had_cloth_tg }
			fish = { set_province_flag = nhs_had_fish_tg }
			fur = { set_province_flag = nhs_had_fur_tg }
			salt = { set_province_flag = nhs_had_salt_tg }
			naval_supplies = { set_province_flag = nhs_had_naval_supplies_tg }
			copper = { set_province_flag = nhs_had_copper_tg }
			gold = { set_province_flag = nhs_had_gold_tg }
			iron = { set_province_flag = nhs_had_iron_tg }
			slaves = { set_province_flag = nhs_had_slaves_tg }
			ivory = { set_province_flag = nhs_had_ivory_tg }
			tea = { set_province_flag = nhs_had_tea_tg }
			chinaware = { set_province_flag = nhs_had_chinaware_tg }
			spices = { set_province_flag = nhs_had_spices_tg }
			coffee = { set_province_flag = nhs_had_coffee_tg }
			cotton = { set_province_flag = nhs_had_cotton_tg }
			sugar = { set_province_flag = nhs_had_sugar_tg }
			tobacco = { set_province_flag = nhs_had_tobacco_tg }
			cocoa = { set_province_flag = nhs_had_cocoa_tg }
			silk = { set_province_flag = nhs_had_silk_tg }
			dyes = { set_province_flag = nhs_had_dyes_tg }
			tropical_wood = { set_province_flag = nhs_had_tropical_wood_tg }
			livestock = { set_province_flag = nhs_had_livestock_tg }
			incense = { set_province_flag = nhs_had_incense_tg }
			glass = { set_province_flag = nhs_had_glass_tg }
			paper = { set_province_flag = nhs_had_paper_tg }
			gems = { set_province_flag = nhs_had_gems_tg }
			whaling = { set_province_flag = nhs_had_whaling_tg }
			maize = { set_province_flag = nhs_had_maize_tg }
			coal = { set_province_flag = nhs_had_coal_tg }
			seal_hunting = { set_province_flag = nhs_had_seal_hunting_tg }
			elysian_silk = { set_province_flag = nhs_had_elysian_silk_tg }
			norse_mead = { set_province_flag = nhs_had_norse_mead_tg }
		}
	}
}

nhs_load_previous_goods = {
	trigger_switch = {
		on_trigger = trade_goods
		nhs_had_grain_tg = { change_trade_goods = grain }
		nhs_had_wine_tg = { change_trade_goods = wine }
		nhs_had_wool_tg = { change_trade_goods = wool }
		nhs_had_cloth_tg = { change_trade_goods = cloth }
		nhs_had_fish_tg = { change_trade_goods = fish }
		nhs_had_fur_tg = { change_trade_goods = fur }
		nhs_had_salt_tg = { change_trade_goods = salt }
		nhs_had_naval_supplies_tg = { change_trade_goods = naval_supplies }
		nhs_had_copper_tg = { change_trade_goods = copper }
		nhs_had_gold_tg = { change_trade_goods = gold }
		nhs_had_iron_tg = { change_trade_goods = iron }
		nhs_had_slaves_tg = { change_trade_goods = slaves }
		nhs_had_ivory_tg = { change_trade_goods = ivory }
		nhs_had_tea_tg = { change_trade_goods = tea }
		nhs_had_chinaware_tg = { change_trade_goods = chinaware }
		nhs_had_spices_tg = { change_trade_goods = spices }
		nhs_had_coffee_tg = { change_trade_goods = coffee }
		nhs_had_cotton_tg = { change_trade_goods = cotton }
		nhs_had_sugar_tg = { change_trade_goods = sugar }
		nhs_had_tobacco_tg = { change_trade_goods = tobacco }
		nhs_had_cocoa_tg = { change_trade_goods = cocoa }
		nhs_had_silk_tg = { change_trade_goods = silk }
		nhs_had_dyes_tg = { change_trade_goods = dyes }
		nhs_had_tropical_wood_tg = { change_trade_goods = tropical_wood }
		nhs_had_livestock_tg = { change_trade_goods = livestock }
		nhs_had_incense_tg = { change_trade_goods = incense }
		nhs_had_glass_tg = { change_trade_goods = glass }
		nhs_had_paper_tg = { change_trade_goods = paper }
		nhs_had_gems_tg = { change_trade_goods = gems }
		nhs_had_whaling_tg = { change_trade_goods = whaling }
		nhs_had_maize_tg = { change_trade_goods = maize }
		nhs_had_coal_tg = { change_trade_goods = coal }
		nhs_had_seal_hunting_tg = { change_trade_goods = seal_hunting }
		nhs_had_elysian_silk_tg = { change_trade_goods = elysian_silk }
		nhs_had_norse_mead_tg = { change_trade_goods = norse_mead }
	}
	clr_province_flag = nhs_had_grain_tg
	clr_province_flag = nhs_had_wine_tg
	clr_province_flag = nhs_had_wool_tg
	clr_province_flag = nhs_had_cloth_tg
	clr_province_flag = nhs_had_fish_tg
	clr_province_flag = nhs_had_fur_tg
	clr_province_flag = nhs_had_salt_tg
	clr_province_flag = nhs_had_naval_supplies_tg
	clr_province_flag = nhs_had_copper_tg
	clr_province_flag = nhs_had_gold_tg
	clr_province_flag = nhs_had_iron_tg
	clr_province_flag = nhs_had_slaves_tg
	clr_province_flag = nhs_had_ivory_tg
	clr_province_flag = nhs_had_tea_tg
	clr_province_flag = nhs_had_chinaware_tg
	clr_province_flag = nhs_had_spices_tg
	clr_province_flag = nhs_had_coffee_tg
	clr_province_flag = nhs_had_cotton_tg
	clr_province_flag = nhs_had_sugar_tg
	clr_province_flag = nhs_had_tobacco_tg
	clr_province_flag = nhs_had_cocoa_tg
	clr_province_flag = nhs_had_silk_tg
	clr_province_flag = nhs_had_dyes_tg
	clr_province_flag = nhs_had_tropical_wood_tg
	clr_province_flag = nhs_had_livestock_tg
	clr_province_flag = nhs_had_incense_tg
	clr_province_flag = nhs_had_glass_tg
	clr_province_flag = nhs_had_paper_tg
	clr_province_flag = nhs_had_gems_tg
	clr_province_flag = nhs_had_whaling_tg
	clr_province_flag = nhs_had_maize_tg
	clr_province_flag = nhs_had_coal_tg
	clr_province_flag = nhs_had_seal_hunting_tg
	clr_province_flag = nhs_had_elysian_silk_tg
	clr_province_flag = nhs_had_norse_mead_tg
}

nhs_set_native_governments = {
	PIA = {
		if = {
			limit = {
				NOT = { has_reform = sedentary_society }
				is_native_council = yes
			}
			add_government_reform = sedentary_society
		}
	}
	SUS = {
		if = {
			limit = {
				NOT = { has_reform = sedentary_society }
				is_native_council = yes
			}
			add_government_reform = sedentary_society
		}
	}
	LEN = {
		if = {
			limit = {
				NOT = { has_reform = sedentary_society }
				is_native_council = yes
			}
			add_government_reform = sedentary_society
		}
	}
	XXR = {
		if = {
			limit = {
				NOT = { has_reform = sedentary_society }
				is_native_council = yes
			}
			add_government_reform = sedentary_society
		}
	}
	POW = {
		if = {
			limit = {
				NOT = { has_reform = sedentary_society }
				is_native_council = yes
			}
			add_government_reform = sedentary_society
		}
	}
}

vov_varangian_heir_ruler_general = {
	[[HEIR_FEMALE]
		custom_tooltip = vov_heir_to_general
	]
	[[HEIR_MALE]
		custom_tooltip = vov_heir_to_general
	]
	[[RULER_MALE]
		custom_tooltip = vov_ruler_to_general
	]
	[[RULER_FEMALE]
		custom_tooltip = vov_ruler_to_general
	]
	hidden_effect = {
		if = {
			limit = {
				NOT = { army_tradition = 75 }
			}
			add_army_tradition = 25
			[[HEIR_FEMALE]
				convert_female_heir_to_general = yes
			]
			[[HEIR_MALE]
				convert_heir_to_general = yes
			]
			[[RULER_MALE]
				convert_ruler_to_general = yes
			]
			[[RULER_FEMALE]
				convert_female_ruler_to_general = yes
			]
			add_army_tradition = -25
		}
		else = {
			set_variable = {
				which = vov_trad_var
				value = 0
			}
			while = {
				limit = {
					NOT = { army_tradition = 100 }
				}
				change_variable = {
					which = vov_trad_var
					value = 1
				}
				add_army_tradition = 1
			}
			[[HEIR_FEMALE]
				convert_female_heir_to_general = yes
			]
			[[HEIR_MALE]
				convert_heir_to_general = yes
			]
			[[RULER_MALE]
				convert_ruler_to_general = yes
			]
			[[RULER_FEMALE]
				convert_female_ruler_to_general = yes
			]
			while = {
				limit = {
					check_variable = {
						which = vov_trad_var
						value = 1
					}
				}
				change_variable = {
					which = vov_trad_var
					value = -1
				}
				add_army_tradition = -1
			}
		}
	}
}

nhs_change_to_proper_orthodox_religion = {
	if = {
		limit = {
			OR = {
				ROOT = {
					religion = orthodox
				}
				NOT = { has_global_flag = nhs2_patriarchate_established }
			}
		}
		change_religion = orthodox
	}
	else = {
		change_religion = elysian_orthodoxy
	}
}

nhs_add_reform = {
	if = {
		limit = {
			has_dlc = "Dharma"
		}
		#[[REM]
		#	remove_government_reform = $REM$
		#]
		add_government_reform = $REF$
	}
}

nhs_add_gov_reform = {
	if = {
		limit = {
			has_dlc = "Dharma"
		}
		#[[REM]
		#	remove_government_reform = $REM$
		#]
		add_government_reform = $REF$
	}
	else = {
		hidden_effect = {
			add_government_reform = nhs_intermediary_government
		}
		add_government_reform = $REF$
	}
}

nhs_set_center_of_trade_1 = {
	custom_tooltip = nhs_add_center_of_trade_1_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			center_of_trade = 1
		}
		else = {
			owner = {
				add_treasury = 50
			}
		}
	}
}

nhs_set_center_of_trade_2 = {
	custom_tooltip = nhs_add_center_of_trade_2_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			center_of_trade = 2
		}
		else_if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
			add_center_of_trade_level = 1
		}
		else = {
			owner = {
				add_treasury = 100
			}
		}
	}
}

nhs_set_center_of_trade_3 = {
	custom_tooltip = nhs_add_center_of_trade_3_tt
	hidden_effect = {
		if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			center_of_trade = 3
		}
		else_if = {
			limit = {
				NOT = { province_has_center_of_trade_of_level = 3 }
			}
			add_center_of_trade_level = 2
		}
		else = {
			owner = {
				add_treasury = 500
			}
		}
	}
}

nhs_set_center_in_a_region_to_level_3 = {
	if = {
		limit = {
			any_owned_province = {
				$TYPE$ = $CNRG$
			}
			NOT = {
				any_province = {
					$TYPE$ = $CNRG$
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
					province_has_center_of_trade_of_level = 3
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 2
				}
				
			}
			random_owned_province = {
				limit = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 2
				}
				nhs_set_center_of_trade_3 = yes
			}
		}
		else_if = {
			limit = {
				any_owned_province = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 1
				}
			}
			random_owned_province = {
				limit = {
					$TYPE$ = $CNRG$
					province_has_center_of_trade_of_level = 1
				}
				nhs_set_center_of_trade_3 = yes
			}
		}
		else = {
			random_owned_province = {
				limit = {
					$TYPE$ = $CNRG$
				}
				nhs_set_center_of_trade_3 = yes
			}
		}
	}
	else = {
		add_treasury = 1000
	}
}

nhs_set_center_in_a_region = {
	if = {
		limit = {
			any_owned_province = {
				$TYPE$ = $CNRG$
				province_has_center_of_trade_of_level = 1
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
		}
		random_owned_province = {
			limit = {
				$TYPE$ = $CNRG$
				province_has_center_of_trade_of_level = 1
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
			nhs_set_center_of_trade_2 = yes
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			nhs_set_center_of_trade_1 = yes
		}
	}
	else_if = {
		limit = {
			any_province = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_province = {
			limit = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			nhs_set_center_of_trade_1 = yes
		}
	}
	else_if = {
		limit = {
			any_province = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random__province = {
			limit = {
				owner = {
					is_subject_of = ROOT
				}
				nhs_eicticofminh = yes
				$TYPE$ = $CNRG$
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			nhs_set_center_of_trade_1 = yes
		}
	}
	else = {
		add_treasury = 75
	}
}

nhs_change_government = {
	if = {
		limit = {
			has_dlc = "Dharma"
			NOT = { government = $GOV$ }
		}
		change_government = $GOV$
	}
	[[LEGACY]
		set_legacy_government = $LEGACY$
	]
}

nhs_squips_integration_exist = {
	SHQ = {
		change_primary_culture = shqipproi
		change_religion = ROOT
		add_opinion = {
			who = ROOT
			modifier = nhs_forced_culture_change
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_albanian_majority
			}
			change_culture = shqipproi
			custom_tooltip = nhs_update_albanian_majority_tt
			custom_tooltip = nhs_self_governance_tt
			hidden_effect = {
				remove_province_modifier = nhs2_albanian_majority
				add_permanent_province_modifier = {
					name = "nhs2_albanian_majority2"
					duration = -1
				}
				if = {
					limit = {
						has_province_modifier = nhs2_albanian_majority_no
					}
					remove_province_modifier = nhs2_albanian_majority_no
				}
				add_province_modifier = {
					name = "nhs2_albanian_majority2_no"
					duration = -1
				}
			}
		}
		every_province = {
			limit = {
				culture = shqiperi
				NOT = { has_province_modifier = nhs2_albanian_majority }
			}
			change_culture = shqipproi
		}
	}
	every_province = {
		limit = {
			has_province_modifier = nhs2_albanian_majority
			NOT = { owned_by = SHQ }
		}
		change_culture = shqipproi
		custom_tooltip = nhs_update_albanian_majority_tt
		hidden_effect = {
			remove_province_modifier = nhs2_albanian_majority
			add_permanent_province_modifier = {
				name = "nhs2_albanian_majority2"
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
	}
	every_province = {
		limit = {
			culture = shqiperi
			NOT = { has_province_modifier = nhs2_albanian_majority }
			NOT = { owned_by = SHQ }
		}
		change_culture = shqipproi
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
	}
	set_global_flag = nhs_shqiperi_into_elysian
	clr_country_flag = nhs_ingrate40
	clr_country_flag = nhs_ingrate30
	clr_country_flag = nhs_ingrate20
	clr_country_flag = nhs_ingrate10
}

nhs_squips_integration_not_exists = {
	every_province = {
		limit = {
			has_province_modifier = nhs2_albanian_majority
		}
		change_culture = shqipproi
		custom_tooltip = nhs_update_albanian_majority_tt
		hidden_effect = {
			remove_province_modifier = nhs2_albanian_majority
			add_permanent_province_modifier = {
				name = "nhs2_albanian_majority2"
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
		else = {
			if = {
				limit = {
					has_province_modifier = nhs2_albanian_majority_no
				}
				remove_province_modifier = nhs2_albanian_majority_no
			}
			add_province_modifier = {
				name = "nhs2_albanian_majority2_no"
				duration = -1
			}
		}
	}
	every_province = {
		limit = {
			culture = shqiperi
			NOT = { has_province_modifier = nhs2_albanian_majority }
		}
		change_culture = shqipproi
		if = {
			limit = {
				NOT = {
					tag = SHQ
					primary_culture = shqipproi
					primary_culture = shqiperi
				}
			}
			add_unrest = 10
		}
	}
	hidden_effect = {
		SHQ = {
			change_primary_culture = shqipproi
			change_religion = ROOT
		}
	}
	set_global_flag = nhs_shqiperi_into_elysian
	clr_country_flag = nhs_ingrate40
	clr_country_flag = nhs_ingrate30
	clr_country_flag = nhs_ingrate20
	clr_country_flag = nhs_ingrate10
}

nhs_increase_variable = {
	change_variable = {
		which = $VARIABLE$
		value = $VAL$
	}
	if = {
		limit = {
			check_variable = {
				which = $VARIABLE$
				value = $MAX$
			}
		}
		set_variable = {
			which = $VARIABLE$
			value = $MAX$
		}
	}
}

nhs_release_elysian_splinter = {
	if = {
		limit = {
			any_owned_province = {
				culture = $CULTURE$
			}
		}
		every_owned_province = {
			limit = {
				culture = $CULTURE$
				NOT = { is_core = $TAG$ }
			}
			add_core = $TAG$
		}
		if = {
			limit = {
				NOT = { exists = $TAG$ }
			}
			release = $TAG$
			$TAG$ = {
				change_religion = ROOT
			}
		}
		else = {
			every_owned_province = {
				limit = {
					culture = $CULTURE$
				}
				cede_province = $TAG$
			}
		}
	}
}

nhs_decrease_variable = {
	subtract_variable = {
		which = $VARIABLE$
		value = $VAL$
	}
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = $VARIABLE$
					value = $MIN$
				}
			}
		}
		set_variable = {
			which = $VARIABLE$
			value = $MIN$
		}
	}
}

nhs_building_counter_effect_add = {
	tooltip = {
		owner = {
			change_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
	hidden_effect = {
		if = {
			limit = {
				owner = {
					has_country_flag = nhs_start_counting_buildings
				}
				NOT = { has_province_flag = $FLAGG$ }
			}
			set_province_flag = $FLAGG$
			owner = {
				change_variable = {
					which = nhs_HighTierBuildingCount
					value = 1
				}
			}
		}
	}
}
nhs_building_counter_effect_sub = {
	if = {
		limit = {
			has_province_flag = $FLAGG$
			owner = {
				has_country_flag = nhs_start_counting_buildings
			}
		}
		clr_province_flag = $FLAGG$
		owner = {
			subtract_variable = {
				which = nhs_HighTierBuildingCount
				value = 1
			}
		}
	}
}
nhs_display_rel_center = {
	tooltip = {
		add_permanent_province_modifier = {
			name = religious_center
			duration = -1
		}
	}
}
nhs_assign_provinces_to_marches = {
	if = {
		limit = {
			any_owned_province = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			
		}
		random_owned_province = {
			limit = {
				religion = ROOT
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { is_core = ROOT }
				NOT = { has_province_flag = nhs_exarch_province_exemption }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				religion = ROOT
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				religion = ROOT
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
				development = 25
				NOT = { province_has_center_of_trade_of_level = 1 }
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
		}
		random_owned_province = {
			limit = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				religion = ROOT
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	else_if = {
		limit = {
			any_owned_province = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
			}
		}
		random_owned_province = {
			limit = {
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				region = $REGIONN$
			}
			tooltip = {
				cede_province = $TAGG$
			}
			add_core = $TAGG$
			hidden_effect = {
				ROOT = {
					release = $TAGG$
				}
			}
		}
	}
	create_subject = {
		subject_type = elysian_subject
		subject = $TAGG$
	}
	if = {
		limit = {
			any_province = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { is_core = ROOT }
				AND = {
					owned_by = ROOT
					owner = {
						tag = ELG
						is_subject_of = ROOT
					}
				}
			}
		}
		every_province = {
			limit = {
				region = $REGIONN$
				NOT = { has_province_flag = nhs_exarch_province_exemption }
				NOT = { is_core = ROOT }
				AND = {
					owned_by = ROOT
					owner = {
						tag = ELG
						is_subject_of = ROOT
					}
				}
			}
			cede_province = $TAGG$
		}
	}
}
nhs_handle_spartan_integration = {
	if = {
		limit = {
			province_group = mesoamerica_pgroup
			OR = {
				has_province_flag = nhs_mesoamerican_integration2920
				has_province_flag = nhs_mesoamerican_integration3650
				has_province_flag = nhs_mesoamerican_integration4380
			}
			NOT = {
				owner = {
					OR = {
						NOT = { culture_group = ROOT }
						ROOT = { has_province_modifier = nhs2_spartan_independence }
					}
					nhs_is_elysia = yes
					has_country_flag = nhs_expanding_south_complete
				}
			}
		}
		clr_province_flag = nhs_mesoamerican_integration2920
		clr_province_flag = nhs_mesoamerican_integration3650
		clr_province_flag = nhs_mesoamerican_integration4380
		if = {
			limit = {
				has_province_modifier = nhs_mesoamerican_integration_mod
			}
			remove_province_modifier = nhs_mesoamerican_integration_mod
		}
	}
	else_if = {
		limit = {
			province_group = mesoamerica_pgroup
			NOT = { has_province_flag = nhs_mesoamerican_integration2920 }
			NOT = { has_province_flag = nhs_mesoamerican_integration3650 }
			NOT = { has_province_flag = nhs_mesoamerican_integration4380 }
			owner = {
				OR = {
					NOT = { culture_group = ROOT }
					ROOT = { has_province_modifier = nhs2_spartan_independence }
				}
				nhs_is_elysia = yes
				has_country_flag = nhs_expanding_south_complete
			}
		}
		random_list = {
			33 = {
				set_province_flag = nhs_mesoamerican_integration2920
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 2920
				}
			}
			33 = {
				set_province_flag = nhs_mesoamerican_integration3650
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 3650
				}
				
			}
			33 = {
				set_province_flag = nhs_mesoamerican_integration4380
				add_province_modifier = {
					name = nhs_mesoamerican_integration_mod
					duration = 4380
				}
			}
		}
	}
}
nhs_set_unit_type = {
	if = {
		limit = {
			technology_group = western
		}
		change_unit_type = western
	}
	if = {
		limit = {
			technology_group = eastern
		}
		change_unit_type = eastern
	}
	if = {
		limit = {
			technology_group = ottoman
		}
		change_unit_type = ottoman
	}
	if = {
		limit = {
			technology_group = muslim
		}
		change_unit_type = muslim
	}
}
nhs_remove_reforms = {
	if = {
		limit = {
			has_country_modifier = nhs2_native_army_reform
		}
		remove_country_modifier = nhs2_native_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_traditional_army_reform
		}
		remove_country_modifier = nhs2_traditional_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_byz
		}
		remove_country_modifier = nhs2_army_reform_byz
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_euro
		}
		remove_country_modifier = nhs2_army_reform_euro
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform
		}
		remove_country_modifier = nhs2_fire_army_reform
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_no
		}
		remove_country_modifier = nhs2_army_reform_no
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_pas
		}
		remove_country_modifier = nhs2_army_reform_pas
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_cavalry
		}
		remove_country_modifier = nhs2_army_reform_cavalry
	}
	if = {
		limit = {
			has_country_modifier = nhs2_army_reform_xbow
		}
		remove_country_modifier = nhs2_army_reform_xbow
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform2
		}
		remove_country_modifier = nhs2_fire_army_reform2
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_mm
		}
		remove_country_modifier = nhs2_amry_reform_mm
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_nma
		}
		remove_country_modifier = nhs2_amry_reform_nma
	}
	if = {
		limit = {
			has_country_modifier = nhs2_amry_reform_ga
		}
		remove_country_modifier = nhs2_amry_reform_ga
	}
	if = {
		limit = {
			has_country_modifier = nhs2_fire_army_reform3
		}
		remove_country_modifier = nhs2_fire_army_reform3
	}
	if = {
		limit = {
			has_country_modifier = nhs2_disgruntled_nobles
		}
		remove_country_modifier = nhs2_disgruntled_nobles
	}
}
nhs_set_the_fire_on = {
	if = {
		limit = {
			NOT = { has_country_flag = nhs_updated_fire }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire_w
			}
			remove_country_modifier = nhs_secrets_greekfire_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update_w
			}
			remove_country_modifier = nhs_greekfire_update_w
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_secrets_greekfire }
			}
			add_country_modifier = {
				name = nhs_secrets_greekfire
				duration = -1
			}
		}
	}
	if = {
		limit = {
			has_country_flag = nhs_updated_fire
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire_w
			}
			remove_country_modifier = nhs_secrets_greekfire_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update_w
			}
			remove_country_modifier = nhs_greekfire_update_w
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_greekfire_update }
			}
			add_country_modifier = {
				name = nhs_greekfire_update
				duration = -1
			}
		}
	}
	if = {
		limit = {
			has_country_flag = nhs_fire_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs_fire_reform_w
			}
			remove_country_modifier = nhs_fire_reform_w
		}
		if = {
			limit = {
				has_country_modifier = nhs_fire_reform_w_update
			}
			remove_country_modifier = nhs_fire_reform_w_update
		}
		if = {
			limit = {
				has_country_flag = nhs_second_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform
				duration = -1
			}
		}
		if = {
			limit = {
				has_country_flag = nhs_third_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform2
				duration = -1
			}
		}
		if = {
			limit = {
				has_country_flag = nhs_fourth_a_reform
			}
			add_country_modifier = {
				name = nhs2_fire_army_reform3
				duration = -1
			}
		}
	}
}
nhs_set_the_fire_off = {
	if = {
		limit = {
			OR = {
				NOT = { has_country_flag = nhs_updated_fire }
				has_country_modifier = nhs_secrets_greekfire
			}
			NOT = { has_country_modifier = nhs2_fire_army_reform }
			NOT = { has_country_modifier = nhs2_fire_army_reform2 }
			NOT = { has_country_modifier = nhs2_fire_army_reform3 }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire
			}
			remove_country_modifier = nhs_secrets_greekfire
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update
			}
			remove_country_modifier = nhs_greekfire_update
		}
		add_country_modifier = {
			name = nhs_secrets_greekfire_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_flag = nhs_updated_fire
				has_country_modifier = nhs_greekfire_update
			}
			NOT = { has_country_modifier = nhs2_fire_army_reform }
			NOT = { has_country_modifier = nhs2_fire_army_reform2 }
			NOT = { has_country_modifier = nhs2_fire_army_reform3 }
		}
		if = {
			limit = {
				has_country_modifier = nhs_secrets_greekfire
			}
			remove_country_modifier = nhs_secrets_greekfire
		}
		if = {
			limit = {
				has_country_modifier = nhs_greekfire_update
			}
			remove_country_modifier = nhs_greekfire_update
		}
		add_country_modifier = {
			name = nhs_greekfire_update_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_modifier = nhs2_fire_army_reform
				has_country_modifier = nhs2_fire_army_reform2
				has_country_modifier = nhs2_fire_army_reform3
			}
			OR = {
				NOT = { has_country_flag = nhs_updated_fire }
				has_country_modifier = nhs_secrets_greekfire
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform
			}
			remove_country_modifier = nhs2_fire_army_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform2
			}
			remove_country_modifier = nhs2_fire_army_reform2
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform3
			}
			remove_country_modifier = nhs2_fire_army_reform3
		}
		add_country_modifier = {
			name = nhs_fire_reform_w
			duration = 14600
		}
	}
	if = {
		limit = {
			OR = {
				has_country_modifier = nhs2_fire_army_reform
				has_country_modifier = nhs2_fire_army_reform2
				has_country_modifier = nhs2_fire_army_reform3
			}
			OR = {
				has_country_flag = nhs_updated_fire
				has_country_modifier = nhs_greekfire_update
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform
			}
			remove_country_modifier = nhs2_fire_army_reform
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform2
			}
			remove_country_modifier = nhs2_fire_army_reform2
		}
		if = {
			limit = {
				has_country_modifier = nhs2_fire_army_reform3
			}
			remove_country_modifier = nhs2_fire_army_reform3
		}
		add_country_modifier = {
			name = nhs_fire_reform_w_update
			duration = 14600
		}
	}
}
nhs_embrace_neighbor_institutions = {
	if = {
		limit = {
			any_owned_province = {
				NOT = { renaissance = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = renaissance
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { renaissance = 100 }
				}
				add_institution_embracement = {
					which = "renaissance"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_rene
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { feudalism = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = feudalism
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { feudalism = 100 }
				}
				add_institution_embracement = {
					which = "feudalism"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_feud
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { new_world_i = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = new_world_i
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { new_world_i = 100 }
				}
				add_institution_embracement = {
					which = "new_world_i"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_neww
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { printing_press = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = printing_press
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { printing_press = 100 }
				}
				add_institution_embracement = {
					which = "printing_press"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_print
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { global_trade = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = global_trade
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { global_trade = 100 }
				}
				add_institution_embracement = {
					which = "global_trade"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_global
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { manufactories = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = manufactories
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { manufactories = 100 }
				}
				add_institution_embracement = {
					which = "manufactories"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_manuf
		}
	}
	if = {
		limit = {
			any_owned_province = {
				NOT = { enlightenment = 100 }
			}
			any_neighbor_country = {
				OR = {
					technology_group = exiled_greek
					technology_group = modern_greek
					technology_group = modern_spartan
				}
				has_institution = enlightenment
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					NOT = { enlightenment = 100 }
				}
				add_institution_embracement = {
					which = "enlightenment"
					value = 100
				}
			}
			custom_tooltip = nhs_all_embrace_engligh
		}
	}
}
viking_discovery = {
	discover_province = 980
	discover_province = 981
	discover_province = 2573
	discover_province = 997
	discover_province = 2575
	discover_province = 2574
	discover_province = 996
	discover_province = 2576
	discover_province = 2577
	discover_province = 2578
	discover_province = 995
	discover_province = 994
	discover_province = 2583
	discover_province = 2582
	discover_province = 986
	discover_province = 2572
	discover_province = 985
	discover_province = 2571
	discover_province = 2570
	discover_province = 2566
	discover_province = 983
	discover_province = 984
	discover_province = 2569
	discover_province = 2568
	discover_province = 982
	discover_province = 1104
	discover_province = 1105
	discover_province = 1482
	discover_province = 1483
	discover_province = 1493
	discover_province = 1490
	discover_province = 1495
	discover_province = 1494
	discover_province = 1491
	discover_province = 1492

}
thorfinn_bay_discovery = {
	discover_province = 998
	discover_province = 999
	discover_province = 1000
	discover_province = 1003
	discover_province = 1004
	discover_province = 1005
	discover_province = 1006
	discover_province = 2592
}
great_lakes_discovery = {
	discover_province = 989
	discover_province = 961
	discover_province = 960 
	discover_province = 959 
	discover_province = 958 
	discover_province = 2670 
	discover_province = 987 
	discover_province = 954 
	discover_province = 947 
	discover_province = 946 
	discover_province = 944 
	discover_province = 2521 
	discover_province = 2587 
	discover_province = 2586 
	discover_province = 988 
	discover_province = 2671 
	discover_province = 1001 
	discover_province = 945 
	discover_province = 911 
	discover_province = 914 
	discover_province = 915 
	discover_province = 942 
	discover_province = 2522 
	discover_province = 2518 
	discover_province = 2517 
	discover_province = 910 
	discover_province = 1007 
	discover_province = 2015
}

erikson_river_discovery = {
	discover_province = 994 
	discover_province = 2583 
	discover_province = 990 
	discover_province = 993 
	discover_province = 2584 
	discover_province = 2585 
	discover_province = 2559 
	discover_province = 989 
	discover_province = 961 
	erikson_river_area = {
		ROOT = {
			discover_province = PREV
		}
	}
}

disputed_lands_coast_discovery = {
	discover_province = 2570 
	discover_province = 2566 
	discover_province = 2013 
	discover_province = 970 
	discover_province = 971 
	discover_province = 968 
	discover_province = 2561 
	discover_province = 967 
}

elysian_coast_discovery = {
	discover_province = 2010 
	discover_province = 2560 
	discover_province = 965 
	discover_province = 2639 
	discover_province = 962 
	discover_province = 957 
	discover_province = 2554 
	discover_province = 953 
	discover_province = 2550 
	discover_province = 952 
	discover_province = 950 
	discover_province = 2547 
	discover_province = 938 
	discover_province = 2546  
}
erikson_gulf_discovery = {
	discover_province = 980 
	discover_province = 981 
	discover_province = 981 
	discover_province = 982 
	discover_province = 983 
	discover_province = 984 
	discover_province = 985 
	discover_province = 986 
	discover_province = 994 
	discover_province = 995 
	discover_province = 996 
	discover_province = 997 
	discover_province = 2568 
	discover_province = 2569 
	discover_province = 2572 
	discover_province = 2573 
	discover_province = 2574 
	discover_province = 2575 
	discover_province = 2576 
	discover_province = 2577 
	discover_province = 2578 
	discover_province = 2582 
	discover_province = 2583
}

north_elysian_sea_discovery = {
	discover_province = 1501 
	discover_province = 1500 
	discover_province = 1499 
	discover_province = 1492 
}

south_elysian_sea_discovery = {
	discover_province = 1501 
	discover_province = 1502 
	discover_province = 1503 
}

vinlandic_sea_discovery = {
	discover_province = 1483 
	discover_province = 1490 
	discover_province = 1491 
	discover_province = 1493 
	discover_province = 1494 
	discover_province = 1495
}

thorfinn_sea_discovery = {
	discover_province = 1485
	discover_province = 1488 
	discover_province = 1486 
	discover_province = 1487 
	discover_province = 1484
	discover_province = 1489
}

great_lakes_sea_discovery = {
	discover_province = 1659
	discover_province = 1660
	discover_province = 1661
	discover_province = 1662
	discover_province = 1663
}

# greenland_discovery = {


# }

# north_sea_discovery = {


# }

calc_barbaroi_angerement = {
	if = {
		limit = {
			NOT = {
				check_variable = {
					which = nhs_nat_estate_balance_20
					value = 1
				}
			}
			any_owned_province = {
				has_estate = estate_nhs_native_council
			}
		}
		clr_country_flag = nhs_natives_angry
		clr_country_flag = nhs_natives_content
		set_country_flag = nhs_natives_happy
	}
	else_if = {
		limit = {
			NOT = {
				check_variable = {
					which = nhs_nat_estate_balance_10
					value = 1
				}
			}
		}
		clr_country_flag = nhs_natives_angry
		set_country_flag = nhs_natives_content
		clr_country_flag = nhs_natives_happy
	}
	else = {
		set_country_flag = nhs_natives_angry
		clr_country_flag = nhs_natives_content
		clr_country_flag = nhs_natives_happy
	}
}

nhs_handle_barbaroi_provinces_counter = {
	hidden_effect = {
		#province Scope, # FROM = old owner
		if = {
			limit = {
				OR = {
					has_province_flag = nhs_barbaroi_province
					has_province_flag = nhs_counted_province
				}
				FROM = {
					has_country_flag = native_council_enabled
				}
			}
			if = {
				limit = {
					has_province_flag = nhs_counted_province
				}
				clr_province_flag = nhs_counted_province
				FROM = {
					change_variable = {
						which = nhs_nat_estate_na_provinces_10
						value = -1
					}
					change_variable = {
						which = nhs_nat_estate_na_provinces_20
						value = -1
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = nhs_nat_estate_na_provinces_10
									value = 0
								}
							}
						}
						change_variable = {
							which = nhs_nat_estate_balance_10
							value = -1
						}
						change_variable = {
							which = nhs_nat_estate_total_na_provinces_10
							value = -1
						}
						set_variable = {
							which = nhs_nat_estate_na_provinces_10
							value = 7
						}
					}
					if = {
						limit = {
							NOT = {
								check_variable = {
									which = nhs_nat_estate_na_provinces_20
									value = 0
								}
							}
						}
						change_variable = {
							which = nhs_nat_estate_balance_20
							value = -1
						}
						change_variable = {
							which = nhs_nat_estate_total_na_provinces_20
							value = -1
						}
						set_variable = {
							which = nhs_nat_estate_na_provinces_20
							value = 3
						}
					}
				}
			}
			if = {
				limit = {
					has_province_flag = nhs_barbaroi_province
				}
				clr_province_flag = nhs_barbaroi_province
				FROM = {
					change_variable = {
						which = nhs_nat_estate_balance_10
						value = 1
					}
					change_variable = {
						which = nhs_nat_estate_balance_20
						value = 1
					}
				}
			}
			FROM = {
				calc_barbaroi_angerement = yes
			}
		}
		clr_province_flag = nhs_counted_province
		# if = {
			# limit = {
				# continent = north_america
				# NOT = {
					# province_group = mesoamerica_pgroup
				# }
				# is_colony = no
				# NOT = { region = central_america_region }
				# NOT = { has_province_modifier = nhs2_albanian_majority }
				# NOT = { has_province_modifier = nhs2_albanian_majority2 }
				# NOT = { culture = high_elysian }
			# }
			# #Estates only want states!
			# # if = {
				# # limit = {
					# # owner = {
						# # has_country_flag = native_council_enabled
					# # }
				# # }
				# # owner = {
					# # change_variable = {
						# # which = nhs_nat_estate_na_provinces_10
						# # value = 1
					# # }
					# # change_variable = {
						# # which = nhs_nat_estate_na_provinces_20
						# # value = 1
					# # }
					# # if = {
						# # limit = {
							# # check_variable = {
								# # which = nhs_nat_estate_na_provinces_10
								# # value = 10
							# # }
						# # }
						# # change_variable = {
							# # which = nhs_nat_estate_balance_10
							# # value = 1
						# # }
						# # change_variable = {
							# # which = nhs_nat_estate_total_na_provinces_10
							# # value = 1
						# # }
						# # set_variable = {
							# # which = nhs_nat_estate_na_provinces_10
							# # value = 0
						# # }
					# # }
					# # if = {
						# # limit = {
							# # check_variable = {
								# # which = nhs_nat_estate_na_provinces_20
								# # value = 5
							# # }
						# # }
						# # change_variable = {
							# # which = nhs_nat_estate_balance_20
							# # value = 1
						# # }
						# # change_variable = {
							# # which = nhs_nat_estate_total_na_provinces_20
							# # value = 1
						# # }
						# # set_variable = {
							# # which = nhs_nat_estate_na_provinces_20
							# # value = 0
						# # }
					# # }
					# # calc_barbaroi_angerement = yes
				# # }
			# # }
			# if = {
				# limit = {
					# FROM = {
						# has_country_flag = native_council_enabled
					# }
					# has_province_flag = nhs_counted_province
				# }
				# clr_province_flag = nhs_counted_province
				# FROM = {
					# change_variable = {
						# which = nhs_nat_estate_na_provinces_10
						# value = -1
					# }
					# change_variable = {
						# which = nhs_nat_estate_na_provinces_20
						# value = -1
					# }
					# if = {
						# limit = {
							# NOT = {
								# check_variable = {
									# which = nhs_nat_estate_na_provinces_10
									# value = 0
								# }
							# }
						# }
						# change_variable = {
							# which = nhs_nat_estate_balance_10
							# value = -1
						# }
						# change_variable = {
							# which = nhs_nat_estate_total_na_provinces_10
							# value = -1
						# }
						# set_variable = {
							# which = nhs_nat_estate_na_provinces_10
							# value = 9
						# }
					# }
					# if = {
						# limit = {
							# NOT = {
								# check_variable = {
									# which = nhs_nat_estate_na_provinces_20
									# value = 0
								# }
							# }
						# }
						# change_variable = {
							# which = nhs_nat_estate_balance_20
							# value = -1
						# }
						# change_variable = {
							# which = nhs_nat_estate_total_na_provinces_20
							# value = -1
						# }
						# set_variable = {
							# which = nhs_nat_estate_na_provinces_20
							# value = 4
						# }
					# }
				# }
				# if = {
					# limit = {
						# has_province_flag = nhs_barbaroi_province
					# }
					# clr_province_flag = nhs_barbaroi_province
					# FROM = {
						# change_variable = {
							# which = nhs_nat_estate_balance_10
							# value = 1
						# }
						# change_variable = {
							# which = nhs_nat_estate_balance_20
							# value = 1
						# }
					# }
				# }
				# FROM = {
					# calc_barbaroi_angerement = yes
				# }
			# }
			# clr_province_flag = nhs_counted_province
		# }
	}
}

nhs_remove_barbaroi_province = {
	hidden_effect = {
		if = {
			limit = {
				has_estate = estate_nhs_native_council
				has_province_flag = nhs_barbaroi_province
			}
			clr_province_flag = nhs_barbaroi_province
			owner = {
				change_variable = {
					which = nhs_nat_estate_balance_10
					value = 1
				}
				change_variable = {
					which = nhs_nat_estate_balance_20
					value = 1
				}
				calc_barbaroi_angerement = yes
			}
		}
	}
}

nhs_add_barbaroi_province = {
	hidden_effect = {
		if = {
			limit = {
				has_estate = estate_nhs_native_council
				NOT = { has_province_flag = nhs_barbaroi_province }
			}
			set_province_flag = nhs_barbaroi_province
			owner = {
				change_variable = {
					which = nhs_nat_estate_balance_10
					value = -1
				}
				change_variable = {
					which = nhs_nat_estate_balance_20
					value = -1
				}
				calc_barbaroi_angerement = yes
			}
		}
	}
}

nhs_barbaroi_check_all = {
	hidden_effect = {
		set_variable = {
			which = nhs_nat_estate_balance_10
			value = 0
		}
		set_variable = {
			which = nhs_nat_estate_total_na_provinces_10
			value = 0
		}
		set_variable = {
			which = nhs_nat_estate_na_provinces_10
			value = 0
		}
		set_variable = {
			which = nhs_nat_estate_balance_20
			value = 0
		}
		set_variable = {
			which = nhs_nat_estate_total_na_provinces_20
			value = 0
		}
		set_variable = {
			which = nhs_nat_estate_na_provinces_20
			value = 0
		}
		every_owned_province = {
			limit = {
				continent = north_america
				NOT = {
					province_group = mesoamerica_pgroup
				}
				is_state = yes
				is_colony = no
				NOT = { region = central_america_region }
				NOT = { has_province_modifier = nhs2_albanian_majority }
				NOT = { has_province_modifier = nhs2_albanian_majority2 }
				NOT = { culture = high_elysian }
			}
			set_province_flag = nhs_counted_province
			ROOT = {
				change_variable = {
					which = nhs_nat_estate_na_provinces_10
					value = 1
				}
				change_variable = {
					which = nhs_nat_estate_na_provinces_20
					value = 1
				}
				if = {
					limit = {
						check_variable = {
							which = nhs_nat_estate_na_provinces_10
							value = 8
						}
					}
					change_variable = {
						which = nhs_nat_estate_balance_10
						value = 1
					}
					change_variable = {
						which = nhs_nat_estate_total_na_provinces_10
						value = 1
					}
					set_variable = {
						which = nhs_nat_estate_na_provinces_10
						value = 0
					}
				}
				if = {
					limit = {
						check_variable = {
							which = nhs_nat_estate_na_provinces_20
							value = 4
						}
					}
					change_variable = {
						which = nhs_nat_estate_balance_20
						value = 1
					}
					change_variable = {
						which = nhs_nat_estate_total_na_provinces_20
						value = 1
					}
					set_variable = {
						which = nhs_nat_estate_na_provinces_20
						value = 0
					}
				}
			}
			if = {
				limit = {
					has_province_flag = nhs_barbaroi_province
				}
				clr_province_flag = nhs_barbaroi_province
			}
			if = {
				limit = {
					has_estate = estate_nhs_native_council
				}
				set_province_flag = nhs_barbaroi_province
				ROOT = {
					change_variable = {
						which = nhs_nat_estate_balance_10
						value = -1
					}
					change_variable = {
						which = nhs_nat_estate_balance_20
						value = -1
					}
				}
			}
		}
		every_owned_province = {
			limit = {
				continent = north_america
				NOT = { province_group = mesoamerica_pgroup }
				NOT = { region = central_america_region }
				NOT = { has_province_modifier = nhs2_albanian_majority }
				NOT = { has_province_modifier = nhs2_albanian_majority2 }
				NOT = { culture = high_elysian }
				is_state = no
				has_province_flag = nhs_counted_province
			}
			clr_province_flag = nhs_counted_province
			ROOT = {
				change_variable = {
					which = nhs_nat_estate_na_provinces_10
					value = -1
				}
				change_variable = {
					which = nhs_nat_estate_na_provinces_20
					value = -1
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = nhs_nat_estate_na_provinces_10
								value = 0
							}
						}
					}
					change_variable = {
						which = nhs_nat_estate_balance_10
						value = -1
					}
					change_variable = {
						which = nhs_nat_estate_total_na_provinces_10
						value = -1
					}
					set_variable = {
						which = nhs_nat_estate_na_provinces_10
						value = 7
					}
				}
				if = {
					limit = {
						NOT = {
							check_variable = {
								which = nhs_nat_estate_na_provinces_20
								value = 0
							}
						}
					}
					change_variable = {
						which = nhs_nat_estate_balance_20
						value = -1
					}
					change_variable = {
						which = nhs_nat_estate_total_na_provinces_20
						value = -1
					}
					set_variable = {
						which = nhs_nat_estate_na_provinces_20
						value = 3
					}
				}
			}
		}
		calc_barbaroi_angerement = yes
	}
}

nhs_barbaroi_display = {
	if = {
		limit = {
			revoked_privileges = yes
		}
		custom_tooltip = nhs_natives_restricted_tt
	}
	else_if = {
		limit = {
			has_country_flag = nhs_natives_angry
		}
		custom_tooltip = nhs_natives_angry_tt
	}
	else_if = {
		limit = {
			has_country_flag = nhs_natives_content
			any_owned_province = {
				has_estate = estate_nhs_native_council
			}
		}
		custom_tooltip = nhs_natives_content_tt
	}
	else_if = {
		limit = {
			has_country_flag = nhs_natives_content
		}
		custom_tooltip = nhs_natives_content_noprov_tt
	}
	else_if = {
		limit = {
			has_country_flag = nhs_natives_happy
		}
		custom_tooltip = nhs_natives_happy_tt
	}
	else = {
		custom_tooltip = nhs_bug_tt
	}
}

nhs_set_herald_preach = {
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_heralds1 }
			}
			add_country_modifier = {
				name = nhs_heralds1
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				NOT = { has_country_modifier = nhs_heralds2 }
			}
			add_country_modifier = {
				name = nhs_heralds2
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				NOT = { has_country_modifier = nhs_heralds3 }
			}
			add_country_modifier = {
				name = nhs_heralds3
				duration = 1825
				hidden = yes
			}
		}
		else_if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				has_country_modifier = nhs_heralds3
				NOT = { has_country_modifier = nhs_heralds4 }
			}
			add_country_modifier = {
				name = nhs_heralds4
				duration = 1825
				hidden = yes
			}
		}
	}
}

nhs_set_herald_7300 = {
	hidden_effect = {
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				has_country_modifier = nhs_heralds3
				NOT = { has_country_modifier = nhs_heralds4 }
			}
			add_country_modifier = {
				name = nhs_heralds4
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				has_country_modifier = nhs_heralds2
				NOT = { has_country_modifier = nhs_heralds3 }
			}
			add_country_modifier = {
				name = nhs_heralds3
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				has_country_modifier = nhs_heralds1
				NOT = { has_country_modifier = nhs_heralds2 }
			}
			add_country_modifier = {
				name = nhs_heralds2
				duration = 7300
				hidden = yes
			}
		}
		if = {
			limit = {
				NOT = { has_country_modifier = nhs_heralds1 }
			}
			add_country_modifier = {
				name = nhs_heralds1
				duration = 7300
				hidden = yes
			}
		}
	}
}

nhs_give_province = {
	if = {
		limit = {
			has_province_flag = nhs_p2
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p1
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}
		## END
		country_event = { id = nhs2_p.3 }			
	}
	if = {
		limit = {
			has_province_flag = nhs_p3
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p2
				any_neighbor_province = {
					has_province_flag = nhs_p1
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
	if = {
		limit = {
			has_province_flag = nhs_p4
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p3
				any_neighbor_province = {
					has_province_flag = nhs_p2
					any_neighbor_province = {
						has_province_flag = nhs_p1
					}
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
	if = {
		limit = {
			has_province_flag = nhs_p5
		}
		ROOT = {
			change_variable = { which = nhs_pm value = -1 }
		}
		random_neighbor_province = {
			limit = {
				has_province_flag = nhs_p4
				any_neighbor_province = {
					has_province_flag = nhs_p3
					any_neighbor_province = {
						has_province_flag = nhs_p2
						any_neighbor_province = {
							has_province_flag = nhs_p1
						}
					}
				}
			}
			cede_province = ROOT
			set_province_flag = nhs_province
		}		
	}
}

nhs_patriarch_switch_off = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_west
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
			remove_province_modifier = patriarchate_of_the_south
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_far_west
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
			remove_province_modifier = patriarchate_of_the_north
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_off
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_off
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_custody = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate
					has_province_modifier = nhs2_orthodox_patriarchate_for
				}
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west
					has_province_modifier = patriarchate_of_the_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_west
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south
					has_province_modifier = patriarchate_of_the_south_for
				}
			}
			remove_province_modifier = patriarchate_of_the_south
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west
					has_province_modifier = patriarchate_of_the_far_west_for
				}
			}
			remove_province_modifier = patriarchate_of_the_far_west
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north
					has_province_modifier = patriarchate_of_the_north_for
				}
			}
			remove_province_modifier = patriarchate_of_the_north
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_cus
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier
					has_province_modifier = ecumenical_patriarch_modifier_for
				}
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_cus
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_back = {
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = nhs2_orthodox_patriarchate_cus
					has_province_modifier = nhs2_orthodox_patriarchate_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = nhs2_orthodox_patriarchate_cus
			remove_province_modifier = nhs2_orthodox_patriarchate_off
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_west_cus
					has_province_modifier = patriarchate_of_the_west_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_west_cus
			remove_province_modifier = patriarchate_of_the_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_south_cus
					has_province_modifier = patriarchate_of_the_south_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_south_cus
			remove_province_modifier = patriarchate_of_the_south_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_far_west_cus
					has_province_modifier = patriarchate_of_the_far_west_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_far_west_cus
			remove_province_modifier = patriarchate_of_the_far_west_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = patriarchate_of_the_north_cus
					has_province_modifier = patriarchate_of_the_north_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_north_cus
			remove_province_modifier = patriarchate_of_the_north_off
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = ecumenical_patriarch_modifier_cus
					has_province_modifier = ecumenical_patriarch_modifier_off
				}
				religion = elysian_orthodoxy
			}
			remove_province_modifier = ecumenical_patriarch_modifier_cus
			remove_province_modifier = ecumenical_patriarch_modifier_off
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_for = {
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = nhs2_orthodox_patriarchate
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_orthodox_patriarchate
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = nhs2_orthodox_patriarchate
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_west
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_west
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_west
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_south
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_south
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_south
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_far_west
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_far_west
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_far_west
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_north
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_north
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = patriarchate_of_the_north
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north_for
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = ecumenical_patriarch_modifier
				NOT = { religion = elysian_orthodoxy }
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = ecumenical_patriarch_modifier
				NOT = { religion = elysian_orthodoxy }
			}
			remove_province_modifier = ecumenical_patriarch_modifier
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier_for
				duration = -1
			}
		}
	}
}

nhs_patriarch_switch_for_back = {
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = nhs2_orthodox_patriarchate_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = nhs2_orthodox_patriarchate_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = nhs2_orthodox_patriarchate_for
			add_permanent_province_modifier = {
				name = nhs2_orthodox_patriarchate
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_west_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_west_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_south_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_south_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_south_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_south
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_far_west_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_far_west_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_far_west_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_far_west
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = patriarchate_of_the_north_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = patriarchate_of_the_north_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = patriarchate_of_the_north_for
			add_permanent_province_modifier = {
				name = patriarchate_of_the_north
				duration = -1
			}
		}
	}
	if = {
		limit = {
			any_owned_province = {
				has_province_modifier = ecumenical_patriarch_modifier_for
				religion = elysian_orthodoxy
			}
		}
		every_owned_province = {
			limit = {
				has_province_modifier = ecumenical_patriarch_modifier_for
				religion = elysian_orthodoxy
			}
			remove_province_modifier = ecumenical_patriarch_modifier_for
			add_permanent_province_modifier = {
				name = ecumenical_patriarch_modifier
				duration = -1
			}
		}
	}
}

nhs_anti_patriarch = {
	if = {
		limit = {
			patriarch_authority = 0.9
		}
		custom_tooltip = nhs_high_patriarch_authority_90
		add_dip_power = -75
	}
	if = {
		limit = {
			patriarch_authority = 0.80
			NOT = { patriarch_authority = 0.9 }
		}
		custom_tooltip = nhs_high_patriarch_authority_80
		add_dip_power = -50
	}
	if = {
		limit = {
			patriarch_authority = 0.25
			OR = {
				patriarch_authority = 0.6
				NOT = { patriarch_authority = 0.4 }
			}
		}
		custom_tooltip = nhs_high_patriarch_authority_25
		add_dip_power = -30
	}
	if = {
		limit = {
			patriarch_authority = 0.10
			NOT = { patriarch_authority = 0.25 }
		}
		custom_tooltip = nhs_high_patriarch_authority_10
		add_dip_power = -15
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.75 }
		}
		custom_tooltip = nhs_high_patriarch_authority_75_below
		add_prestige = 10
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.06 }
		}
		custom_tooltip = nhs_high_patriarch_authority_5_below
		add_dip_power = 50
		add_legitimacy = -5
	}
}

nhs_for_patriarch = {
	if = {
		limit = {
			patriarch_authority = 0.95
		}
		custom_tooltip = nhs_high_patriarch_authority_95
		add_adm_power = 25
		add_corruption = 1
	}
	if = {
		limit = {
			patriarch_authority = 0.3
		}
		custom_tooltip = nhs_high_patriarch_authority_30
		add_legitimacy = 5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.95 }
			patriarch_authority = 0.80
		}
		custom_tooltip = nhs_high_patriarch_authority_95_below
		add_adm_power = -15
		add_prestige = -5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.80 }
			OR = {
				patriarch_authority = 0.6
				NOT = { patriarch_authority = 0.4 }
			}
		}
		custom_tooltip = nhs_high_patriarch_authority_80_below
		add_adm_power = -30
		add_prestige = -5
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.2 }
		}
		custom_tooltip = nhs_high_patriarch_authority_20_below
		add_adm_power = -50
	}
	if = {
		limit = {
			NOT = { patriarch_authority = 0.1 }
		}
		custom_tooltip = nhs_high_patriarch_authority_10_below
		add_adm_power = -75
	}
}

nhs_roll_the_next_battle = {
	if = {
		limit = {
			OR = {
				MK1 = { NOT = { num_of_cities = 2 } }
				HLL = { NOT = { num_of_cities = 2 } }
			}
		}
		country_event = { id = nhs_vov_civil_war.9 days = 25 }
	}
	if = {
		limit = {
			any_province = {
				OR = {
					owned_by = MK1
					owned_by = HLL
				}
				NOT = { region = canada_region }
			}
			NOT = {
				OR = {
					MK1 = { NOT = { num_of_cities = 2 } }
					HLL = { NOT = { num_of_cities = 2 } }
				}
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						OR = {
							any_province = {
								owned_by = MK1
								any_neighbor_province = {
									owned_by = HLL
									is_capital = yes
								}
							}
							HLL = { NOT = { num_of_cities = 2 } }
						}
						HLL = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_helluland = yes
						}
					}
					AND = {
						OR = {
							any_province = {
								owned_by = HLL
								any_neighbor_province = {
									owned_by = MK1
									is_capital = yes
								}
							}
							MK1 = { NOT = { num_of_cities = 2 } }
						}
						MK1 = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_markland = yes
						}
					}
				}
			}
			random_list = {
				70 = {
					country_event = { id = nhs_vov_civil_war.10 days = 50 }
				}
				30 = {
					country_event = { id = nhs_vov_civil_war.9 days = 50 }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						AND = {
							OR = {
								any_province = {
									owned_by = MK1
									any_neighbor_province = {
										owned_by = HLL
										is_capital = yes
									}
								}
								HLL = { NOT = { num_of_cities = 2 } }
							}
							HLL = { NOT = { num_of_cities = 10 } }
							NOT = {
								trading_with_helluland = yes
							}
						}
						AND = {
							OR = {
								any_province = {
									owned_by = HLL
									any_neighbor_province = {
										owned_by = MK1
										is_capital = yes
									}
								}
								MK1 = { NOT = { num_of_cities = 2 } }
							}
							MK1 = { NOT = { num_of_cities = 10 } }
							NOT = { 
								trading_with_markland = yes
							}
						}
					}
				}
			}
			random_list = {
				70 = {
					country_event = { id = nhs_vov_civil_war.9 days = 50 }
				}
				30 = {
					country_event = { id = nhs_vov_civil_war.5 days = 50 }
				}
			}
		}
	}
	###
	if = {
		limit = {
			NOT = {
				any_province = {
					OR = {
						owned_by = MK1
						owned_by = HLL
					}
					NOT = { region = canada_region }
				}
			}
			NOT = {
				OR = {
					MK1 = { NOT = { num_of_cities = 2 } }
					HLL = { NOT = { num_of_cities = 2 } }
				}
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						OR = {
							any_province = {
								owned_by = MK1
								any_neighbor_province = {
									owned_by = HLL
									is_capital = yes
								}
							}
							HLL = { NOT = { num_of_cities = 2 } }
						}
						HLL = { NOT = { num_of_cities = 10 } }
						NOT = {
							trading_with_helluland = yes
						}
					}
					AND = {
						OR = {
							any_province = {
								owned_by = HLL
								any_neighbor_province = {
									owned_by = MK1
									is_capital = yes
								}
							}
							MK1 = { NOT = { num_of_cities = 2 } }
						}
						MK1 = { NOT = { num_of_cities = 10 } }
						NOT = { 
							trading_with_markland = yes
						}
					}
				}	
			}
			random_list = {
				70 = {
					country_event = { id = nhs_vov_civil_war.9 days = 50 }
				}
				30 = {
					country_event = { id = nhs_vov_civil_war.5 days = 50 }
				}
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						AND = {
							OR = {
								any_province = {
									owned_by = MK1
									any_neighbor_province = {
										owned_by = HLL
										is_capital = yes
									}
								}
								HLL = { NOT = { num_of_cities = 2 } }
							}
							HLL = { NOT = { num_of_cities = 10 } }
							NOT = {
								trading_with_helluland = yes
							}
						}
						AND = {
							OR = {
								any_province = {
									owned_by = HLL
									any_neighbor_province = {
										owned_by = MK1
										is_capital = yes
									}
								}
								MK1 = { NOT = { num_of_cities = 2 } }
							}
							MK1 = { NOT = { num_of_cities = 10 } }
							NOT = { 
								trading_with_markland = yes
							}
						}
					}
				}
			}
			country_event = { id = nhs_vov_civil_war.5 days = 50 }
		}
	}
}

nhs_move_por_settlements = {
	while = {
		limit = {
			any_province = {
				continent = north_america
				OR = {
					owned_by = POR
					owner = {
						AND = {
							is_colonial_nation = yes
							colonial_parent = {
								tag = POR
							}
						}
					}
				}
			}
		}
		random_province = {
			limit = {
				continent = north_america
				OR = {
					owned_by = POR
					owner = {
						AND = {
							is_colonial_nation = yes
							colonial_parent = {
								tag = POR
							}
						}
					}
				}
			}
			add_colonysize = -1000
			cede_province = ---
		}
		if = {
			limit = {
				any_province = {
					is_empty = yes
					region = brazil_region
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
			}
			random_province = {
				limit = {
					region = brazil_region
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					continent = south_america
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
			}
			random_province = {
				limit = {
					continent = south_america
					is_empty = yes
					any_neighbor_province = {
						OR = {
							owned_by = POR
							owner = {
								AND = {
									is_colonial_nation = yes
									colonial_parent = {
										tag = POR
									}
								}
							}
						}
					}
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					region = brazil_region
					is_empty = yes
				}
			}
			random_province = {
				limit = {
					region = brazil_region
					is_empty = yes
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		else_if = {
			limit = {
				any_province = {
					continent = south_america
					is_empty = yes
				}
			}
			random_province = {
				limit = {
					continent = south_america
					is_empty = yes
				}
				cede_province = ROOT
				change_culture = ROOT
				change_religion = ROOT
			}
		}
	}
}

nhs_break_por_deal = {
	clr_country_flag = nhs_has_por_enclave
	clr_country_flag = nhs_has_large_por_enclave
	clr_country_flag = nhs_has_small_por_enclave
	clr_global_flag = nhs_treaty_of_lantanopolis
	set_global_flag = nhs_broke_deals_with_por
	if = {
		limit = {
			has_country_modifier = nhs2_ely_por_trade
		}
		remove_country_modifier = nhs2_ely_por_trade
	}
	add_country_modifier = {
		name = nhs2_elysian_isolationism
		duration = -1
	}
	add_opinion = {
		who = POR
		modifier = nhs_broke_the_deals
	}
	remove_opinion = {
		who = POR
		modifier = nhs_por_trade_deal
	}
	POR = {
		if = {
			limit = {
				has_country_modifier = nhs2_treaty_of_lantanopolis_por
			}
			remove_country_modifier = nhs2_treaty_of_lantanopolis_por
		}
		if = {
			limit = {
				has_country_modifier = nhs2_por_ely_trade
			}
			remove_country_modifier = nhs2_por_ely_trade
		}
		
		add_trust = { who = ROOT value = -40 mutual = yes }
		add_opinion = {
			who = ROOT
			modifier = nhs_broke_the_deals
		}
		remove_opinion = {
			who = ROOT
			modifier = nhs2_por_ely_trade
		}
		remove_opinion = {
			who = ROOT
			modifier = nhs_unchecked_expansion
		}
	}
	if = {
		limit = {
			any_province = {
				has_province_modifier = nhs2_small_por_enclave
			}
		}
		every_province = {
			limit = {
				has_province_modifier = nhs2_small_por_enclave
			}
			remove_province_modifier = nhs2_small_por_enclave
		}
	}
	if = {
		limit = {
			any_province = {
				has_province_modifier = nhs2_por_enclave
			}
		}
		every_province = {
			limit = {
				has_province_modifier = nhs2_por_enclave
			}
			remove_province_modifier = nhs2_por_enclave
		}
	}
	if = {
		limit = {
			any_province = {
				has_province_modifier = nhs2_large_por_enclave
			}
		}
		every_province = {
			limit = {
				has_province_modifier = nhs2_large_por_enclave
			}
			remove_province_modifier = nhs2_large_por_enclave
		}
	}
}

nhs_add_proper_enclave = {
	owner = { clr_country_flag = nhs_enclave_pending }
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_small_por_enclave }
		}
		add_province_modifier = {
			name = nhs2_small_por_enclave
			duration = -1
		}
	}
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_por_enclave }
		}
		add_province_modifier = {
			name = nhs2_por_enclave
			duration = -1
		}
	}
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_large_por_enclave }
		}
		add_province_modifier = {
			name = nhs2_large_por_enclave
			duration = -1
		}
	}
	if = {
		limit = {
			owner = { has_country_flag = nhs_has_eu_enclave }
		}
		add_province_modifier = {
			name = nhs2_european_enclave
			duration = -1
		}
	}
}

nhs_move_t_post = {
	if = {
		limit = {
			has_province_modifier = nhs2_european_enclave
		}
		remove_province_modifier = nhs2_european_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					nhs_eligible_for_enclave_with_canada = yes
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_european_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_small_por_enclave
		}
		remove_province_modifier = nhs2_small_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave_with_canada = yes
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_small_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_por_enclave
		}
		remove_province_modifier = nhs2_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave_with_canada = yes
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
	if = {
		limit = {
			has_province_modifier = nhs2_large_por_enclave
		}
		remove_province_modifier = nhs2_large_por_enclave
		ROOT = {
			if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							AND = {
								culture_group = elysian_group
								NOT = { culture = high_elysian }
							}
							AND = {
								culture = elysian
								NOT = { nhs_homelands = yes }
							}
						}
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave = yes
						OR = {
							culture_group = elysian_group
							culture = elysian
						}
					}
					if = {
						limit = {
							nhs_homelands = yes
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else_if = {
				limit = {
					any_owned_province = {
						nhs_eligible_for_enclave_with_canada = yes
					}
				}
				random_owned_province = {
					limit = {
						nhs_eligible_for_enclave_with_canada = yes
					}
					if = {
						limit = {
							OR = {
								nhs_homelands = yes
								has_province_modifier = nhs2_albanian_majority
							}
						}
						custom_tooltip = nhs_temporary_enclave_tt
					}
					add_province_modifier = {
						name = nhs2_large_por_enclave
						duration = -1
					}
				}
			}
			else = {
				custom_tooltip = nhs_will_get_enclave_later_tt
				set_country_flag = nhs_enclave_pending
			}
		}
	}
}

nhs_heir_age_mm_10_pregen = {
	clr_country_flag = nhs_heir_age_choice_$HT$_1
	clr_country_flag = nhs_heir_age_choice_$HT$_2
	clr_country_flag = nhs_heir_age_choice_$HT$_3
	clr_country_flag = nhs_heir_age_choice_$HT$_4
	clr_country_flag = nhs_heir_age_choice_$HT$_5
	clr_country_flag = nhs_heir_age_choice_$HT$_6
	clr_country_flag = nhs_heir_age_choice_$HT$_7
	clr_country_flag = nhs_heir_age_choice_$HT$_8
	clr_country_flag = nhs_heir_age_choice_$HT$_9
	clr_country_flag = nhs_heir_age_choice_$HT$_10
	random_list = {
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_1
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_2
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_3
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_4
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_5
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_6
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_7
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_8
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_9
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_10
		}
	}
}

nhs_heir_age_mm_10 = {
	trigger_switch = {
		on_trigger = has_country_flag 
		nhs_heir_age_choice_$HT$_1 = {
			#add_treasury = $AGE1$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$0
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_2 = {
			#add_treasury = $AGE1$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$1
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_3 = {
			#add_treasury = $AGE1$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$2
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_4 = {
			#add_treasury = $AGE1$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$3
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_5 = {
			#add_treasury = $AGE1$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$4
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_6 = {
			#add_treasury = $AGE1$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$5
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_7 = {
			#add_treasury = $AGE1$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$6
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_8 = {
			#add_treasury = $AGE1$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$7
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_9 = {
			#add_treasury = $AGE1$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$8
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_10 = {
			#add_treasury = $AGE1$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$9
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
	}
}

nhs_heir_age_mm_20_pregen = {
	clr_country_flag = nhs_heir_age_choice_$HT$_1
	clr_country_flag = nhs_heir_age_choice_$HT$_2
	clr_country_flag = nhs_heir_age_choice_$HT$_3
	clr_country_flag = nhs_heir_age_choice_$HT$_4
	clr_country_flag = nhs_heir_age_choice_$HT$_5
	clr_country_flag = nhs_heir_age_choice_$HT$_6
	clr_country_flag = nhs_heir_age_choice_$HT$_7
	clr_country_flag = nhs_heir_age_choice_$HT$_8
	clr_country_flag = nhs_heir_age_choice_$HT$_9
	clr_country_flag = nhs_heir_age_choice_$HT$_10
	clr_country_flag = nhs_heir_age_choice_$HT$_11
	clr_country_flag = nhs_heir_age_choice_$HT$_12
	clr_country_flag = nhs_heir_age_choice_$HT$_13
	clr_country_flag = nhs_heir_age_choice_$HT$_14
	clr_country_flag = nhs_heir_age_choice_$HT$_15
	clr_country_flag = nhs_heir_age_choice_$HT$_16
	clr_country_flag = nhs_heir_age_choice_$HT$_17
	clr_country_flag = nhs_heir_age_choice_$HT$_18
	clr_country_flag = nhs_heir_age_choice_$HT$_19
	clr_country_flag = nhs_heir_age_choice_$HT$_20
	random_list = {
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_1
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_2
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_3
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_4
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_5
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_6
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_7
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_8
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_9
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_10
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_11
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_12
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_13
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_14
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_15
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_16
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_17
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_18
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_19
		}
		5 = {
			set_country_flag = nhs_heir_age_choice_$HT$_20
		}
	}
}

nhs_heir_age_mm_20 = {
	trigger_switch = {
		on_trigger = has_country_flag 
		nhs_heir_age_choice_$HT$_1 = {
			#add_treasury = $AGE1$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$0
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_2 = {
			#add_treasury = $AGE1$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$1
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_3 = {
			#add_treasury = $AGE1$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$2
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_4 = {
			#add_treasury = $AGE1$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$3
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_5 = {
			#add_treasury = $AGE1$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$4
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_6 = {
			#add_treasury = $AGE1$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$5
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_7 = {
			#add_treasury = $AGE1$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$6
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		5nhs_heir_age_choice_$HT$_8 = {
			#add_treasury = $AGE1$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$7
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_9 = {
			#add_treasury = $AGE1$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$8
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_10 = {
			#add_treasury = $AGE1$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE1$9
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_11 = {
			#add_treasury = $AGE2$0
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$0
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_12 = {
			#add_treasury = $AGE2$1
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$1
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_13 = {
			#add_treasury = $AGE2$2
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$2
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_14 = {
			#add_treasury = $AGE2$3
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$3
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_15 = {
			#add_treasury = $AGE2$4
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$4
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_16 = {
			#add_treasury = $AGE2$5
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$5
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_17 = {
			#add_treasury = $AGE2$6
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$6
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_18 = {
			#add_treasury = $AGE2$7
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$7
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_19 = {
			#add_treasury = $AGE2$8
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$8
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
		nhs_heir_age_choice_$HT$_20 = {
			#add_treasury = $AGE2$9
			define_heir = {
				[[DYNASTY]
					dynasty = $DYNASTY$
				]
				[[NAME]
					name = $NAME$
				]
				age = $AGE2$9
				[[MIN_R_ADM]
					adm = $MIN_R_ADM$
				]
				[[MIN_R_DIP]
					dip = $MIN_R_DIP$
				]
				[[MIN_R_MIL]
					mil = $MIN_R_MIL$
				]
				[[MAX_R_ADM]
					max_random_adm = $MAX_R_ADM$
				]
				[[MAX_R_DIP]
					max_random_dip = $MAX_R_DIP$
				]
				[[MAX_R_MIL]
					max_random_mil = $MAX_R_MIL$
				]
				[[IS_MALE]
					male = yes
				]
				[[IS_FEMALE]
					female = yes
				]
			}
		}
	}
}

#nhs_heir_age_mm_20 = {
#	random_list = {
#		5 = {
#			#add_treasury = $AGE1$0
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$0
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$1
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$1
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$2
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$2
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$3
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$3
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$4
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$4
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$5
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$5
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$6
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$6
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$7
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$7
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$8
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$8
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE1$9
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$9
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$0
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$0
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$1
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$1
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$2
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$2
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$3
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$3
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$4
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$4
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$5
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$5
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$6
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$6
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$7
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$7
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$8
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$8
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			#add_treasury = $AGE2$9
#			define_heir = {
#				[[DYNASTY]
#					dynasty = $DYNASTY$
#				]
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$9
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#	}
#}
#nhs_heir_age_mm_10 = {
#	random_list = {
#		5 = {
#			add_treasury = $AGE1$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE1$
#				[[MIN_R_ADM]
#					adm = $MIN_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MIN_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MIN_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE2$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE2$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE3$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE3$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE4$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE4$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE5$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE5$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE6$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE6$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE7$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE7$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE8$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE8$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE9$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE9$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#		5 = {
#			add_treasury = $AGE10$
#			define_heir = {
#				[[NAME]
#					name = $NAME$
#				]
#				age = $AGE10$
#				[[MIN_R_ADM]
#					adm = $MAX_R_ADM$
#				]
#				[[MIN_R_DIP]
#					dip = $MAX_R_DIP$
#				]
#				[[MIN_R_MIL]
#					mil = $MAX_R_MIL$
#				]
#				[[MAX_R_ADM]
#					max_random_adm = $MAX_R_ADM$
#				]
#				[[MAX_R_DIP]
#					max_random_dip = $MAX_R_DIP$
#				]
#				[[MAX_R_MIL]
#					max_random_mil = $MAX_R_MIL$
#				]
#				[[IS_MALE]
#					male = yes
#				]
#				[[IS_FEMALE]
#					female = yes
#				]
#			}
#		}
#	}
#}

nhs_restore_ruler = {
	ELF = {
		#limit = {
			#ai = yes
			#is_subject = no
			#NOT = {
			##	num_of_unions = 1
			#}
			#NOT = { tag = PAP }
			
		#}
		#exile_ruler_as = nhs_temp_ruler
		if = {
			limit = {
				has_global_flag = $HEIR_FLAG$
				has_global_flag = $RULER_FLAG$
			}
			set_ruler = $RULER_EXILE$
			set_heir = $HEIR_EXILE$
			#log = "RULER AND HEIR"
			if = {
				limit = {
					ruler_age = 70
				}
				#log = "RULER TOO OLD"
				if = {
					limit = {
						heir_age = 80
					}
					#log = "HEIR TOO OLD"
					ROOT = {
						define_ruler = {
							dynasty = PREV
							claim = 50
							#age = 20
							min_age = 30
							max_age = 40
						}
						if = {
							limit = {
								ruler_age = 60
								has_heir = no
							}
							kill_ruler = yes
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
				else = {
					#log = "Ruler 1: [ELF.Monarch.GetName]"
					#log = "Heir 1: [ELF.Heir.GetName]"
					#exile_ruler_as = nhs_temp_exile
					#log = "Ruler 2: [ELF.Monarch.GetName]"
					#exile_ruler_as = $RULER_EXILE$
					exile_heir_as = $HEIR_EXILE$
					#log = "Ruler 3: [ELF.Monarch.GetName]"
					#log = "Heir 3: [ELF.Heir.GetName]"
					ROOT = {
						define_ruler = {
							name = "(Interregnum)"
							adm = 3
							max_random_adm = 3
							dip = 3
							max_random_dip = 3
							mil = 1
							max_random_mil = 1
							fixed = yes
							regency = yes
						}
						set_heir = $HEIR_EXILE$
						add_legitimacy = 100
						add_legitimacy = -20
						if = {
							limit = {
								heir_age = 60
							}
							kill_ruler = yes
							if = {
								limit = {
									has_heir = no
								}
								define_heir = {
									dynasty = PREV
									claim = 50
									age = 15
								}
							}
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						heir_age = 70
					}
					#log = "HEIR TOO OLD"
					exile_ruler_as = $RULER_EXILE$
					ROOT = {
						set_ruler = $RULER_EXILE$
						if = {
							limit = {
								ruler_age = 50
								has_heir = no
							}
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
				else = {
					exile_heir_as = $HEIR_EXILE$
					exile_ruler_as = $RULER_EXILE$
					ROOT = {
						set_heir = $HEIR_EXILE$
						set_ruler = $RULER_EXILE$
						add_legitimacy = 100
						add_legitimacy = -20
					}
				}
			}
		}
		else_if = {
			limit = {
				has_global_flag = $HEIR_FLAG$
				NOT = { has_global_flag = $RULER_FLAG$ }
			}
			#log = "HEIR"
			set_heir = $HEIR_EXILE$
			#log = "Ruler 1: [ELF.Monarch.GetName]"
			#log = "Heir 1: [ELF.Heir.GetName]"
			#kill_ruler = yes
			#log = "Ruler 1: [ELF.Monarch.GetName]"
			#log = "Heir 1: [ELF.Heir.GetName]"
			if = {
				limit = {
					heir_age = 80
				}
				#log = "RULER TOO OLD"
				ROOT = {
					define_ruler = {
						dynasty = PREV
						claim = 50
						age = 21
					}
				}
			}
			else = {
				exile_heir_as = $HEIR_EXILE$
				ROOT = {
					define_ruler = {
						name = "(Interregnum)"
						adm = 3
						max_random_adm = 3
						dip = 3
						max_random_dip = 3
						mil = 1
						max_random_mil = 1
						fixed = yes
						regency = yes
					}
					set_heir = $HEIR_EXILE$
					add_legitimacy = 100
					add_legitimacy = -20
					if = {
						limit = {
							heir_age = 60
						}
						kill_ruler = yes
						if = {
							limit = {
								has_heir = no
							}
							define_heir = {
								dynasty = PREV
								claim = 50
								age = 15
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				NOT = { has_global_flag = $HEIR_FLAG$ }
				has_global_flag = $RULER_FLAG$
			}
			#log = "RULER"
			set_ruler = $RULER_EXILE$
			if = {
				limit = {
					ruler_age = 80
				}
				log = "RULER TOO OLD"
				ROOT = {
					define_ruler = {
						dynasty = PREV
						claim = 50
						age = 21
					}
				}
			}
			else = {
				exile_ruler_as = $RULER_EXILE$
				ROOT = {
					set_ruler = $RULER_EXILE$
					if = {
						limit = {
							ruler_age = 50
							has_heir = no
						}
						define_heir = {
							dynasty = PREV
							claim = 50
							age = 15
						}
					}
				}
			}
		}
		else = {
			ROOT = {
				define_ruler = {
					dynasty = "historic_dynasty"
					claim = 40
					age = 21
				}
			}
		}
		clr_global_flag = $HEIR_FLAG$
		clr_global_flag = $RULER_FLAG$
	}
}

nhs_assign_names_ely = {
	trigger_switch = {
		on_trigger = province_id
		968 = { rename_capital = "Maiandros"  }
		970 = { rename_capital = "Phokaia"  }
		2013 = { rename_capital = "Kourion"  }
		2561 = { rename_capital = "Polychna"  }
		966 = { rename_capital = "Makistos"  }
		967 = { rename_capital = "Halaitos"  }
		2010 = { rename_capital = "Senithyre"  }
		2560 = { rename_capital = "Tanais"  }
		2562 = { rename_capital = "Amphissa"  }
		963 = { rename_capital = "Gordion"  }
		965 = { rename_capital = "Kalydon"  }
		2558 = { rename_capital = "Tomis"  }
		2639 = { rename_capital = "Chryse"  }
		956 = { rename_capital = "Labinion"  }
		962 = { rename_capital = "Telmessos"  }
		2023 = { rename_capital = "Rhodan"  }
		960 = { rename_capital = "Dyvela"  }
		961 = { rename_capital = "Korydalla"  }
		964 = { rename_capital = "Klazomenai"  }
		2559 = { rename_capital = "Leuktra"  }
		954 = { rename_capital = "Thespiai"  }
		958 = { rename_capital = "Hykara"  }
		959 = { rename_capital = "Ethyphleia"  }
		955 = { rename_capital = "Kydonia"  }
		2555 = { rename_capital = "Epeion"  }
		2556 = { rename_capital = "Agathe"  }
		2557 = { rename_capital = "Teichos"  }
		949 = { rename_capital = "Aeolis"  }
		2011 = { rename_capital = "Pyrgos"  }
		2552 = { rename_capital = "Siphai"  }
		2553 = { rename_capital = "Doriskos"  }
		2549 = { rename_capital = "Aleksandroupolis"  }
		933 = { rename_capital = "Ambrakia"  }
		937 = { rename_capital = "Aperlai"  }
		2541 = { rename_capital = "Istros"  }
		2545 = { rename_capital = "Kelainai"  }
		2544 = { rename_capital = "Argos"  }
		938 = { rename_capital = "Tyros"  }
		2546 = { rename_capital = "Parion"  }
		2547 = { rename_capital = "Mykene"  }
		932 = { rename_capital = "Tiveris"  }
		2542 = { rename_capital = "Ephesos"  }
		2543 = { rename_capital = "Khlorion"  }
		929 = { rename_capital = "Phaleron"  }
		2537 = { rename_capital = "Perrhaibia"  }
		2539 = { rename_capital = "Kyzikos"  }
		930 = { rename_capital = "Lydeia"  }
		2538 = { rename_capital = "Limnaia"  }
		2540 = { rename_capital = "Vreithon"  }
		926 = { rename_capital = "Maionion"  }
		2535 = { rename_capital = "Kyaneai"  }
		2536 = { rename_capital = "Akatos"  }
		4626 = { rename_capital = "Loryma"  }
		927 = { rename_capital = "Mara"  }
		928 = { rename_capital = "Kestros"  }
		2534 = { rename_capital = "Kynares"  }
		4625 = { rename_capital = "Pagasa "  }
		951 = { rename_capital = "Amelas"  }
		2548 = { rename_capital = "Nysreia"  }
		2551 = { rename_capital = "Nea Amorion"  }
		931 = { rename_capital = "Keryneia"  }
		935 = { rename_capital = "Potidaia"  }
		936 = { rename_capital = "Perinthos"  }
		921 = { rename_capital = "Klousion"  }
		922 = { rename_capital = "Stageira"  }
		923 = { rename_capital = "Boion"  }
		2530 = { rename_capital = "Daskyleion"  }
		2533 = { rename_capital = "Limyra"  }
		918 = { rename_capital = "Lepreon"  }
		919 = { rename_capital = "Myrkinos"  }
		939 = { rename_capital = "Soreos"  }
		920 = { rename_capital = "Koroneia"  }
		2528 = { rename_capital = "Kyme"  }
		2529 = { rename_capital = "Nea Dyrrakhion"  }
		924 = { rename_capital = "Ioulianos"  }
		925 = { rename_capital = "Azoros"  }
		2531 = { rename_capital = "Phaselis"  }
		2532 = { rename_capital = "Chrysaoris"  }
		2527 = { rename_capital = "Medeon"  }
		934 = { rename_capital = "Oropos"  }
		940 = { rename_capital = "Sardeis"  }
		941 = { rename_capital = "Erytheia"  }
		2526 = { rename_capital = "Maiotis"  }
		946 = { rename_capital = "Astraios"  }
		947 = { rename_capital = "Phanagoria"  }
		948 = { rename_capital = "Thyateira"  }
		2525 = { rename_capital = "Orchomenos"  }
		943 = { rename_capital = "Sarachyl"  }
		2523 = { rename_capital = "Stratonikeia"  }
		2524 = { rename_capital = "Teos"  }
		915 = { rename_capital = "Thymbre"  }
		942 = { rename_capital = "Sounion"  }
		2519 = { rename_capital = "Olynthos"  }
		916 = { rename_capital = "Orestias"  }
		917 = { rename_capital = "Mysia"  }
		2513 = { rename_capital = "Myrina"  }
		2520 = { rename_capital = "Himera"  }
		944 = { rename_capital = "Anaia"  }
		945 = { rename_capital = "Aisymi"  }
		2521 = { rename_capital = "Sigeion"  }
		2522 = { rename_capital = "Rhosos"  }
		910 = { rename_capital = "Mekone"  }
		2517 = { rename_capital = "Neokastro"  }
		2518 = { rename_capital = "Mendai"  }
		911 = { rename_capital = "Pitane"  }
		912 = { rename_capital = "Triphylia"  }
		913 = { rename_capital = "Philomelion"  }
		914 = { rename_capital = "Doliche"  }
		894 = { rename_capital = "Metauros"  }
		895 = { rename_capital = "Andriake"  }
		2014 = { rename_capital = "Atarneus"  }
		2516 = { rename_capital = "Stauroupolis"  }
		900 = { rename_capital = "Temnos"  }
		902 = { rename_capital = "Eirenoupolis"  }
		2514 = { rename_capital = "Kolossai"  }
		897 = { rename_capital = "Nemea"  }
		899 = { rename_capital = "Emathia"  }
		2515 = { rename_capital = "Galepsos"  }
		890 = { rename_capital = "Mainolos"  }
		891 = { rename_capital = "Skamandria"  }
		892 = { rename_capital = "Hyele"  }
		896 = { rename_capital = "Laodikeia"  }
		2509 = { rename_capital = "Tiryns"  }
		898 = { rename_capital = "Rhyendre"  }
		901 = { rename_capital = "Skotoussa"  }
		903 = { rename_capital = "Phthia"  }
		2508 = { rename_capital = "Prasia"  }
		2672 = { rename_capital = "Kleonai"  }
		906 = { rename_capital = "Veronikeia"  }
		908 = { rename_capital = "Stente"  }
		909 = { rename_capital = "Sagalassos"  }
		2007 = { rename_capital = "Demetrias"  }
		2512 = { rename_capital = "Thurioi"  }
		904 = { rename_capital = "Kolophon"  }
		905 = { rename_capital = "Akanthos"  }
		907 = { rename_capital = "Phleious"  }
		2502 = { rename_capital = "Aulai"  }
		2503 = { rename_capital = "Pythion"  }
		2510 = { rename_capital = "Tymphaia"  }
		2501 = { rename_capital = "Pallantion"  }
		1809 = { rename_capital = "Karia"  }
		2008 = { rename_capital = "Helike"  }
		2009 = { rename_capital = "Eryx"  }
		2505 = { rename_capital = "Knidos"  }
		882 = { rename_capital = "Heraia"  }
		885 = { rename_capital = "Sarpeidion"  }
		2496 = { rename_capital = "Antheia"  }
		2497 = { rename_capital = "Molossia"  }
		4630 = { rename_capital = "Oiniadai"  }
		884 = { rename_capital = "Karallia"  }
		887 = { rename_capital = "Idrias"  }
		888 = { rename_capital = "Phalkon"  }
		2665 = { rename_capital = "Miletos"  }
		2669 = { rename_capital = "Pella"  }
		883 = { rename_capital = "Pergamon"  }
		886 = { rename_capital = "Kopais"  }
		2500 = { rename_capital = "Sestos"  }
		4627 = { rename_capital = "Sylleion"  }
		987 = { rename_capital = "Sikyon"  }
		989 = { rename_capital = "Blachernai"  }
		2585 = { rename_capital = "Cheldia"  }
		2670 = { rename_capital = "Myndos"  }
		991 = { rename_capital = "Kaikos"  }
		1001 = { rename_capital = "Abdera"  }
		1007 = { rename_capital = "Melia"  }
		2015 = { rename_capital = "Argyre"  }
		2593 = { rename_capital = "Kadmeis"  }
		988 = { rename_capital = "Gerakioupolis"  }
		2586 = { rename_capital = "Nisaia"  }
		2587 = { rename_capital = "Azanoi"  }
		2671 = { rename_capital = "Rhamnos"  }
		1008 = { rename_capital = "Aphidnai"  }
		1010 = { rename_capital = "Priene"  }
		2016 = { rename_capital = "Pellene"  }
		2511 = { rename_capital = "Neo Chalkedon"  }
		2596 = { rename_capital = "Daphnai"  }
		2597 = { rename_capital = "Okaleia"  }
		2598 = { rename_capital = "Dekeleia"  }
		2005 = { rename_capital = "Phaistos"  }
		861 = { rename_capital = "Rhegion"  }
		2619 = { rename_capital = "Kremna"  }
		2666 = { rename_capital = "Pessinos"  }
		2667 = { rename_capital = "Magydos"  }
		4606 = { rename_capital = "Phaiakia"  }
		863 = { rename_capital = "Apollonia"  }
		864 = { rename_capital = "Ainis"  }
		2618 = { rename_capital = "Epiphania"  }
		4644 = { rename_capital = "Machara"  }
		2498 = { rename_capital = "Dikella"  }
		4628 = { rename_capital = "Akraiphia"  }
		4629 = { rename_capital = "Parauaia"  }
		858 = { rename_capital = "Amyklai"  }
		2499 = { rename_capital = "Hysia"  }
		2614 = { rename_capital = "Plataia"  }
		2668 = { rename_capital = "Troas"  }
		484 = { rename_capital = "Tousklon"  }
		485 = { rename_capital = "Geilyn"  }
		4622 = { rename_capital = "Teukos"  }
		4623 = { rename_capital = "Aigiroessa"  }
		4624 = { rename_capital = "Kibyra"  }
		486 = { rename_capital = "Tartessos"  }
		2654 = { rename_capital = "Graivion"  }
		2655 = { rename_capital = "Ivros"  }
		2656 = { rename_capital = "Messapia"  }
		488 = { rename_capital = "Brauron"  }
		489 = { rename_capital = "Thyreai"  }
		4618 = { rename_capital = "Iapygia"  }
		4619 = { rename_capital = "Oisyme"  }
		490 = { rename_capital = "Pherai"  }
		2658 = { rename_capital = "Megaria"  }
		2659 = { rename_capital = "Vetriakon"  }
		4620 = { rename_capital = "Scheria"  }
		4621 = { rename_capital = "Issos"  }
		487 = { rename_capital = "Lerna"  }
		#481 = { rename_capital = "Beryna" }
		491 = { rename_capital = "Xanthos"  }
		492 = { rename_capital = "Iolkos"  }
		482 = { rename_capital = "Brasiai"  }
		483 = { rename_capital = "Antigoneia"  }
		493 = { rename_capital = "Skillous"  }
		494 = { rename_capital = "Chiloune"  }
		495 = { rename_capital = "Pteleon"  }
		496 = { rename_capital = "Vareine"  }
		1881 = { rename_capital = "Nyssa"  }
		497 = { rename_capital = "Diaskourios"  }
		498 = { rename_capital = "Ophrynion"  }
		499 = { rename_capital = "Anthele"  }
		500 = { rename_capital = "Thapsakos"  }
		501 = { rename_capital = "Stymphalos"  }
		1011 = { rename_capital = "Skala"  }
		1009 = { rename_capital = "Askalon"  }
		1813 = { rename_capital = "Traianoupolis"  }
		2595 = { rename_capital = "Selymbria"  }
		889 = { rename_capital = "Kroton"  }
		2507 = { rename_capital = "Olpai"  }
		2625 = { rename_capital = "Levedos"  }
		4700 = { rename_capital = "Gryneion"  }
		2600 = { rename_capital = "Euromos"  }
		2599 = { rename_capital = "Tauris"  }
		2601 = { rename_capital = "Orikon"  }
		2004 = { rename_capital = "Borysthenes"  }
		2602 = { rename_capital = "Hybla"  }
	}
}


nhs_assign_names_effect = {
	if = {
		limit = {
			is_empty = no
			NOT = { has_province_flag = nhs_prevent_changing_province_capital }
			culture_group = owner
			OR = {
				is_colony = yes
				owner = {
					OR = {
						culture_group = elysian_group
						primary_culture = apogonoi
						AND = {
							culture_group = byzantine
							NOT = { primary_culture = turkish }
						}
					}
				}
			}
		}
		nhs_assign_names_ely = yes
	}
}

msg_elysian_debt = {
	#custom_tooltip = msg_elysian_debt
	add_prestige = -10
	if = {
		limit = {
			#NOT = { nhs_condition_all_ely_with_if = { KOMANDA = has_matching_religion } }
			NOT = { nhs_condition_all_ely_scoped_with_if = { KOMANDA = has_matching_religion KOMANDA2 = ROOT } }
		}
		custom_tooltip = msg_elysian_debt_tt
		hidden_effect = {
			add_legitimacy = -10
		}
	}
}

msg_calc_pips_angerment = {
	if = {
		limit = {
			OR = {
				has_global_flag = msg_pipiltin_bribe
				NOT = { has_global_flag = msg_reforms_done }
			}
			num_of_provinces_in_states = 7
		}
		if = {
			limit = {
				OR = {
					has_global_flag = msg_no_pipiltin_palace
					NOT = { has_global_flag = msg_reforms_done }
				}
				check_variable = {
					which = msg_estate_provinces_balance
					value = 1
				}
				OR = {
					AND = {
						NOT = { num_of_provinces_in_states = 100 }
						check_variable = {
							which = msg_estate_provinces_balance
							value = 3
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 500 }
						check_variable = {
							which = msg_estate_provinces_balance
							value = 10
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 1000 }
						check_variable = {
							which = msg_estate_provinces_balance
							value = 20
						}
					}
					AND = {
						num_of_provinces_in_states = 1000
						check_variable = {
							which = msg_estate_provinces_balance
							value = 30
						}
					}
				}
			}
			clr_country_flag = msg_pips_discontent_apog_more
			set_country_flag = msg_pips_discontent_apog_more
		}
		else_if = {
			limit = {
				NOT = { has_global_flag = msg_no_pipiltin_palace }
				has_global_flag = msg_reforms_done
				check_variable = {
					which = msg_estate_provinces_balance
					value = 1
				}
				OR = {
					AND = {
						NOT = { num_of_provinces_in_states = 100 }
						check_variable = {
							which = msg_estate_provinces_balance
							value = 6
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 500 }
						check_variable = {
							which = msg_estate_provinces_balance
							value = 20
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 1000 }
						check_variable = {
							which = msg_estate_provinces_balance
							value = 35
						}
					}
					AND = {
						num_of_provinces_in_states = 1000
						check_variable = {
							which = msg_estate_provinces_balance
							value = 50
						}
					}
				}
			}
			clr_country_flag = msg_pips_discontent_apog_more
			set_country_flag = msg_pips_discontent_apog_more
		}
		else = {
			clr_country_flag = msg_pips_discontent_apog_more
		}
	}
}

msg_calc_apog_angerment = {
	if = {
		limit = {
			OR = {
				has_global_flag = msg_apogonoi_bribe
				NOT = { has_global_flag = msg_reforms_done }
			}
			num_of_provinces_in_states = 7
		}
		if = {
			limit = {
				OR = {
					has_global_flag = msg_no_apogonoi_palace
					NOT = { has_global_flag = msg_reforms_done }
				}
				check_variable = {
					which = msg_estate_provinces_balance_apog_view
					value = 1
				}
				OR = {
					AND = {
						NOT = { num_of_provinces_in_states = 100 }
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 3
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 500 }
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 10
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 1000 }
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 20
						}
					}
					AND = {
						num_of_provinces_in_states = 1000
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 30
						}
					}
				}
			}
			clr_country_flag = msg_apog_discontent_pips_more
			set_country_flag = msg_apog_discontent_pips_more
		}
		else_if = {
			limit = {
				NOT = { has_global_flag = msg_no_apogonoi_palace }
				has_global_flag = msg_reforms_done
				check_variable = {
					which = msg_estate_provinces_balance_apog_view
					value = 1
				}
				OR = {
					AND = {
						NOT = { num_of_provinces_in_states = 100 }
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 6
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 500 }
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 20
						}
					}
					AND = {
						NOT = { num_of_provinces_in_states = 1000 }
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 35
						}
					}
					AND = {
						num_of_provinces_in_states = 1000
						check_variable = {
							which = msg_estate_provinces_balance_apog_view
							value = 50
						}
					}
				}
			}
			clr_country_flag = msg_apog_discontent_pips_more
			set_country_flag = msg_apog_discontent_pips_more
		}
		else = {
			clr_country_flag = msg_apog_discontent_pips_more
		}
	}
}

msg_calc_assign_estate = {
	if = {
		limit = {
			has_estate = estate_nhs_pipiltin
			NOT = { has_province_flag = msg_pipiltin_province }
		}
		set_province_flag = msg_pipiltin_province
		MSN = {
			change_variable = {
				which = msg_pipiltin_provinces
				value = 1
			}
			change_variable = {
				which = msg_estate_provinces_balance
				value = -1
			}
			change_variable = {
				which = msg_estate_provinces_balance_apog_view
				value = 1
			}
			msg_calc_pips_angerment = yes
			msg_calc_apog_angerment = yes
		}
	}
	else_if = {
		limit = {
			has_estate = estate_nhs_apogonoi
			NOT = { has_province_flag = msg_apogonoi_province }
		}
		set_province_flag = msg_apogonoi_province
		MSN = {
			change_variable = {
				which = msg_apogonoi_provinces
				value = 1
			}
			change_variable = {
				which = msg_estate_provinces_balance
				value = 1
			}
			change_variable = {
				which = msg_estate_provinces_balance_apog_view
				value = -1
			}
			msg_calc_pips_angerment = yes
			msg_calc_apog_angerment = yes
		}
	}
}

msg_calc_remove_estate = {
	if = {
		limit = {
			has_province_flag = msg_pipiltin_province
		}
		clr_province_flag = msg_pipiltin_province
		MSN = {
			change_variable = {
				which = msg_pipiltin_provinces
				value = -1
			}
			change_variable = {
				which = msg_estate_provinces_balance
				value = 1
			}
			change_variable = {
				which = msg_estate_provinces_balance_apog_view
				value = -1
			}
			msg_calc_pips_angerment = yes
			msg_calc_apog_angerment = yes
		}
	}
	else_if = {
		limit = {
			has_province_flag = msg_apogonoi_province
		}
		clr_province_flag = msg_apogonoi_province
		MSN = {
			change_variable = {
				which = msg_apogonoi_provinces
				value = -1
			}
			change_variable = {
				which = msg_estate_provinces_balance
				value = -1
			}
			change_variable = {
				which = msg_estate_provinces_balance_apog_view
				value = 1
			}
			msg_calc_pips_angerment = yes
			msg_calc_apog_angerment = yes
		}
	}
}

msg_ignore_reform_corruption = {
	custom_tooltip = msg_ignore_reform_corr_tt
	hidden_effect = {
		add_corruption = -10
	}
}

msg_ai_or_does_not_have_dharma_clear_flag = {
	if = {
		limit = {
			OR = {
				NOT = { has_dlc = "Dharma" }
				ai = yes
			}
		}
		clr_country_flag = msg_reform_in_progress
	}
}

msg_handle_slaves = {
	if = {
		limit = {
			has_province_modifier = msg_slave_province_tm
			#NOT = { culture_group = spartakian_group }
			owner = {
				NOT = { tag = MSN }
			}
		}
		remove_province_triggered_modifier = msg_slave_province_tm
	}
	if = {
		limit = {
			has_province_modifier = msg_liberated_slaves
			#NOT = { culture_group = spartakian_group }
			owner = {
				NOT = { tag = MSN }
			}
		}
		remove_province_modifier = msg_liberated_slaves
	}
	if = {
		limit = {
			culture = tlacotin
			#NOT = { culture_group = spartakian_group }
			owner = {
				NOT = { tag = MSN }
			}
		}
		if = {
			limit = {
				has_province_flag = msg_former_aztek_culture
			}
			change_culture = aztek
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_totonac_culture
			}
			change_culture = totonac
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_purepecha_culture
			}
			change_culture = purepecha
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_matlatzinca_culture
			}
			change_culture = matlatzinca
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_zapotek_culture
			}
			change_culture = zapotek
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_mixtec_culture
			}
			change_culture = mixtec
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_tlapanec_culture
			}
			change_culture = tlapanec
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_yucatec_culture
			}
			change_culture = yucatec
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_putun_culture
			}
			change_culture = putun
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_mayan_culture
			}
			change_culture = mayan
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_highland_mayan_culture
			}
			change_culture = highland_mayan
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_lacandon_culture
			}
			change_culture = lacandon
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_wastek_culture
			}
			change_culture = wastek
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_chontales_culture
			}
			change_culture = chontales
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_tecos_culture
			}
			change_culture = tecos	
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_tepic_culture
			}
			change_culture = tepic
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_chichimecan_culture
			}
			change_culture = chichimecan
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_guamares_culture
			}
			change_culture = guamares
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_otomi_culture
			}
			change_culture = otomi
		}
		else_if = {
			limit = {
				has_province_flag = msg_former_yaqui_culture
			}
			change_culture = yaqui
		}
		else_if = {
			limit = {
				OR = {
					culture_group = central_american
					culture_group = otomanguean
					culture_group = maya
					culture_group = aridoamerican
				}
			}
			owner = {
				ROOT = {
					change_culture = PREV
				}
			}
		}
	}
}

msg_slaves_on_siege = {
	if = {
		limit = {
			has_province_modifier = msg_slave_province_tm
			NOT = { has_province_modifier = msg_liberated_slaves }
			FROM = {
				OR = {
					tag = MSN
					#culture_group = spartakian_group
				}
			}
			NOT = { controlled_by = REB }
			controller = {
				NOT = { tag = MSN }
				#NOT = { culture_group = spartakian_group }
			}
		}
		controller = {
			if = {
				limit = {
					MSN = {
						ai = yes
					}
				}
				if = {
					limit = {
						controller = {
							OR = {
								culture_group = central_american
								culture_group = otomanguean
								culture_group = maya
								culture_group = aridoamerican
							}
						}
					}
					random = {
						chance = 50
						country_event = { id = msg_postconqevents.24 }
					}
				}
				else = {
					random = {
						chance = 12
						country_event = { id = msg_postconqevents.24 }
					}
				}
			}
			else = {
				if = {
					limit = {
						controller = {
							OR = {
								culture_group = central_american
								culture_group = otomanguean
								culture_group = maya
								culture_group = aridoamerican
							}
						}
					}
					country_event = { id = msg_postconqevents.24 }
				}
				else = {
					random = {
						chance = 25
						country_event = { id = msg_postconqevents.24 }
					}
				}
			}
			#country_event = { id = msg_postconqevents.24 }
		}
	}
	else_if = {
		limit = {
			has_province_modifier = msg_slave_province_tm
			NOT = { has_province_modifier = msg_liberated_slaves }
			FROM = {
				OR = {
					tag = MSN
					#culture_group = spartakian_group
				}
			}
			controlled_by = REB
			MSN = {
				ai = no
			}
			controller = {
				NOT = { tag = MSN }
			}
		}
		controller = {
			random = {
				chance = 75
				ROOT = {
					add_province_modifier = {
						name = msg_liberated_slaves
						duration = 3650
					}
					infantry = PREV
				}
			}
		}
	}
}

prs_set_up_east_smallpox = {
	if = {
		limit = {
			NHS = {
				exists = yes
			}
		}
		NHS = {
			set_country_flag = prs_smallpox_immune
		}
	}
	if = {
		limit = {
			ELY = {
				exists = yes
			}
		}
		ELY = {
			set_country_flag = prs_smallpox_immune
		}
	}
	if = {
		limit = {
			CM1 = {
				exists = yes
			}
		}
		CM1 = {
			set_country_flag = prs_smallpox_immune
		}
	}
	if = {
		limit = {
			SHQ = {
				exists = yes
			}
		}
		SHQ = {
			set_country_flag = prs_smallpox_immune
		}
	}
	if = {
		limit = {
			MSG = {
				exists = yes
			}
		}
		MSG = {
			set_country_flag = prs_smallpox_resistant
		}
	}
	if = {
		limit = {
			MSN = {
				exists = yes
			}
		}
		MSN = {
			set_country_flag = prs_smallpox_resistant
		}
	}
	if = {
		limit = {
			VIN = {
				exists = yes
			}
		}
		VIN = {
			set_country_flag = prs_smallpox_resistant
		}
	}
	if = {
		limit = {
			HLL = {
				exists = yes
			}
		}
		HLL = {
			set_country_flag = prs_smallpox_resistant
		}
	}
	if = {
		limit = {
			MK1 = {
				exists = yes
			}
		}
		MK1 = {
			set_country_flag = prs_smallpox_resistant
		}
	}
	if = {
		limit = {
			JOM = {
				exists = yes
			}
		}
		JOM = {
			set_country_flag = prs_smallpox_resistant
		}
	}
	if = {
		limit = {
			VGD = {
				exists = yes
			}
		}
		VGD = {
			set_country_flag = prs_smallpox_resistant
		}
	}
}

prs_had_smallpox_outbreak_effect = {
	set_country_flag = prs_c_smallpox_23_resistant
	every_owned_province = {
		set_province_flag = prs_smallpox_23_resistant
	}
}

prs_had_minor_smallpox_outbreak_effect = {
	set_country_flag = prs_c_smallpox_13_resistant
	every_owned_province = {
		set_province_flag = prs_smallpox_13_resistant
	}
}

#prs_had_smallpox_outbreak_effect = {
#	set_country_flag = prs_c_smallpox_23_resistant
#	while = {
#		limit = {
#			any_owned_province = {
#				NOT = { has_province_flag = prs_smallpox_23_resistant }
#				NOT = { has_province_flag = prs_smallpox_13_resistant }
#			}
#		}
#		random_owned_province = {
#			if = {
#				limit = {
#					development = 10
#				}
#				random_list = {
#					95 = {
#						set_province_flag = prs_smallpox_23_resistant
#					}
#					5 = {
#						set_province_flag = prs_smallpox_13_resistant
#					}
#				}
#			}
#			else_if = {
#				limit = {
#					development = 6
#				}
#				random_list = {
#					85 = {
#						set_province_flag = prs_smallpox_23_resistant
#					}
#					15 = {
#						set_province_flag = prs_smallpox_13_resistant
#					}
#				}
#			}
#			else_if = {
#				limit = {
#					development = 4
#				}
#				random_list = {
#					75 = {
#						set_province_flag = prs_smallpox_23_resistant
#					}
#					25 = {
#						set_province_flag = prs_smallpox_13_resistant
#					}
#				}
#			}
#			else = {
#				random_list = {
#					65 = {
#						set_province_flag = prs_smallpox_23_resistant
#					}
#					35 = {
#						set_province_flag = prs_smallpox_13_resistant
#					}
#				}
#			}
#		}
#	}
#}
#
#prs_had_minor_smallpox_outbreak_effect = {
#	set_country_flag = prs_c_smallpox_13_resistant
#	while = {
#		limit = {
#			any_owned_province = {
#				NOT = { has_province_flag = prs_smallpox_23_resistant }
#				NOT = { has_province_flag = prs_smallpox_13_resistant }
#			}
#		}
#		random_owned_province = {
#			if = {
#				limit = {
#					development = 10
#				}
#				random_list = {
#					65 = {
#						set_province_flag = prs_smallpox_23_resistant
#					}
#					35 = {
#						set_province_flag = prs_smallpox_13_resistant
#					}
#				}
#			}
#			else_if = {
#				limit = {
#					development = 6
#				}
#				random_list = {
#					35 = {
#						set_province_flag = prs_smallpox_23_resistant
#					}
#					65 = {
#						set_province_flag = prs_smallpox_13_resistant
#					}
#				}
#			}
#			else_if = {
#				limit = {
#					development = 4
#				}
#				random_list = {
#					10 = {
#						set_province_flag = prs_smallpox_23_resistant
#					}
#					90 = {
#						set_province_flag = prs_smallpox_13_resistant
#					}
#				}
#			}
#			else = {
#				set_province_flag = prs_smallpox_13_resistant
#			}
#		}
#	}
#}