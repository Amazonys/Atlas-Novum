#This Mission-Page has been created using the ExportMission macro. 
#This has been developed by the Imperialism Reinvigorated Development Group and all rights belong to them.

IR_castile_slot_1 = { 
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

		spa_cuellar_convention = {
		icon = mission_cuellar
		required_missions = { 		 spa_defeat_infante  }
		position = 2

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_cuellar_convention.tooltip
				EVENT=IR_flavor_SPA.7
				BYPASS_DATE=1460
			}
		}
		effect = { 
			10001 = { cede_province = GR4 hidden_effect = { add_core = GR4 } }
			create_subject = {
				subject = GR4
				subject_type = dominion
			}
			GR4 = {
				custom_tooltip = spa_cuellar_convention_claims.tooltip
				assign_claim_core = {
					PROVINCES = spa_gibraltar_provinces
					TYPE = core
				}
			}
		}
	}

		spa_control_gibraltar = {
		icon = mission_seizegib
		required_missions = { 		 spa_cuellar_convention spa_entrench_the_army  }
		position = 3

		provinces_to_highlight = { spa_gibraltar_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_gibraltar_provinces
			}
		}
		effect = { 
			#Amyzonis - NEEDED CODE for CONTROL missions
			every_province = {
				limit = { spa_gibraltar_provinces = yes }				
				if = {
					limit = { owned_by = GRA }
					hidden_effect = { add_core = GR4 remove_claim = ROOT }
					cede_province = GR4
				}
				else_if = { 
					limit = { country_or_non_sovereign_subject_holds = ROOT }
					hidden_effect = { add_core = GR4 remove_core = owner }
					cede_province = GR4
				}
				else = {
					add_core = GR4
				}
			}
			GR4 = {
				custom_tooltip = spa_control_gibraltar_claims.tooltip
				assign_claim_core = {
					PROVINCES = spa_control_malaga_provinces
					TYPE = core
				}
			}
		}
	}

	spa_control_malaga = {
		icon = mission_seizemalaga
		required_missions = { 		 spa_control_gibraltar  }
		position = 4

		provinces_to_highlight = { spa_control_malaga_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_malaga_provinces
			}
		}

		effect = { 
				every_province = {
				limit = { spa_control_malaga_provinces = yes }
				if = {
					limit = { owned_by = GRA }
					hidden_effect = { add_core = GR4 remove_claim = ROOT }
					cede_province = GR4
				}
				else_if = { 
					limit = { country_or_non_sovereign_subject_holds = ROOT }
					hidden_effect = { add_core = GR4 remove_core = owner }
					cede_province = GR4
				}
				else = {
					add_core = GR4
				}
			}
			GR4 = {
				custom_tooltip = spa_control_malaga_claims.tooltip
				assign_claim_core = {
					PROVINCES = spa_control_granada_provinces
					TYPE = core
				}
			}
		}
	}

	spa_control_granada = {
		icon = mission_endofgranada
		required_missions = { 		 spa_control_malaga  }
		position = 5

		provinces_to_highlight = { spa_control_granada_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_granada_provinces
			}
		}

		effect = { 
				every_province = {
				limit = { gra_core_provinces = yes }
				if = {
					limit = { owned_by = GRA }
					hidden_effect = { add_core = GR4 remove_claim = ROOT }
					cede_province = GR4
				}
				#else_if = { 
					#limit = { country_or_non_sovereign_subject_holds = ROOT }
					#hidden_effect = { add_core = GR4 remove_core = owner }
					#cede_province = GR4
				#}
				else = {
					add_core = GR4
				}
			}
		GR4 =  { set_capital = 223 }
		}
	}

		spa_control_melilla = {
		icon = mission_seizemellila
		required_missions = { 	 spa_reconquista  }
		position = 7

		provinces_to_highlight = { spa_control_melilla_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_melilla_provinces
			}
		}

		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			control_mission_cede = { PROVINCES = spa_control_melilla_provinces }
			custom_tooltip = spa_control_melilla_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_buffer_mor_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_buffer_morocco = {
		icon = mission_expandthebuffer
		required_missions = { 		 spa_control_melilla spa_control_oran  }
		position = 8

		provinces_to_highlight = { spa_buffer_mor_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_buffer_mor_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				custom_tooltip = spa_conquer_buffer_morocco_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_conquer_fez_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_fez = {
		icon = mission_fez
		required_missions = { 		 spa_conquer_buffer_morocco  }
		position = 9

		provinces_to_highlight = { spa_conquer_fez_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_conquer_fez_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				custom_tooltip = spa_conquer_fez_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_casablanca_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_casablanca = {
		icon = mission_casablanca
		required_missions = { 		 spa_conquer_fez  }
		position = 10

		provinces_to_highlight = { spa_casablanca_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_casablanca_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				custom_tooltip = spa_conquer_casablanca_claims.tooltip
			assign_claim_core = {
				PROVINCES = morocco_common_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_consolidate_morocco = {
		icon = mission_consolidatemorocco
		required_missions = { 		 spa_conquer_casablanca  }
		position = 11

		provinces_to_highlight = { morocco_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=morocco_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				consolidate_region = {
				TOOLTIP = spa_consolidate_morocco.tooltip
				PROVINCES = morocco_common_provinces
			}
		}
	}

		spa_zamboanga = {
		icon = mission_zamboanga
		required_missions = { 		 spa_cebu  }
		position = 15

		trigger = { 
				treasury = 100
			dip_power = 50
			4354 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 4354
				COST = -100
				TRADE_GOOD = fish
				BUILDING = fort_colonial
			}
		}
	}

		spa_conquer_mindanao = {
		icon = mission_midanio
		required_missions = { 		 spa_zamboanga  }
		position = 16

		provinces_to_highlight = { mindanao_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=mindanao_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				custom_tooltip = spa_conquer_mindanao_claims.tooltip
			assign_claim_core = {
				PROVINCES = 651
				TYPE = permanent_claim
			}
		}
	}

		spa_sulu = {
		icon = mission_sulu
		required_missions = { 		 spa_conquer_mindanao  }
		position = 17

		trigger = { 
				treasury = 200
			dip_power = 50
			mil_power = 50
			651 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			add_mil_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 651
				COST = -200
				TRADE_GOOD = gems
				BUILDING = fort_colonial
			}
			custom_tooltip = spa_sulu_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_n_borneo_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_n_borneo = {
		icon = mission_nborneo
		required_missions = { 		 spa_sulu  }
		position = 18

		provinces_to_highlight = { spa_n_borneo_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_n_borneo_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			dip_power = 50
			treasury = 100
		}

		effect = { 
				add_dip_power = -50
			add_treasury = -100
			assign_group_prov_modifier = {
				PROVINCES = spa_n_borneo_provinces
				TYPE = city
				MODIFIER = spa_plantation
				DURATION = -1
			}
		}
	}

		spa_colonize_taiwan = {
		icon = mission_colonial
		required_missions = { 		 spa_discover_pacific  }
		position = 20

		provinces_to_highlight = { taiwan_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=taiwan_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				2154 = {
				center_of_trade = 1
				add_building = fort_colonial
			}
			custom_tooltip = spa_colonize_taiwan_claims.tooltip
			assign_claim_core = {
				PROVINCES = guam_common_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_colonize_guam = {
		icon = mission_colonial
		required_missions = { 		 spa_colonize_taiwan  }
		position = 21

		provinces_to_highlight = { guam_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=guam_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				1015 = {
				center_of_trade = 2
				add_base_production = 3
				add_building = fort_colonial
			}
		}
	}

}
IR_castile_slot_2 = { 
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

		spa_defeat_infante = {
		icon = mission_defeatinfante
		required_missions = { 		  }
		position = 1

		trigger = { 
				NOT = { num_of_rebel_armies = 1 }
			NOT = { num_of_rebel_controlled_provinces = 1 }
		}

		effect = { 
				add_country_modifier = {
				name = spa_defeat_infante
				duration = 3650
			}
		}
	}

		spa_entrench_the_army = {
		icon = mission_entrenchthearmy
		required_missions = { 		 spa_defeat_infante  }
		position = 2

		trigger = { 
				army_size_percentage = 0.9
		}

		effect = { 
				add_manpower = 10
		}
	}

	spa_reconquista = {
		icon = mission_continuethereconquista
		required_missions = { 		spa_control_granada }
		position = 6

		provinces_to_highlight = { gra_core_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=gra_core_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			GR4 = { 
				num_of_religion = {
					religion = catholic
					value = 0.5
				}
			}
		}
		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			custom_tooltip = spa_reconquista_claims.tooltip
			335 = {
				add_permanent_claim = CAS
			}	
			337 = {
				add_permanent_claim = CAS
			}
		}
	}

		spa_control_oran = {
		icon = mission_controloran
		required_missions = { 		 spa_reconquista  }
		position = 7

		provinces_to_highlight = { spa_control_oran_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_oran_provinces
			}
		}

		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			control_mission_cede = { PROVINCES = spa_control_oran_provinces }
			custom_tooltip = spa_control_oran_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_oran_claims
				TYPE = permanent_claim
			}
		}
	}

		spa_control_algiers = {
		icon = mission_controlalgiers
		required_missions = { 		 spa_control_oran  }
		position = 8

		provinces_to_highlight = { spa_control_algiers_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_algiers_provinces
			}
		}

		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			control_mission_cede = { PROVINCES = spa_control_algiers_provinces }
			custom_tooltip = spa_control_algiers_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_conquer_algiers_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_algiers = {
		icon = mission_conqueralgiers
		required_missions = { 		 spa_control_algiers  }
		position = 9

		provinces_to_highlight = { spa_conquer_algiers_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_conquer_algiers_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				336 = {
				add_building = fort_colonial
			}	
			custom_tooltip = spa_conquer_algiers_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_algiers_highlands_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_algiers_highlands = {
		icon = mission_algiershighlands
		required_missions = { 		 spa_conquer_algiers spa_conquer_kabylia  }
		position = 10

		provinces_to_highlight = { spa_algiers_highlands_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_algiers_highlands_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			dip_power = 50
			treasury = 200
		}

		effect = { 
				add_dip_power = -50
			add_treasury = -200
			assign_group_prov_modifier = {
				PROVINCES = spa_algiers_highlands_provinces
				TYPE = city
				MODIFIER = spa_plantation
				DURATION = -1
			}
			assign_group_trade_goods = {
				PROVINCES = spa_algiers_highlands_provinces
				TRADE_GOOD = wine
			}
			custom_tooltip = spa_algiers_highlands_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_algiers_highlands_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_algeria = {
		icon = mission_conqueralgeria
		required_missions = { 		 spa_algiers_highlands  }
		position = 11

		provinces_to_highlight = { algeria_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=algeria_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				consolidate_region = {
				TOOLTIP = spa_conquer_algeria.tooltip
				PROVINCES = algeria_common_provinces
			}
		}
	}

		spa_n_africa_reinos = {
		icon = mission_reinosmaghreb
		required_missions = { 		 spa_conquer_algeria spa_conquer_tunis spa_consolidate_morocco  }
		position = 12

		provinces_to_highlight = { n_africa_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=n_africa_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			adm_power = 400
		}

		effect = { 
				add_adm_power = -400
			add_country_modifier = {
				name = spa_n_africa
				duration = 9125
			}
		}
	}

		spa_magellan = {
		icon = mission_magellan
		required_missions = { 		  }
		position = 13

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_magellan.tooltip
				EVENT=IR_explorers.2
				BYPASS_DATE=1525
			}
		}

		effect = { 
				add_prestige = 25
		}
	}

		spa_cebu = {
		icon = mission_subsumecebu
		required_missions = { 		 spa_magellan  }
		position = 14

		trigger = { 
				treasury = 100
			dip_power = 50
			4352 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 4352
				COST = -100
				TRADE_GOOD = gems
				BUILDING = fort_colonial
			}
		}
	}

		spa_conquer_visayas = {
		icon = mission_conquervisayas
		required_missions = { 		 spa_cebu  }
		position = 15

		provinces_to_highlight = { visayas_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=visayas_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				4352 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			assign_group_trade_goods = {
				PROVINCES = visayas_common_provinces
				TRADE_GOOD = sugar
			}
		}
	}

		spa_conquer_palawan = {
		icon = mission_conquerpalawan
		required_missions = { 		 spa_conquer_visayas  }
		position = 16

		provinces_to_highlight = { palawan_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=palawan_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				4356 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
				add_building = fort_colonial
			}
		}
	}

		spa_conquer_philippines = {
		icon = mission_empire
		required_missions = { 		 spa_conquer_palawan spa_conquer_mindanao spa_conquer_luzon  }
		position = 17

		provinces_to_highlight = { philippine_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=philippine_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				656 = {	
				add_province_modifier = { 
					name = "spa_audiencia"
					duration = -1
				}
			}
		}
	}

		spa_moluccas = {
		icon = mission_empire
		required_missions = { 		 spa_conquer_philippines spa_discover_banda spa_sulu  }
		position = 18

		provinces_to_highlight = { spa_moluccas_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_moluccas_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				631 = {	
				add_province_modifier = { 
					name = "spa_audiencia"
					duration = -1
				}
			}
			635 = {	
				add_province_modifier = { 
					name = "spa_audiencia"
					duration = -1
				}
			}
		}
	}

		spa_discover_pacific = {
		icon = mission_discoverpacific
		required_missions = { 		   }
		position = 19

		provinces_to_highlight = { oceania_common_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_discover_pacific.tooltip
				PROVINCES=oceania_common_provinces
				NUM=1
			}
			has_idea = quest_for_the_new_world	
		}

		effect = { 
				add_country_modifier = {
				name = circumnavigation
				duration = 1095
			}
		}
	}

		spa_colonize_samoa = {
		icon = mission_colonial
		required_missions = { 		 spa_discover_pacific  }
		position = 20

		trigger = { 
				dip_power = 50
			treasury = 100
			828 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 1243
				COST = -100
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
		}
	}

		spa_colonize_hawaii = {
		icon = mission_colonial
		required_missions = { 		 spa_colonize_samoa  }
		position = 21

		provinces_to_highlight = { hawaii_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=hawaii_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				5029 = {
				change_trade_goods = gems
				add_building = fort_colonial
			}
			5817 = {
				add_building = fort_colonial
			}
		}
	}

		spa_polynesia = {
		icon = mission_empire
		required_missions = { 		 spa_colonize_hawaii spa_outpost_pacific  }
		position = 22

		provinces_to_highlight = { oceania_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=oceania_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				add_prestige = 10
			add_years_of_income = 3
			add_country_modifier = {
				name = "sun_never_sets"
				duration = 36500
			}
		}
	}

}
IR_castile_slot_3 = { 
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

		spa_eleanor_navarra = {
		icon = mission_eleanordenavarra
		required_missions = { 		 spa_defeat_infante  }
		position = 2

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_eleanor_navarra.tooltip
				EVENT=IR_flavor_SPA.12
				BYPASS_DATE=1470
			}
		}

		effect = { 
				add_dip_power = 50
		}
	}

		spa_vassalize_nav = {
		icon = mission_vassalisenavarra
		required_missions = { 		 spa_eleanor_navarra  }
		position = 3

		provinces_to_highlight = { is_core = NAV}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=	spa_vassalize_nav.tooltip
				TAG=NAV
			}
			adm_power = 100
		}

		effect = { 
				add_adm_power = -100
				add_casus_belli = {
					target = NAV
					type = cb_make_domain
					months = 240
			}
		}
	}
		spa_integrate_nav = {
		icon = mission_integratenavarre
		required_missions = { 		 spa_vassalize_nav  }
		position = 4

		provinces_to_highlight = { is_core = NAV}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=	spa_integrate_nav.tooltip
				TAG=NAV
			}
			adm_power = 200
			treasury = 200
			NAV = { 
				has_opinion = {
					who = ROOT
					value = 190
				}
			}
		}

		effect = { 
				add_adm_power = -200
			add_treasury = -200
			integrate_subject = {
				TAG = NAV
			}
		}
	}

	spa_integrate_andalucia = {
		icon = mission_integrateandalucia
		required_missions = { spa_control_granada spa_catholic_monarchs }
		position = 6

		trigger = { 
	SEV = { is_subject_of = ROOT }
CRD = { is_subject_of = ROOT }
JAE = { is_subject_of = ROOT }
MUR = { is_subject_of = ROOT }
is_year = 1480
dip_power = 200
		}

		effect = { 
	inherit = SEV
inherit = CRD
inherit = JAE
inherit = MUR
add_dip_power = -200
		}
	}

	spa_integrate_granada = {
		icon = mission_integrategranada
		required_missions = { spa_integrate_andalucia spa_inquisition }
		position = 7

		trigger = { 
	GR4 = { is_subject_of = ROOT }
is_year = 1492
dip_power = 100
		}

		effect = { 
	inherit = GR4
add_dip_power = -100
		}
	}

		spa_control_bougie = {
		icon = mission_obtainbougie
		required_missions = { 		 spa_control_oran  }
		position = 8

		provinces_to_highlight = { spa_control_bougie_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_bougie_provinces
			}
		}

		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			control_mission_cede = { PROVINCES = spa_control_bougie_provinces }
			custom_tooltip = spa_control_bougie_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_conquer_kabylia_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_kabylia = {
		icon = mission_conquerkabylia
		required_missions = { 		 spa_control_bougie  }
		position = 9

		provinces_to_highlight = { spa_conquer_kabylia_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_conquer_kabylia_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				custom_tooltip = spa_conquer_kabylia_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_control_tunis_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_control_tunis = {
		icon = mission_controltunis
		required_missions = { 		 spa_conquer_kabylia  }
		position = 10

		provinces_to_highlight = { spa_control_tunis_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_tunis_provinces
			}
		}

		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			control_mission_cede = { PROVINCES = spa_control_tunis_provinces }
			341 = {
				add_building = fort_colonial
			}
			custom_tooltip = spa_control_tunis_claims.tooltip
			assign_claim_core = {
				PROVINCES = tunisia_common_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_conquer_tunis = {
		icon = mission_conquertunisia
		required_missions = { 		 spa_control_tunis  }
		position = 11

		provinces_to_highlight = { tunisia_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=tunisia_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				consolidate_region = {
				TOOLTIP = spa_conquer_tunis.tooltip
				PROVINCES = tunisia_common_provinces
			}
			custom_tooltip = spa_conquer_tunis_claims.tooltip
			assign_claim_core = {
				PROVINCES = spa_control_tripoli_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_control_tripoli = {
		icon = mission_controltripoli
		required_missions = { 		 spa_conquer_tunis  }
		position = 12

		provinces_to_highlight = { spa_control_tripoli_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_tripoli_provinces
			}
		}

		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			control_mission_cede = { PROVINCES = spa_control_tripoli_provinces }
		}
	}

		spa_control_manila = {
		icon = mission_conquermanila
		required_missions = { 		 spa_cebu  }
		position = 15

		provinces_to_highlight = { spa_control_manila_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_control_manila_provinces
			}
		}

		effect = { 
				#Amyzonis - NEEDED CODE for CONTROL missions
			control_mission_cede = { PROVINCES = spa_control_manila_provinces }
			656 = {
				add_building = fort_colonial
			}
		}
	}

		spa_conquer_luzon = {
		icon = mission_conquerluzon
		required_missions = { 		 spa_control_manila  }
		position = 16

		provinces_to_highlight = { luzon_common_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=luzon_common_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				656 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
		}
	}

	spa_discover_banda = {
		icon = mission_discoverbanda
		required_missions = { 		  }
		position = 17

		provinces_to_highlight = { banda_common_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_discover_banda.tooltip
				PROVINCES=banda_common_provinces
				NUM=4
			}
			treasury = 50
			has_idea = quest_for_the_new_world	
		}

		effect = { 
			custom_subject = {
				TOOLTIP = spa_take_tidore.tooltip
				TAG = TID
				SUBJECT_TYPE = vassal
				PROVINCES = spa_tidore_provinces
			}
			TID = {
				custom_ruler = {
					LEADER = Juan
					DYNASTY = Saifuddin
					ADM = 2 
					DIP = 3 
					MIL = 3
					AGE = 42
					CLAIM = 90
					CULTURE = moluccan
					RELIGION = catholic
					FIXED = no
					GENDER = male
				}
			}
		}
	}

		spa_up_the_parana = {
		icon = mission_uptheparana
		required_missions = { 		 spa_discover_la_plata  }
		position = 19

		provinces_to_highlight = { spa_up_parana_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_up_the_parana.tooltip
				PROVINCES=spa_up_parana_provinces
				NUM=1
			}
			treasury = 50
			has_idea = quest_for_the_new_world	
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 775
				COST = -50
				TRADE_GOOD = tea
				BUILDING = fort_colonial
			}
		}
	}

		spa_paraguay = {
		icon = mission_jesuitsasparaguay
		required_missions = { 		 spa_up_the_parana  }
		position = 20

		provinces_to_highlight = { paraguay_colonial_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_paraguay.tooltip
				PROVINCES=paraguay_colonial_provinces
				NUM=10
			}
			adm_power = 50
			treasury = 150
		}

		effect = { 
				add_adm_power = -50
			add_treasury = -150
			775 = {
				center_of_trade = 2
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
		}
	}

}
IR_castile_slot_4 = { 
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

	spa_hermandad = {
		icon = mission_hermandad
		required_missions = { spa_juans_will }
		position = 2

		trigger = { 
				treasury = 100
			navy_tradition = 10
			navy_size_percentage = 0.9
		}

		effect = { 
				add_treasury = -100
			add_navy_tradition = 5
			1745 = { add_building = shipyard }
			10023 = { add_building = shipyard }
		}
	}

	spa_basque_naval = {
		icon = mission_basquenavalmethods
		required_missions = { spa_hermandad spa_eleanor_navarra }
		position = 3

		provinces_to_highlight = { is_core = VZC}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=spa_basque_naval.tooltip
				TAG=VZC
			}
			dip_power = 100
			treasury = 50
		}

		effect = { 
				add_dip_power = -100
			add_treasury = -50
			add_navy_tradition = 10
			add_country_modifier = {
				name = "spa_basque_sailors"
				duration = -1
			}
		}
	}

	spa_vassalize_vzc = {
		icon = mission_vizcaya
		required_missions = { spa_basque_naval }
		position = 4

		provinces_to_highlight = { is_core = VZC}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=spa_vassalize_vzc.tooltip
				TAG=VZC
			}
			adm_power = 200
			treasury = 200
			VZC = { 
				has_opinion = {
					who = ROOT
					value = 190
				}
			}
		}

		effect = { 
				add_adm_power = -200
			add_treasury = -200
			integrate_subject = {
				TAG = VZC
			}
		}
	}

		spa_catholic_monarchs = {
		icon = mission_catholicmonarchs
		required_missions = { 		 spa_defeat_beltraneja  }
		position = 5

		trigger = { 
				dip_power = 50
			PAP = { 
				has_opinion = {
					who = ROOT
					value = 100
				}
			}
		}

		effect = { 
				add_dip_power = -50
			add_prestige = 10
			add_papal_influence = 10
		}
	}

		spa_inquisition = {
		icon = mission_spainquisition
		required_missions = { 		 spa_catholic_monarchs  }
		position = 6

		trigger = { 
				adm_power = 100
			religion = catholic
			current_age = age_of_reformation
		}

		effect = { 
				add_adm_power = -100
			add_country_modifier = {
				name = spa_inquisition
				duration = -1
			}
		}
	}

	spa_cumana = {
		icon = mission_cumana
		required_missions = { spa_discover_colombia }
		position = 9

		trigger = { 
				dip_power = 50
			treasury = 100
			831 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 831
				COST = -100
				TRADE_GOOD = sugar
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_cumana_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_caracas = {
		icon = mission_caracas
		required_missions = { 		 spa_cumana  }
		position = 10

		trigger = { 
				dip_power = 50
			treasury = 100
			831 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 831
				COST = -100
				TRADE_GOOD = sugar
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_caracas_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_terra_firma = {
		icon = mission_neuvogranada
		required_missions = { 		 spa_caracas spa_colombia  }
		position = 12

		provinces_to_highlight = { spa_terra_firma_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_terra_firma_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			adm_power = 50
			treasury = 50
		}

		effect = { 
				add_adm_power = -50
			add_treasury = -50
			831 = {
				add_province_modifier = {
					name = spa_audiencia
					duration = -1 
				}
			}
		}
	}

		spa_orinoco = {
		icon = mission_losllanos
		required_missions = { 		 spa_terra_firma spa_conquer_musica  }
		position = 13

		provinces_to_highlight = { spa_orinoco_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_orinoco_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			adm_power = 50
			treasury = 50
		}

		effect = { 
				add_adm_power = -100
			add_treasury = -200
			assign_group_prov_modifier = {
				PROVINCES = spa_orinoco_provinces
				TYPE = city
				MODIFIER = spa_plantation
				DURATION = -1
			}
		}
	}

		spa_lima_galleons = {
		icon = mission_galeonmanila
		required_missions = { 		 spa_conquer_luzon spa_cuzco  }
		position = 17

		trigger = { 
				num_of_heavy_ship = 20
			1397 = { #Philippines
				trade_share = {
					country = ROOT
					share = 20
				}
			}
			809 = { #Lima
				trade_share = {
					country = ROOT
					share = 50
				}
			}
		}

		effect = { 
				1397 = { #Philippines
				add_trade_modifier = {
					who = ROOT
					duration = 18250
					power = 50
					key = spa_tornaviaje
				}
			}
			809 = { #Lima
				add_trade_modifier = {
					who = ROOT
					duration = 18250
					power = 50
					key = spa_tornaviaje
				}
			}
			835 = { #Panama
				add_trade_modifier = {
					who = ROOT
					duration = 18250
					power = 50
					key = spa_tornaviaje 
				}
			}
		}
	}

		spa_discover_la_plata = {
		icon = mission_rioplata
		required_missions = { 		  }
		position = 18

		provinces_to_highlight = { spa_discover_la_plata_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_discover_la_plata.tooltip
				PROVINCES=spa_discover_la_plata_provinces
				NUM=1
			}
			treasury = 50
			has_idea = quest_for_the_new_world	
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 778
				COST = -50
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
		}
	}

		spa_colonize_la_plata = {
		icon = mission_colonial
		required_missions = { 		 spa_discover_la_plata  }
		position = 19

		provinces_to_highlight = { spa_colonize_la_plata_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_colonize_la_plata_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				778 = {
				change_trade_goods = grain
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
			}
		}
	}

		spa_pampas = {
		icon = mission_pampas
		required_missions = { 		 spa_colonize_la_plata  }
		position = 20

		provinces_to_highlight = { spa_pampas_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_pampas_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			treasury = 100
			adm_power = 300
		}

		effect = { 
				add_adm_power = -300
			discover_mission_cede = {
				PROVINCE_ID = 2868
				COST = -100
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
			assign_group_prov_modifier = {
				PROVINCES = spa_pampas_provinces
				TYPE = city
				MODIFIER = spa_encomienda
				DURATION = -1
			}
			assign_group_trade_goods = {
				PROVINCES = spa_pampas_provinces
				TRADE_GOOD = grain
			}
		}
	}

		spa_patagonia = {
		icon = mission_patagonico
		required_missions = { 		 spa_pampas spa_chile  }
		position = 21

		provinces_to_highlight = { spa_patagonia_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_patagonia_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 1095
				COST = 0
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
		}
	}

}
IR_castile_slot_5 = { 
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

		spa_juans_will = {
		icon = mission_battleforthethrone
		required_missions = { 		  }
		position = 1

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_juans_will.tooltip
				EVENT=IR_flavor_SPA.3
				BYPASS_DATE=1456
			}
		}

		effect = { 
				add_prestige = 5
		}
	}

		spa_farce_avila = {
		icon = mission_avila
		required_missions = { 		 spa_juans_will  }
		position = 2

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_farce_avila.tooltip
				EVENT=IR_flavor_SPA.4
				BYPASS_DATE=1470
			}
		}

		effect = { 
				add_country_modifier = {
				name = spa_farce_avila
				duration = 1825
			}
		}
	}

		spa_iberian_wedding = {
		icon = mission_iberianwedding
		required_missions = { 		 spa_farce_avila  }
		position = 3

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_iberian_wedding.tooltip
				EVENT=IR_marriages.1
				BYPASS_DATE=1472
			}
		}

		effect = { 
				add_prestige = 5
			add_country_modifier = {
				name = spa_iberian_wedding
				duration = 3650
			}
		}
	}

		spa_defeat_beltraneja = {
		icon = mission_beltraneja
		required_missions = { 		 spa_iberian_wedding  }
		position = 4

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_defeat_beltraneja.tooltip
				EVENT=IR_flavor_SPA.23
				BYPASS_DATE=1485
			}
		}

		effect = { 
				add_country_modifier = {
				name = spa_beltraneja_defeated
				duration = 3650
			}
		}
	}

		spa_habsburg_heir = {
		icon = mission_hapsburgspain
		required_missions = { 		 spa_defeat_beltraneja  }
		position = 5

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_habsburg_heir.tooltip
				EVENT=IR_flavor_SPA.26
				BYPASS_DATE=1500
			}
		}

		effect = { 
				add_prestige = 5
		}
	}

		spa_comuneros = {
		icon = mission_communeros
		required_missions = { 		 spa_habsburg_heir  }
		position = 6

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_comuneros.tooltip
				EVENT=IR_flavor_SPA.43
				BYPASS_DATE=1525
			}
		}

		effect = { 
				add_country_modifier = {
				name = spa_charles_defeated
				duration = 3650
			}
		}
	}

		spa_discover_colombia = {
		icon = mission_colombia2
		required_missions = { 		 spa_puerto_rico  }
		position = 8

		provinces_to_highlight = { spa_discover_colombia_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_discover_colombia.tooltip
				PROVINCES=spa_discover_colombia_provinces
				NUM=1
			}
			treasury = 25
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 5579
				COST = -25
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
		}
	}

		spa_cabo_de_la_vela = {
		icon = mission_cabodelaveja
		required_missions = { 		 spa_discover_colombia  }
		position = 9

		provinces_to_highlight = { spa_guajira_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_cabo_de_la_vela.tooltip
				PROVINCES=spa_guajira_provinces
				NUM=1
			}
			treasury = 50
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 2806
				COST = -50
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_guajira_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_colombia = {
		icon = mission_castiliadeloro
		required_missions = { 		 spa_cartagena spa_cabo_de_la_vela  }
		position = 11

		provinces_to_highlight = { spa_castillo_de_oro_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_castillo_de_oro_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			adm_power = 50
		}

		effect = { 
				add_adm_power = -50
			828 = {
				add_province_modifier = {
					name = spa_audiencia
					duration = -1 
				}
			}
			custom_tooltip = spa_colombia.tooltip
			every_province = {
				limit = {
					spa_musica_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_conquer_musica = {
		icon = mission_muisica
		required_missions = { 		 spa_colombia  }
		position = 12

		provinces_to_highlight = { spa_musica_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_musica_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			MCA = { exists = no }
		}

		effect = { 
				825 = {
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
			}
		}
	}

		spa_popayan = {
		icon = mission_popayan
		required_missions = { 		 spa_conquer_musica spa_panama  }
		position = 13

		provinces_to_highlight = { spa_popayan_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_popayan_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
			custom_tooltip = spa_popayan_claims.tooltip			
			every_province = {
				limit = {
					spa_quito_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_control_quito = {
		icon = mission_controlquito
		required_missions = { 		 spa_popayan  }
		position = 14

		provinces_to_highlight = { spa_quito_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_quito_provinces
			}
		}

		effect = { 
				control_mission_cede = { PROVINCES = spa_quito_provinces }
			820 = {
				add_building = fort_colonial
			}
			custom_tooltip = spa_control_quito_claims.tooltip
			every_province = {
				limit = {
					spa_quito_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_control_peru_coast = {
		icon = mission_costainca
		required_missions = { 		 spa_control_quito  }
		position = 15

		provinces_to_highlight = { spa_peru_coast_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_peru_coast_provinces
			}
		}

		effect = { 
			control_mission_cede = { PROVINCES = spa_peru_coast_provinces }
			809 = {
				add_building = fort_colonial
			}
			812 = {
				add_building = fort_colonial
			}
			custom_tooltip = spa_control_peru_coast_claims.tooltip
			every_province = {
				limit = {
					spa_quito_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_cuzco = {
		icon = mission_conquestpizzaro
		required_missions = { 		 spa_control_peru_coast  }
		position = 16

		provinces_to_highlight = { spa_cuzco_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_cuzco_provinces
			}
		}

		effect = { 
				control_mission_cede = { PROVINCES = spa_cuzco_provinces }
			every_country = {
				limit = { capital_scope = { OR = { region = peru_region region = upper_peru_region } } }
				country_event = { id = IR_flavor_SPA.34 days = 30 random = 15 }
			}
		}
	}

		spa_arequiba = {
		icon = mission_arequipa
		required_missions = { 		 spa_cuzco  }
		position = 17

		trigger = { 
				dip_power = 100
			treasury = 100
			805 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -100
			discover_mission_cede = {
				PROVINCE_ID = 805
				COST = -100
				TRADE_GOOD = silver
				BUILDING = fort_colonial
			}
			805 = { center_of_trade = 1 }
			assign_colony_reserve = {
				PROVINCES = spa_atacama_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_atacama_coast = {
		icon = mission_annexatacama
		required_missions = { 		 spa_arequiba  }
		position = 18

		provinces_to_highlight = { spa_atacama_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_atacama_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				develop_region = {
				TOOLTIP = spa_atacama_coast.tooltip
				OWNER_TYPE = country_or_non_sovereign_subject_holds
				TAG = ROOT
				PROVINCES = spa_atacama_provinces 
				TAX = 1
				PROD = 1
				MIL = 1
			}
		}
	}

		spa_santiago = {
		icon = mission_settlesantiago
		required_missions = { 		 spa_atacama_coast  }
		position = 19

		trigger = { 
				dip_power = 100
			treasury = 100
			787 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -100
			discover_mission_cede = {
				PROVINCE_ID = 787
				COST = -100
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_chile_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_chile = {
		icon = mission_chile
		required_missions = { 		 spa_santiago  }
		position = 20

		provinces_to_highlight = { spa_chile_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_chile_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				784 = {
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
			}
		}
	}

}
IR_castile_slot_6 = { 
	slot = 6
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

	spa_segovia_alcazar = {
		icon = mission_alcazarsegovia
		required_missions = { spa_juans_will }
		position = 2

		trigger = { 
				treasury = 100
			army_tradition = 20
			4789 = { owned_by = ROOT }
		}

		effect = { 
				add_treasury = -100
			if = { 
				limit = { 4789 = { NOT = { has_province_modifier = spa_segovia_alcazar } } }
				4789 = {
					add_permanent_province_modifier = {
						name = "spa_segovia_alcazar"
						duration = -1
					}
				}
			}
		}
	}

	spa_madrid_alcazar = {
		icon = mission_alcazarmadrid
		required_missions = { spa_segovia_alcazar }
		position = 3

		trigger = { 
				treasury = 150
			mil_power = 50
			217 = { owned_by = ROOT }
		}

		effect = { 
				add_treasury = -150
			add_mil_power = -50
			set_capital = 217
			if = { 
				limit = { 217 = { NOT = { has_province_modifier = spa_madrid_alcazar } } }
				217 = {
					add_permanent_province_modifier = {
						name = "spa_madrid_alcazar"
						duration = -1
					}
				}
			}
		}
	}

	spa_integrate_toledo = {
		icon = mission_rb_monopolize_the_channel
		required_missions = { spa_iberian_wedding }
		position = 4

		trigger = { 
	TLD = { is_subject_of = ROOT }
		is_year = 1460
		dip_power = 100
	}
	effect = { 
		inherit = TLD
		add_dip_power = -100
		}
	}

	spa_capital_toledo = {
		icon = mission_rb_monopolize_the_channel
		required_missions = { spa_integrate_toledo }
		position = 5

		trigger = { 
	219 = { base_production = 10 base_manpower = 15 }
		}

		effect = { 
	if = {
limit = { has_building = town }
add_building = city
}
219 = { add_base_tax = 5 add_base_production = 3 }
		}
	}

		spa_cartagena = {
		icon = mission_cartagena
		required_missions = { 		 spa_cabo_de_la_vela  }
		position = 10

		trigger = { 
				dip_power = 50
			treasury = 100
			828 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 828
				COST = -100
				TRADE_GOOD = gold
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_cartagena_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_uraba = {
		icon = mission_golfouraba
		required_missions = { 		 spa_cartagena  }
		position = 11

		provinces_to_highlight = { spa_uraba_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_uraba_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			adm_power = 50
		}

		effect = { 
				add_adm_power = -50
			2819 = {
				add_building = fort_colonial
			}
		}
	}

		spa_panama = {
		icon = mission_istmopanama
		required_missions = { 		 spa_uraba  }
		position = 12

		trigger = { 
				dip_power = 50
			treasury = 100
			835 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 835
				COST = -100
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_veragua_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_veragua = {
		icon = mission_veragua
		required_missions = { 		 spa_panama  }
		position = 13

		provinces_to_highlight = { spa_veragua_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_veragua_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				2664 = {
				change_trade_goods = fish
				add_base_production = 3
				add_building = fort_colonial
			}
		}
	}

		spa_costa_rica = {
		icon = mission_costarica
		required_missions = { 		 spa_veragua  }
		position = 14

		provinces_to_highlight = { spa_costa_rica_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_costa_rica_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				2664 = {
				change_trade_goods = fish
				add_base_production = 3
				add_building = fort_colonial
			}
		}
	}

		spa_nicaragua = {
		icon = mission_nicaragua
		required_missions = { 		 spa_costa_rica spa_honduras  }
		position = 15

		provinces_to_highlight = { spa_nicaragua_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_nicaragua_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				2660 = {
				change_trade_goods = tobacco
				add_base_tax = 2
				add_base_production = 2
				add_building = fort_colonial
			}
		}
	}

		spa_potosi = {
		icon = mission_potosi
		required_missions = { 		 spa_cuzco  }
		position = 17

		provinces_to_highlight = { spa_potosi_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_potosi_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				795 = {
				add_base_production = 4
				add_base_manpower = 4
				add_building = fort_colonial
			}
		}
	}

		spa_antofagasta = {
		icon = mission_antofagasta
		required_missions = { 		 spa_potosi spa_atacama_coast  }
		position = 19

		trigger = { 
				dip_power = 50
			treasury = 100
			2841 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 2841
				COST = -100
				TRADE_GOOD = salt
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = bolivia_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_settle_bolivia = {
		icon = mission_altaperu
		required_missions = { 		 spa_antofagasta  }
		position = 20

		provinces_to_highlight = { bolivia_colonial_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=bolivia_colonial_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				add_prestige = 10
			2834 = {
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
			}
		}
	}

}
IR_castile_slot_7 = { 
	slot = 7
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

		spa_conquista_realenga = {
		icon = mission_conquistarealanga
		required_missions = { 		 spa_canary_kingdom  }
		position = 2

		provinces_to_highlight = { spa_guanche_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=owned_by_highlighted
				PROVINCES=spa_guanche_provinces
				OWNER_TYPE=owned_by
			}
			GLD = { exists = no }
			TAO = { exists = no }
			BNR = { exists = no }
		}

		effect = { 
				develop_region = {
				TOOLTIP = spa_develop_gua.tooltip
				OWNER_TYPE = country_or_non_sovereign_subject_holds
				TAG = ROOT
				PROVINCES = spa_guanche_provinces 
				TAX = 1
				PROD = 1
				MIL = 1
			}
		}
	}

		spa_christianize_canaries = {
		icon = mission_christianisecanaries
		required_missions = { 		 spa_conquista_realenga  }
		position = 3

		trigger = { 
				canaries_area = {
				type = all
				has_owner_religion = yes 
			}
		}

		effect = { 
				canaries_area = {
				change_culture = castillian 
			}	
		}
	}

	spa_integrate_extremadura = {
		icon = mission_integrateextremadura
		required_missions = { spa_iberian_wedding }
		position = 4

		trigger = { 
	EXT = { is_subject_of = ROOT }
is_year = 1470
dip_power = 50
		}

		effect = { 
	inherit = EXT
add_dip_power = -50
		}
	}

		spa_colombus = {
		icon = mission_colombus
		required_missions = { 		  }
		position = 6

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=spa_colombus.tooltip
				EVENT=IR_explorers.1
				BYPASS_DATE=1492
			}
		}

		effect = { 
				add_prestige = 25
		}
	}

		spa_puerto_rico = {
		icon = mission_laisladesanjuanbautisa
		required_missions = { 		 spa_colombus  }
		position = 7

		trigger = { 
				dip_power = 50
			treasury = 50
			492 = { has_discovered = ROOT }
			has_idea = quest_for_the_new_world
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 492
				COST = -50
				TRADE_GOOD = fruit
				BUILDING = fort_colonial
			}
			define_conquistador = {
				name = "Juan Ponce de Len"
   				shock = 3
   				fire = 1
   				manuever = 3
   				siege = 1
			}
		}
	}

		spa_chart_cuba = {
		icon = mission_chartcuba
		required_missions = { 		 spa_puerto_rico  }
		position = 8

		provinces_to_highlight = { cuba_colonial_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_chart_cuba.tooltip
				PROVINCES=cuba_colonial_provinces
				NUM=1
			}
			treasury = 100
			has_idea = quest_for_the_new_world
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 2654
				COST = -50
				TRADE_GOOD = fruit
				BUILDING = fort_colonial
			}
			discover_mission_cede = {
				PROVINCE_ID = 486
				COST = -50
				TRADE_GOOD = sugar
				BUILDING = fort_colonial
			}
			discover_mission_cede = {
				PROVINCE_ID = 484 
				COST = -50
				TRADE_GOOD = sugar
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = cuba_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_settle_cuba = {
		icon = mission_settlecuba
		required_missions = { 		 spa_chart_cuba  }
		position = 9

		provinces_to_highlight = { cuba_colonial_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=cuba_colonial_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				assign_group_prov_modifier = {
				PROVINCES = cuba_colonial_provinces
				TYPE = city
				MODIFIER = spa_plantation
				DURATION = -1
			}
		}
	}

		spa_discover_yucatan = {
		icon = mission_discoveryucatan
		required_missions = { 		 spa_settle_cuba  }
		position = 10

		provinces_to_highlight = { spa_discover_yucatan_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_discover_yucatan.tooltip
				PROVINCES=spa_discover_yucatan_provinces
				NUM=1
			}
		}

		effect = { 
				define_conquistador = {
				name = "Hernn Cortes"
				shock = 5
				fire = 1
				manuever = 3
				siege = 2
			}
			#claims on yucatan
			custom_tooltip = spa_yucatan_claims.tooltip			
			every_province = {
				limit = {
					spa_yucatan_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_seize_merida = {
		icon = mission_seizemerida
		required_missions = { 		 spa_discover_yucatan  }
		position = 11

		provinces_to_highlight = { spa_merida_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_merida_provinces
			}
		}

		effect = { 
				control_mission_cede = {
				PROVINCES = spa_merida_provinces
			}
			2633 = {
				add_building = fort_colonial
			}
		}
	}

		spa_yucatan = {
		icon = mission_takeyucatan
		required_missions = { 		 spa_seize_merida  }
		position = 12

		provinces_to_highlight = { spa_yucatan_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_yucatan_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
			custom_tooltip = spa_yucatan_claims.tooltip
			every_province = {
				limit = {
					spa_kiche_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_conquer_kiche = {
		icon = mission_conquerkiche
		required_missions = { 		 spa_yucatan  }
		position = 13

		provinces_to_highlight = { spa_kiche_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_kiche_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				4587 = {
				change_trade_goods = sugar
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
			}
		}
	}

		spa_honduras = {
		icon = mission_honduras
		required_missions = { 		 spa_conquer_kiche  }
		position = 14

		provinces_to_highlight = { spa_honduras_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_honduras_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				2640 = {
				change_trade_goods = silver
				add_building = fort_colonial
			}
		}
	}

		spa_baja_cali = {
		icon = mission_bajacalifornia
		required_missions = { 		 spa_sinaloa  }
		position = 16

		provinces_to_highlight = { spa_baja_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_baja_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			treasury = 75
		}

		effect = { 
				5862 = { 
				change_trade_goods = naval_supplies
				add_building = fort_colonial
			}
			discover_mission_cede = {
				PROVINCE_ID = 2476
				COST = -75
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
		}
	}

		spa_s_cali = {
		icon = mission_southcalifornia
		required_missions = { 		 spa_baja_cali  }
		position = 17

		provinces_to_highlight = { spa_s_cali_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_s_cali.tooltip
				PROVINCES=spa_s_cali_provinces
				NUM=10
			}
		}

		effect = { 
				5018 = { 
				change_trade_goods = naval_supplies
				add_building = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_s_cali_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_san_francisco = {
		icon = mission_sanfrancisco
		required_missions = { 		 spa_s_cali  }
		position = 18

		trigger = { 
				dip_power = 50
			treasury = 200
			2021 = { has_discovered = ROOT }
			2021 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 2021
				COST = -100
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
			discover_mission_cede = {
				PROVINCE_ID = 5030
				COST = -100
				TRADE_GOOD = wine
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_central_valley_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_central_valley = {
		icon = mission_centralvalley
		required_missions = { 		 spa_san_francisco  }
		position = 19

		provinces_to_highlight = { spa_central_valley_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_central_valley_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			adm_power = 100
			treasury = 500
		}

		effect = { 
				add_adm_power = -100
			add_treasury = -500
			assign_group_prov_modifier = {
				PROVINCES = spa_central_valley_provinces
				TYPE = city
				MODIFIER = spa_encomienda
				DURATION = -1
			}
		}
	}

		spa_n_cali = {
		icon = mission_northcalifornia
		required_missions = { 		 spa_central_valley  }
		position = 20

		provinces_to_highlight = { spa_n_cali_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_n_cali.tooltip
				PROVINCES=spa_n_cali_provinces
				NUM=16
			}
		}

		effect = { 
				2021 = {
				add_building = fort_colonial
			}
			5031 = {
				add_building = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_n_cali_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_oregon = {
		icon = mission_oregon
		required_missions = { 		 spa_n_cali spa_great_basin  }
		position = 21

		provinces_to_highlight = { oregon_colonial_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_oregon.tooltip
				PROVINCES=oregon_colonial_provinces
				NUM=20
			}
		}

		effect = { 
				873 = {
				add_building = fort_colonial
			}
			874 = {
				add_building = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = oregon_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_pacifico_norte = {
		icon = mission_pacificonorte
		required_missions = { 		 spa_oregon  }
		position = 22

		provinces_to_highlight = { spa_pacifico_norte_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_pacifico_norte.tooltip
				PROVINCES=spa_pacifico_norte_provinces
				NUM=30
			}
		}

		effect = { 
				973 = {
				add_building = fort_colonial
			}
			978 = {
				add_building = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_pacifico_norte_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

}
IR_castile_slot_8 = { 
	slot = 8
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

		spa_canary_kingdom = {
		icon = mission_reinocanarias
		required_missions = { 		  }
		position = 1

		provinces_to_highlight = { always = no }

		trigger = { 
			event_mission_trigger = {
				TOOLTIP=	spa_canary_kingdom.tooltip
				EVENT=IR_flavor_POR.4
				BYPASS_DATE=1455
			}
		}

		effect = { 
				custom_tooltip = spa_canary_kingdom_claims.tooltip
			assign_claim_core = {
				PROVINCES = canaries_core_provinces
				TYPE = permanent_claim
			}
		}
	}

		spa_rein_in_bethencourt = {
		icon = mission_bethencourt
		required_missions = { 		 spa_canary_kingdom  }
		position = 2

		provinces_to_highlight = { spa_rein_in_bethencourt_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_rein_in_bethencourt_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				inherit = CNR	
		}
	}

		spa_canaries_plantation = {
		icon = mission_haciendascanarias
		required_missions = { 		 spa_reclamar_lanzarote spa_conquista_realenga spa_rein_in_bethencourt  }
		position = 3

		provinces_to_highlight = { canaries_core_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=owned_by_highlighted
				PROVINCES=canaries_core_provinces
				OWNER_TYPE=owned_by
			}
			dip_power = 50
			treasury = 300
		}

		effect = { 
				add_dip_power = -50
			add_treasury = -300
			if = {
				limit = { CNR = { is_subject_of = ROOT } }
				integrate_subject = {
					TAG = CNR
				}
			}
			assign_group_prov_modifier = {
				PROVINCES = canaries_core_provinces
				TYPE = city
				MODIFIER = spa_plantation
				DURATION = -1
			}
			assign_group_trade_goods = {
				PROVINCES = spa_canaries_plantation_provinces
				TRADE_GOOD = sugar
			}
		}
	}

		spa_sardinia = {
		icon = mission_annexsardinia
		required_missions = { 		 spa_iberian_wedding  }
		position = 4

		provinces_to_highlight = { is_core = SAR}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=	spa_sardinia.tooltip
				TAG=SAR
			}
			dip_power = 100
			treasury = 200
			SAR = { 
				has_opinion = {
					who = ROOT
					value = 190
				}
			}
tag = SPA
		}

		effect = { 
				add_dip_power = -100
			add_treasury = -200
			integrate_subject = {
				TAG = SAR
			}
		}
	}

		spa_corsica = {
		icon = mission_annexcorsica
		required_missions = { 		 spa_sardinia  }
		position = 5

		provinces_to_highlight = { is_core = COR}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=	spa_corsica.tooltip
				TAG=COR
			}
			dip_power = 50
			treasury = 150
			COR = { 
				has_opinion = {
					who = ROOT
					value = 190
				}
			}
tag = SPA
		}

		effect = { 
				add_dip_power = -50
			add_treasury = -150
			integrate_subject = {
				TAG = COR
			}
		}
	}

		spa_hispaniola = {
		icon = mission_explorelaesp
		required_missions = { 		 spa_puerto_rico  }
		position = 8

		provinces_to_highlight = { hispaniola_colonial_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_hispaniola.tooltip
				PROVINCES=hispaniola_colonial_provinces
				NUM=1
			}
			treasury = 50
			has_idea = quest_for_the_new_world
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 4621
				COST = -50
				TRADE_GOOD = gold
				BUILDING = fort_colonial
			}
			add_country_modifier = {
				name = "spa_hispaniola_discovered"
				duration = 7300
			}
			define_explorer = {
				name = "Bartolomew Columbus"
   				shock = 2
   				fire = 2
   				manuever = 3
   				siege = 1
			}
			assign_colony_reserve = {
				PROVINCES = hispaniola_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_colonize_hispaniola = {
		icon = mission_colonisehispaniola
		required_missions = { 		 spa_hispaniola  }
		position = 9

		provinces_to_highlight = { hispaniola_colonial_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=hispaniola_colonial_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				assign_group_prov_modifier = {
				PROVINCES = hispaniola_colonial_provinces
				TYPE = city
				MODIFIER = spa_plantation
				DURATION = -1
			}
		}
	}

		spa_west_indies = {
		icon = mission_westindies
		required_missions = { 		 spa_settle_cuba spa_colonize_florida spa_colonize_hispaniola  }
		position = 10

		trigger = { 
				dip_power = 100
		}

		effect = { 
				add_dip_power = -100 
			add_prestige = 10
			assign_colony_reserve = {
				PROVINCES = caribbean_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 3650
			}
		}
	}

		spa_veracruz = {
		icon = mission_veracruz
		required_missions = { 		 spa_discover_yucatan  }
		position = 11

		provinces_to_highlight = { spa_veracruz_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_veracruz.tooltip
				PROVINCES=spa_veracruz_provinces
				NUM=1
			}
			treasury = 100
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 2647
				COST = -100
				TRADE_GOOD = sugar
				BUILDING = fort_colonial
			}
			custom_tooltip = spa_veracruz_claims.tooltip			
			every_province = {
				limit = {
					spa_tlaxcala_provinces = yes
				}
				add_permanent_claim = ROOT
			}
			
		}
	}

		spa_tlaxcala = {
		icon = mission_subsumetxaclaca
		required_missions = { 		 spa_veracruz  }
		position = 12

		provinces_to_highlight = { spa_tlaxcala_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_tlaxcala_provinces
			}
		}

		effect = { 
				control_mission_cede = { PROVINCES = spa_tlaxcala_provinces }
			custom_tooltip = spa_tlaxcala_claims.tooltip
			every_province = {
				limit = {
					spa_cortes_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_cortes = {
		icon = mission_cortez
		required_missions = { 		 spa_tlaxcala  }
		position = 13

		provinces_to_highlight = { spa_cortes_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=spa_cortes_provinces
			}
		}

		effect = { 
				control_mission_cede = { PROVINCES = spa_cortes_provinces }
			every_country = {
				limit = { religion = nahuatl capital_scope = { region = mexico_region NOT = { OR = { spa_tarascans_provinces = yes coahuila_colonial_provinces = yes sonora_colonial_provinces = yes durango_colonial_provinces = yes }}}}
				country_event = { id = IR_flavor_SPA.33 days = 30 random = 15 }
			}
			custom_tooltip = spa_cortes_claims.tooltip
			every_province = {
				limit = {
					spa_tarascans_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_tarascans = {
		icon = mission_cazonci
		required_missions = { 		 spa_cortes  }
		position = 14

		provinces_to_highlight = { spa_tarascans_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_tarascans_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				2621 = {
				add_building = fort_colonial
			}
			custom_tooltip = spa_tarascans_claims.tooltip
			every_province = {
				limit = {
					spa_zacatecas_provinces = yes
				}
				add_permanent_claim = ROOT
			}
		}
	}

		spa_sinaloa = {
		icon = mission_sinaloa
		required_missions = { 		 spa_tarascans  }
		position = 15

		trigger = { 
				dip_power = 75
			treasury = 150
			855 = { has_discovered = ROOT }
			5063 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -75
			discover_mission_cede = {
				PROVINCE_ID = 855
				COST = -75
				TRADE_GOOD = fish
				BUILDING = fort_colonial
			}
			discover_mission_cede = {
				PROVINCE_ID = 5063
				COST = -75
				TRADE_GOOD = grain
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_sinaloa_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_sonora = {
		icon = mission_sonora
		required_missions = { 		 spa_sinaloa  }
		position = 16

		provinces_to_highlight = { sonora_colonial_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_sonora.tooltip
				PROVINCES=sonora_colonial_provinces
				NUM=10
			}
			treasury = 100
		}

		effect = { 
				add_treasury = -100
			5063 = { center_of_trade = 1 }
		}
	}

		spa_colorado_river = {
		icon = mission_riocolorado
		required_missions = { spa_sonora }
		position = 17

		trigger = { 
				5043 = { has_discovered = ROOT }
		}

		effect = {
			discover_region = {
				TOOLTIP=spa_colorado.tooltip
				PROVINCES=spa_colorado_provinces
			}
			assign_colony_reserve = {
				PROVINCES=spa_colorado_provinces
				MODIFIER=spa_colony
				DURATION=18250
			}
		}
	}

	spa_arizona = {
		icon = mission_arizona
		required_missions = { spa_colorado_river spa_el_paso }
		position = 18

		provinces_to_highlight = { spa_colorado_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_colorado_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				876 = { 
				center_of_trade = 1
			}
			5858 = {
				add_building = fort_colonial
			}
		}
	}

		spa_great_salt_lake = {
		icon = mission_granlagosalado
		required_missions = { 		 spa_arizona  }
		position = 19

		trigger = { 
				dip_power = 50
			treasury = 100
			2490 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 2490
				COST = -100
				TRADE_GOOD = silver
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = great_basin_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_great_basin = {
		icon = mission_provhisp
		required_missions = { 		 spa_great_salt_lake  }
		position = 20

		provinces_to_highlight = { great_basin_colonial_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=great_basin_colonial_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			treasury = 250
		}

		effect = { 
				add_treasury = -250
			2490 = { center_of_trade = 2 }
			5772 = { center_of_trade = 1 }
		}
	}

		spa_new_orleans = {
		icon = mission_nuevaorleans
		required_missions = { 		 spa_texas  }
		position = 22

		provinces_to_highlight = { new_orleans_common_provinces = yes }

		trigger = { 
			control_mission_trigger = {
				TOOLTIP=country_holds_or_non_sovereign_subject_controls_highlighted
				PROVINCES=new_orleans_common_provinces
			}
		}

		effect = { 
				control_mission_cede = { PROVINCES = new_orleans_common_provinces }
			7402 = { 
				center_of_trade = 2
				add_building = fort_colonial
			}
		}
	}

		spa_louisiana = {
		icon = mission_annexluisiana
		required_missions = { 		 spa_new_orleans spa_upper_texas  }
		position = 23

		provinces_to_highlight = { louisiana_colonial_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_louisiana.tooltip
				PROVINCES=louisiana_colonial_provinces
				NUM=24
			}
		}

		effect = { 
				900 = { 
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
			}
			assign_colony_reserve = {
				PROVINCES = louisiana_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

}
IR_castile_slot_9 = { 
	slot = 9
	generic = no
	ai = yes
	potential = {
		OR = {
		tag = CAS
		tag = SPA
		}
	}
	has_country_shield = yes

		spa_reclamar_lanzarote = {
		icon = mission_lanzarote
		required_missions = { 		 spa_canary_kingdom  }
		position = 2

		trigger = { 
	10077 = { country_or_non_sovereign_subject_holds = ROOT }
		}

		effect = { 
				10077 = { add_base_production = 2 change_trade_goods = naval_supplies }
		}
	}

		spa_sicily = {
		icon = mission_sicily
		required_missions = { 		 spa_iberian_wedding  }
		position = 4

		provinces_to_highlight = { is_core = SIC}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=	spa_sicily.tooltip
				TAG=SIC
			}
			dip_power = 100
			treasury = 200
			SIC = { 
				has_opinion = {
					who = ROOT
					value = 190
				}
			}
tag = SPA
		}

		effect = { 
				add_dip_power = -100
			add_treasury = -200
			integrate_subject = {
				TAG = SIC
			}
		}
	}

		spa_naples = {
		icon = mission_espitalia
		required_missions = { 		 spa_sicily  }
		position = 5

		provinces_to_highlight = { is_core = NAP}

		trigger = { 
			vassalize_mission_trigger = {
				TOOLTIP=	spa_naples.tooltip
				TAG=NAP
			}
			dip_power = 400
			treasury = 500
			NAP = { 
				has_opinion = {
					who = ROOT
					value = 190
				}
			}
tag = SPA
		}

		effect = { 
				add_dip_power = -400
			add_treasury = -500
			integrate_subject = {
				TAG = NAP
			}
		}
	}

		spa_corfu = {
		icon = mission_corfu
		required_missions = { 		 spa_naples  }
		position = 6

		trigger = { 
				142 = { country_or_non_sovereign_subject_holds = ROOT }
		}

		effect = { 
				142 = {
				change_trade_goods = sugar
				add_building = fort_colonial
				add_province_modifier = {
					name = spa_plantation
					duration = -1
				}
			}
		}
	}

		spa_discover_florida = {
		icon = mission_establish_high_seas_navy
		required_missions = { 		 spa_puerto_rico  }
		position = 8

		provinces_to_highlight = { spa_florida_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_discover_florida.tooltip
				PROVINCES=spa_florida_provinces
				NUM=1
			}
			treasury = 75
			has_idea = quest_for_the_new_world
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 927
				COST = -75
				TRADE_GOOD = gold
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_florida_provinces
				MODIFIER = spa_colony
				DURATION = 9125
			}
		}
	}

		spa_colonize_florida = {
		icon = mission_colonial
		required_missions = { 		 spa_discover_florida  }
		position = 9

		provinces_to_highlight = { spa_florida_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_florida_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
		}

		effect = { 
				assign_group_prov_modifier = {
				PROVINCES = spa_florida_provinces
				TYPE = city
				MODIFIER = spa_plantation
				DURATION = -1
			}
		}
	}

		spa_settle_puebla = {
		icon = mission_pueblalosangeles
		required_missions = { 		 spa_tlaxcala  }
		position = 13

		trigger = { 
				adm_power = 75
			treasury = 100
			2644 = { country_or_non_sovereign_subject_holds = ROOT }
		}

		effect = { 
				add_adm_power = -75
			add_treasury = -100
			2644 = {
				add_permanent_province_modifier = {
					name = spa_puebla
					duration = -1
				}
			}
		}
	}

		spa_fill_lake_texcoco = {
		icon = mission_texaco
		required_missions = { 		 spa_cortes  }
		position = 14

		trigger = { 
				adm_power = 200
			treasury = 300
			852 = { country_or_non_sovereign_subject_holds = ROOT }
			4570 = { country_or_non_sovereign_subject_holds = ROOT }
		}

		effect = { 
				add_adm_power = -200
			add_treasury = -300
			852 = {
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
				add_permanent_province_modifier = {
					name = lake_texcoco_filled
					duration = -1
				}
			}
			4570 = {
				add_permanent_province_modifier = {
					name = lake_texcoco_filled
					duration = -1
				}
			}
		}
	}

		spa_zacatecas = {
		icon = mission_zacatecas
		required_missions = { 		 spa_tarascans  }
		position = 15

		provinces_to_highlight = { spa_zacatecas_provinces = yes }

		trigger = { 
			conquest_mission_trigger = {
				TOOLTIP=country_or_non_sovereign_subject_holds_highlighted
				PROVINCES=spa_zacatecas_provinces
				OWNER_TYPE=country_or_non_sovereign_subject_holds
			}
			treasury = 50
		}

		effect = { 
				857 = {
				change_trade_goods = gold
			}
			discover_mission_cede = {
				PROVINCE_ID = 2614
				COST = -50
				TRADE_GOOD = livestock
				BUILDING = fort_colonial
			}
		}
	}

		spa_durango = {
		icon = mission_durango
		required_missions = { 		 spa_zacatecas  }
		position = 16

		provinces_to_highlight = { durango_colonial_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_durango.tooltip
				PROVINCES=durango_colonial_provinces
				NUM=5
			}
			treasury = 50
		}

		effect = { 
				ROOT = { discover_province = 5832 }
			ROOT = { discover_province = 5830 }
			ROOT = { discover_province = 4631 }
			ROOT = { discover_province = 880 }
			discover_mission_cede = {
				PROVINCE_ID = 880
				COST = -50
				TRADE_GOOD = livestock
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = durango_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_el_paso = {
		icon = mission_elpaso
		required_missions = { 		 spa_durango  }
		position = 17

		trigger = { 
				dip_power = 50
			treasury = 100
			5832 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 5832
				COST = -100
				TRADE_GOOD = livestock
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = spa_rio_grande_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_cross_rio_grande = {
		icon = mission_riogrande
		required_missions = { 		 spa_el_paso  }
		position = 18

		provinces_to_highlight = { spa_rio_grande_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_cross_rio_grande.tooltip
				PROVINCES=spa_rio_grande_provinces
				NUM=24
			}
		}

		effect = { 
				5832 = { center_of_trade = 1 }
			880 = { center_of_trade = 1 }
			2499 = { center_of_trade = 1 }
		}
	}

		spa_galveston = {
		icon = mission_galveston
		required_missions = { 		 spa_cross_rio_grande  }
		position = 19

		trigger = { 
				dip_power = 50
			treasury = 100
			884 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 884
				COST = -100
				TRADE_GOOD = naval_supplies
				BUILDING = fort_colonial
			}
		}
	}

		spa_san_antonio = {
		icon = mission_sanantonio
		required_missions = { 		 spa_galveston  }
		position = 20

		trigger = { 
				dip_power = 50
			treasury = 100
			4627 = { has_discovered = ROOT }
		}

		effect = { 
				add_dip_power = -50
			discover_mission_cede = {
				PROVINCE_ID = 4627
				COST = -100
				TRADE_GOOD = cloth
				BUILDING = fort_colonial
			}
			hidden_effect = {
				colonial_texas = {
					add_permanent_claim = ROOT
				}
			}
		}
	}

		spa_texas = {
		icon = mission_texas
		required_missions = { 		 spa_san_antonio  }
		position = 21

		provinces_to_highlight = { texas_colonial_provinces = yes }

		trigger = { 
			num_colonized_mission_trigger = {
				TOOLTIP=	spa_texas.tooltip
				PROVINCES=texas_colonial_provinces
				NUM=12
			}
		}

		effect = { 
				discover_mission_cede = {
				PROVINCE_ID = 7500
				COST = -200
				TRADE_GOOD = livestock
				BUILDING = fort_colonial
			}
			assign_colony_reserve = {
				PROVINCES = texas_colonial_provinces
				MODIFIER = spa_colony
				DURATION = 18250
			}
		}
	}

		spa_upper_texas = {
		icon = mission_altatejas
		required_missions = { 		 spa_texas  }
		position = 22

		provinces_to_highlight = { texas_colonial_provinces = yes }

		trigger = { 
			discover_mission_trigger = {
				TOOLTIP=	spa_upper_texas.tooltip
				PROVINCES=texas_colonial_provinces
				NUM=50
			}
		}

		effect = { 
				4627 = {
				add_province_modifier = {
					name = spa_audiencia
					duration = -1
				}
			}
		}
	}

}

